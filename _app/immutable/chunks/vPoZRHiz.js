import"./DsnmJJEf.js";import"./B6lYapqp.js";import{B as C,o as N,k as g,p as qe,y as ie,a2 as Be,O as Fe,w as x,v as He,j as h,u as o,q as s,t as y,x as l,z as Je,A as a,at as Ue}from"./X4qjwA50.js";import{I as D,s as E}from"./CRJZpbrG.js";import{l as G,s as j,p as xe,i as M}from"./BGpg0XVn.js";import{d as We,s as c}from"./JmLgoKLb.js";import{e as Qe,a as T,$ as Re,s as Ve,i as Xe,r as le}from"./Da70ei3y.js";import{b as A}from"./BPjVGcEY.js";import{a as Ze,s as et}from"./CjDeeOcX.js";import{M as tt,T as at,S as st}from"./AyiQWXjM.js";import{a as oe,D as k,G as rt,S as it,b as lt}from"./Cq1FyKpK.js";function Pt(u,n){const t=G(n,["children","$$slots","$$events","$$legacy"]);const _=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}],["path",{d:"m9 11 3 3L22 4"}]];D(u,j({name:"circle-check-big"},()=>t,{get iconNode(){return _},children:(b,w)=>{var p=C(),r=N(p);E(r,n,"default",{}),g(b,p)},$$slots:{default:!0}}))}function St(u,n){const t=G(n,["children","$$slots","$$events","$$legacy"]);const _=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}],["path",{d:"M2 12h20"}]];D(u,j({name:"globe"},()=>t,{get iconNode(){return _},children:(b,w)=>{var p=C(),r=N(p);E(r,n,"default",{}),g(b,p)},$$slots:{default:!0}}))}function zt(u,n){const t=G(n,["children","$$slots","$$events","$$legacy"]);const _=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z"}]];D(u,j({name:"play"},()=>t,{get iconNode(){return _},children:(b,w)=>{var p=C(),r=N(p);E(r,n,"default",{}),g(b,p)},$$slots:{default:!0}}))}function Mt(u,n){const t=G(n,["children","$$slots","$$events","$$legacy"]);const _=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]];D(u,j({name:"settings"},()=>t,{get iconNode(){return _},children:(b,w)=>{var p=C(),r=N(p);E(r,n,"default",{}),g(b,p)},$$slots:{default:!0}}))}var ot=h('<div class="w-2 h-2 rounded-full bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.5)]"></div>'),nt=h('<button><div class="flex-1"><div class="font-bold text-sm"> </div></div> <!></button>'),dt=h('<div class="text-[10px] text-emerald-400 flex items-center gap-1 bg-emerald-400/10 px-2 py-0.5 rounded-full border border-emerald-400/20"><div class="w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"></div> </div>'),ct=h('<button class="absolute right-2 top-1/2 -translate-y-1/2 text-[10px] bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 px-2 py-1 rounded-md transition-colors"> </button>'),pt=h('<p class="text-[10px] text-red-400 mt-1"> </p>'),vt=h('<p class="text-[10px] text-slate-500 mt-1"> </p>'),mt=h('<div class="space-y-4"><div><label class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest flex items-center gap-1"><!> </label> <div class="p-3 bg-slate-800 rounded-lg border border-slate-700 text-slate-300 text-sm font-bold flex items-center gap-2"> <span class="text-[9px] bg-slate-700 text-slate-400 px-1.5 py-0.5 rounded uppercase tracking-wider ml-auto"> </span></div></div> <div><label class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest flex items-center gap-1"><!> </label> <div class="grid grid-cols-2 gap-2"></div></div> <div><label for="campaign-name" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest"> </label> <input id="campaign-name" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div> <div><label for="campaign-gm" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest"> </label> <input id="campaign-gm" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div> <div><label for="campaign-desc" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest"> </label> <textarea id="campaign-desc" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors resize-none" rows="3"></textarea></div> <div><label for="campaign-pwd" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest flex items-center justify-between"><div class="flex items-center gap-1"><!> </div> <!></label> <div class="relative"><input type="password" id="campaign-pwd" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors pr-24"/> <!></div> <!></div></div> <div class="flex flex-col-reverse sm:flex-row gap-3 mt-6"><button class="flex-1 bg-slate-700 hover:bg-slate-600 text-white py-4 sm:py-3 rounded-xl font-bold transition-all active:scale-95"> </button> <button class="flex-1 bg-indigo-600 hover:bg-indigo-500 text-white py-4 sm:py-3 rounded-xl font-bold shadow-lg shadow-indigo-900/20 transition-all active:scale-95"> </button></div>',1);function Tt(u,n){qe(n,!0);const t=()=>et(Re,"$t",_),[_,b]=Ze();let w=xe(n,"isOpen",3,!1),p=xe(n,"initialData",3,"{}"),r=ie(Be({name:"",description:"",gmName:"",password:"",removePassword:!1,system:k,tier:oe(k)})),$=ie(!1),ne=ie(!1);Fe(()=>{if(w())try{const m=JSON.parse(p());x(r,{name:m.name||"",description:m.description||"",gmName:m.gmName||"",password:"",removePassword:!1,system:m.system||k,tier:m.tier||oe(m.system||k)},!0),x($,!!m.passwordHash),x(ne,!!m.id)}catch{x(r,{name:"",description:"",gmName:"",password:"",removePassword:!1,system:k,tier:oe(k)},!0),x($,!1),x(ne,!1)}});function he(){n.onSave({...l(r)})}{let m=Je(()=>t()("campaign.settings.title"));tt(u,{get isOpen(){return w()},get onClose(){return n.onClose},get title(){return l(m)},maxWidth:"max-w-md",children:(we,gt)=>{var de=mt(),I=N(de),K=s(I),L=s(K),ce=s(L);rt(ce,{size:12});var $e=o(ce);a(L);var pe=o(L,2),ve=s(pe),me=o(ve),ye=s(me,!0);a(me),a(pe),a(K);var O=o(K,2),Y=s(O),ge=s(Y);at(ge,{size:12});var ke=o(ge);a(Y);var ue=o(Y,2);Qe(ue,21,()=>lt(l(r).system),Xe,(e,i)=>{var d=nt();d.__click=()=>l(r).tier=l(i).value;var v=s(d),z=s(v),te=s(z,!0);a(z),a(v);var ae=o(v,2);{var se=f=>{var re=ot();g(f,re)};M(ae,f=>{l(r).tier===l(i).value&&f(se)})}a(d),y(f=>{Ve(d,1,`relative flex items-center p-3 rounded-lg border text-left transition-all ${l(r).tier===l(i).value?"bg-indigo-600/20 border-indigo-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-600"}`),c(te,f)},[()=>t()(l(i).labelKey)]),g(e,d)}),a(ue),a(O);var q=o(O,2),B=s(q),Ne=s(B,!0);a(B);var F=o(B,2);le(F),a(q);var H=o(q,2),J=s(H),Pe=s(J,!0);a(J);var U=o(J,2);le(U),a(H);var W=o(H,2),Q=s(W),Se=s(Q,!0);a(Q);var R=o(Q,2);Ue(R),a(W);var _e=o(W,2),V=s(_e),X=s(V),be=s(X);st(be,{size:12});var ze=o(be);a(X);var Me=o(X,2);{var Te=e=>{var i=dt(),d=o(s(i));a(i),y(v=>c(d,` ${v??""}`),[()=>t()("campaign.settings.password_protected")]),g(e,i)};M(Me,e=>{l($)&&e(Te)})}a(V);var Z=o(V,2),P=s(Z);le(P);var Ae=o(P,2);{var Ce=e=>{var i=ct();i.__click=()=>{l(r).removePassword=!0,x($,!1)};var d=s(i,!0);a(i),y(v=>c(d,v),[()=>t()("campaign.settings.password_remove")]),g(e,i)};M(Ae,e=>{l($)&&e(Ce)})}a(Z);var De=o(Z,2);{var Ee=e=>{var i=pt(),d=s(i,!0);a(i),y(v=>c(d,v),[()=>t()("campaign.settings.password_remove_info")]),g(e,i)},Ge=e=>{var i=vt(),d=s(i,!0);a(i),y(v=>c(d,v),[()=>t()("campaign.settings.password_info")]),g(e,i)};M(De,e=>{l(r).removePassword?e(Ee):e(Ge,!1)})}a(_e),a(I);var fe=o(I,2),S=s(fe);S.__click=function(...e){n.onClose?.apply(this,e)};var je=s(S,!0);a(S);var ee=o(S,2);ee.__click=he;var Ie=s(ee,!0);a(ee),a(fe),y((e,i,d,v,z,te,ae,se,f,re,Ke,Le,Oe,Ye)=>{c($e,` ${e??""}`),c(ve,`${i??""} `),c(ye,d),c(ke,` ${v??""}`),c(Ne,z),T(F,"placeholder",te),c(Pe,ae),T(U,"placeholder",se),c(Se,f),T(R,"placeholder",re),c(ze,` ${Ke??""}`),T(P,"placeholder",Le),c(je,Oe),c(Ie,Ye)},[()=>t()("campaign.settings.system_label"),()=>(()=>{const e=it.find(i=>i.id===l(r).system);return e?t()(e.nameKey):t()("campaign.settings.system_unknown")})(),()=>t()("campaign.settings.fixed"),()=>t()("campaign.settings.tier"),()=>t()("campaign.settings.name_label"),()=>t()("campaign.settings.name_placeholder"),()=>t()("campaign.settings.gm_label"),()=>t()("campaign.settings.gm_placeholder"),()=>t()("campaign.settings.description_label"),()=>t()("campaign.settings.description_placeholder"),()=>t()("campaign.settings.password_label"),()=>l($)?t()("campaign.settings.password_change_placeholder"):t()("campaign.settings.password_empty_placeholder"),()=>t()("common.buttons.cancel"),()=>t()("common.buttons.save")]),A(F,()=>l(r).name,e=>l(r).name=e),A(U,()=>l(r).gmName,e=>l(r).gmName=e),A(R,()=>l(r).description,e=>l(r).description=e),A(P,()=>l(r).password,e=>l(r).password=e),g(we,de)},$$slots:{default:!0}})}He(),b()}We(["click"]);export{Pt as C,St as G,zt as P,Mt as S,Tt as a};
