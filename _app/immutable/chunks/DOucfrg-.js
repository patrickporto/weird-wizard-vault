import"./DsnmJJEf.js";import"./BmPwc1c7.js";import{u as F,v as N,k as c,w as Sa,D as xe,a9 as za,V as Ta,A as y,z as Ca,j as b,y as i,x as t,B as l,t as k,E as Aa,F as a,aw as Ga}from"./EigO5Itq.js";import{I,s as K}from"./D-_OqhXn.js";import{l as Y,s as B,p as Ye,i as f}from"./EUrPnace.js";import{d as ja,s as d}from"./CE5Oy5gg.js";import{e as Fa,a as G,s as E,$ as Ia,i as Ka,r as fe}from"./B3FtJd8P.js";import{b as j}from"./BCBy6CnT.js";import{a as Ya,s as Ba}from"./x7t77AVd.js";import{M as Ha,T as Ja,S as La,E as Be}from"./DLypMdTJ.js";import{a as he,D as M,G as Oa,S as Ua,b as Va}from"./pDEUQP3R.js";function ut(_,n){const r=Y(n,["children","$$slots","$$events","$$legacy"]);const u=[["path",{d:"m6 9 6 6 6-6"}]];I(_,B({name:"chevron-down"},()=>r,{get iconNode(){return u},children:(x,w)=>{var p=F(),s=N(p);K(s,n,"default",{}),c(x,p)},$$slots:{default:!0}}))}function xt(_,n){const r=Y(n,["children","$$slots","$$events","$$legacy"]);const u=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}],["path",{d:"M2 12h20"}]];I(_,B({name:"globe"},()=>r,{get iconNode(){return u},children:(x,w)=>{var p=F(),s=N(p);K(s,n,"default",{}),c(x,p)},$$slots:{default:!0}}))}function ft(_,n){const r=Y(n,["children","$$slots","$$events","$$legacy"]);const u=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z"}]];I(_,B({name:"play"},()=>r,{get iconNode(){return u},children:(x,w)=>{var p=F(),s=N(p);K(s,n,"default",{}),c(x,p)},$$slots:{default:!0}}))}function ht(_,n){const r=Y(n,["children","$$slots","$$events","$$legacy"]);const u=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]];I(_,B({name:"settings"},()=>r,{get iconNode(){return u},children:(x,w)=>{var p=F(),s=N(p);K(s,n,"default",{}),c(x,p)},$$slots:{default:!0}}))}var Wa=b('<div class="w-2 h-2 rounded-full bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.5)]"></div>'),qa=b('<button><div class="flex-1"><div class="font-bold text-sm"> </div></div> <!></button>'),Qa=b('<div class="text-[10px] text-emerald-400 flex items-center gap-1 bg-emerald-400/10 px-2 py-0.5 rounded-full border border-emerald-400/20"><div class="w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"></div> </div>'),Ra=b('<button class="absolute right-2 top-1/2 -translate-y-1/2 text-[10px] bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 px-2 py-1 rounded-md transition-colors"> </button>'),Xa=b('<p class="text-[10px] text-red-400 mt-1"> </p>'),Za=b('<p class="text-[10px] text-slate-500 mt-1"> </p>'),et=b('<div class="w-2 h-2 rounded-full bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.5)]"></div>'),at=b('<div class="w-2 h-2 rounded-full bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.5)]"></div>'),tt=b('<div class="w-2 h-2 rounded-full bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.5)]"></div>'),st=b('<div class="w-2 h-2 rounded-full bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.5)]"></div>'),rt=b('<div class="space-y-4"><div><label class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest flex items-center gap-1"><!> </label> <div class="p-3 bg-slate-800 rounded-lg border border-slate-700 text-slate-300 text-sm font-bold flex items-center gap-2"> <span class="text-[9px] bg-slate-700 text-slate-400 px-1.5 py-0.5 rounded uppercase tracking-wider ml-auto"> </span></div></div> <div><label class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest flex items-center gap-1"><!> </label> <div class="grid grid-cols-2 gap-2"></div></div> <div><label for="campaign-name" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest"> </label> <input id="campaign-name" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div> <div><label for="campaign-gm" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest"> </label> <input id="campaign-gm" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div> <div><label for="campaign-desc" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest"> </label> <textarea id="campaign-desc" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors resize-none" rows="3"></textarea></div> <div><label for="campaign-pwd" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest flex items-center justify-between"><div class="flex items-center gap-1"><!> </div> <!></label> <div class="relative"><input type="password" id="campaign-pwd" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors pr-24"/> <!></div> <!></div> <div><label class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest flex items-center gap-1"><!> </label> <div class="grid grid-cols-2 gap-2"><button><div class="flex-1"><div class="font-bold text-sm"> </div></div> <!></button> <button><div class="flex-1"><div class="font-bold text-sm"> </div></div> <!></button></div></div> <div><label class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest flex items-center gap-1"><!> </label> <div class="grid grid-cols-2 gap-2"><button><div class="flex-1"><div class="font-bold text-sm"> </div></div> <!></button> <button><div class="flex-1"><div class="font-bold text-sm"> </div></div> <!></button></div></div></div> <div class="flex flex-col-reverse sm:flex-row gap-3 mt-6"><button class="flex-1 bg-slate-700 hover:bg-slate-600 text-white py-4 sm:py-3 rounded-xl font-bold transition-all active:scale-95"> </button> <button class="flex-1 bg-indigo-600 hover:bg-indigo-500 text-white py-4 sm:py-3 rounded-xl font-bold shadow-lg shadow-indigo-900/20 transition-all active:scale-95"> </button></div>',1);function yt(_,n){Sa(n,!0);const r=()=>Ba(Ia,"$t",u),[u,x]=Ya();let w=Ye(n,"isOpen",3,!1),p=Ye(n,"initialData",3,"{}"),s=xe(za({name:"",description:"",gmName:"",password:"",removePassword:!1,system:M,tier:he(M),healthDisplayModePlayer:"bar",healthDisplayModeEnemy:"bar"})),$=xe(!1),ye=xe(!1);Ta(()=>{if(w())try{const g=JSON.parse(p());y(s,{name:g.name||"",description:g.description||"",gmName:g.gmName||"",password:"",removePassword:!1,system:g.system||M,tier:g.tier||he(g.system||M),healthDisplayModePlayer:g.healthDisplayModePlayer||"bar",healthDisplayModeEnemy:g.healthDisplayModeEnemy||"bar"},!0),y($,!!g.passwordHash),y(ye,!!g.id)}catch{y(s,{name:"",description:"",gmName:"",password:"",removePassword:!1,system:M,tier:he(M),healthDisplayModePlayer:"bar",healthDisplayModeEnemy:"bar"},!0),y($,!1),y(ye,!1)}});function He(){n.onSave({...l(s)})}{let g=Aa(()=>r()("campaign.settings.title"));Ha(_,{get isOpen(){return w()},get onClose(){return n.onClose},get title(){return l(g)},maxWidth:"max-w-md",children:(Je,lt)=>{var we=rt(),H=N(we),J=t(H),L=t(J),$e=t(L);Oa($e,{size:12});var Le=i($e);a(L);var ke=i(L,2),Me=t(ke),De=i(Me),Oe=t(De,!0);a(De),a(ke),a(J);var O=i(J,2),U=t(O),Pe=t(U);Ja(Pe,{size:12});var Ue=i(Pe);a(U);var Ee=i(U,2);Fa(Ee,21,()=>Va(l(s).system),Ka,(e,o)=>{var v=qa();v.__click=()=>l(s).tier=l(o).value;var m=t(v),A=t(m),me=t(A,!0);a(A),a(m);var be=i(m,2);{var _e=h=>{var ue=Wa();c(h,ue)};f(be,h=>{l(s).tier===l(o).value&&h(_e)})}a(v),k(h=>{E(v,1,`relative flex items-center p-3 rounded-lg border text-left transition-all ${l(s).tier===l(o).value?"bg-indigo-600/20 border-indigo-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-600"}`),d(me,h)},[()=>r()(l(o).labelKey)]),c(e,v)}),a(Ee),a(O);var V=i(O,2),W=t(V),Ve=t(W,!0);a(W);var q=i(W,2);fe(q),a(V);var Q=i(V,2),R=t(Q),We=t(R,!0);a(R);var X=i(R,2);fe(X),a(Q);var Z=i(Q,2),ee=t(Z),qe=t(ee,!0);a(ee);var ae=i(ee,2);Ga(ae),a(Z);var te=i(Z,2),se=t(te),re=t(se),Ne=t(re);La(Ne,{size:12});var Qe=i(Ne);a(re);var Re=i(re,2);{var Xe=e=>{var o=Qa(),v=i(t(o));a(o),k(m=>d(v,` ${m??""}`),[()=>r()("campaign.settings.password_protected")]),c(e,o)};f(Re,e=>{l($)&&e(Xe)})}a(se);var le=i(se,2),S=t(le);fe(S);var Ze=i(S,2);{var ea=e=>{var o=Ra();o.__click=()=>{l(s).removePassword=!0,y($,!1)};var v=t(o,!0);a(o),k(m=>d(v,m),[()=>r()("campaign.settings.password_remove")]),c(e,o)};f(Ze,e=>{l($)&&e(ea)})}a(le);var aa=i(le,2);{var ta=e=>{var o=Xa(),v=t(o,!0);a(o),k(m=>d(v,m),[()=>r()("campaign.settings.password_remove_info")]),c(e,o)},sa=e=>{var o=Za(),v=t(o,!0);a(o),k(m=>d(v,m),[()=>r()("campaign.settings.password_info")]),c(e,o)};f(aa,e=>{l(s).removePassword?e(ta):e(sa,!1)})}a(te);var ie=i(te,2),oe=t(ie),Se=t(oe);Be(Se,{size:12});var ra=i(Se);a(oe);var ze=i(oe,2),D=t(ze);D.__click=()=>l(s).healthDisplayModePlayer="bar";var de=t(D),Te=t(de),la=t(Te,!0);a(Te),a(de);var ia=i(de,2);{var oa=e=>{var o=et();c(e,o)};f(ia,e=>{l(s).healthDisplayModePlayer==="bar"&&e(oa)})}a(D);var z=i(D,2);z.__click=()=>l(s).healthDisplayModePlayer="estimate";var ne=t(z),Ce=t(ne),da=t(Ce,!0);a(Ce),a(ne);var na=i(ne,2);{var va=e=>{var o=at();c(e,o)};f(na,e=>{l(s).healthDisplayModePlayer==="estimate"&&e(va)})}a(z),a(ze),a(ie);var Ae=i(ie,2),ve=t(Ae),Ge=t(ve);Be(Ge,{size:12});var ca=i(Ge);a(ve);var je=i(ve,2),P=t(je);P.__click=()=>l(s).healthDisplayModeEnemy="bar";var ce=t(P),Fe=t(ce),pa=t(Fe,!0);a(Fe),a(ce);var ga=i(ce,2);{var ma=e=>{var o=tt();c(e,o)};f(ga,e=>{l(s).healthDisplayModeEnemy==="bar"&&e(ma)})}a(P);var T=i(P,2);T.__click=()=>l(s).healthDisplayModeEnemy="estimate";var pe=t(T),Ie=t(pe),ba=t(Ie,!0);a(Ie),a(pe);var _a=i(pe,2);{var ua=e=>{var o=st();c(e,o)};f(_a,e=>{l(s).healthDisplayModeEnemy==="estimate"&&e(ua)})}a(T),a(je),a(Ae),a(H);var Ke=i(H,2),C=t(Ke);C.__click=function(...e){n.onClose?.apply(this,e)};var xa=t(C,!0);a(C);var ge=i(C,2);ge.__click=He;var fa=t(ge,!0);a(ge),a(Ke),k((e,o,v,m,A,me,be,_e,h,ue,ha,ya,wa,$a,ka,Ma,Da,Pa,Ea,Na)=>{d(Le,` ${e??""}`),d(Me,`${o??""} `),d(Oe,v),d(Ue,` ${m??""}`),d(Ve,A),G(q,"placeholder",me),d(We,be),G(X,"placeholder",_e),d(qe,h),G(ae,"placeholder",ue),d(Qe,` ${ha??""}`),G(S,"placeholder",ya),d(ra,` ${wa??""}`),E(D,1,`relative flex items-center p-3 rounded-lg border text-left transition-all ${l(s).healthDisplayModePlayer==="bar"?"bg-indigo-600/20 border-indigo-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-600"}`),d(la,$a),E(z,1,`relative flex items-center p-3 rounded-lg border text-left transition-all ${l(s).healthDisplayModePlayer==="estimate"?"bg-indigo-600/20 border-indigo-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-600"}`),d(da,ka),d(ca,` ${Ma??""}`),E(P,1,`relative flex items-center p-3 rounded-lg border text-left transition-all ${l(s).healthDisplayModeEnemy==="bar"?"bg-indigo-600/20 border-indigo-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-600"}`),d(pa,Da),E(T,1,`relative flex items-center p-3 rounded-lg border text-left transition-all ${l(s).healthDisplayModeEnemy==="estimate"?"bg-indigo-600/20 border-indigo-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-600"}`),d(ba,Pa),d(xa,Ea),d(fa,Na)},[()=>r()("campaign.settings.system_label"),()=>(()=>{const e=Ua.find(o=>o.id===l(s).system);return e?r()(e.nameKey):r()("campaign.settings.system_unknown")})(),()=>r()("campaign.settings.fixed"),()=>r()("campaign.settings.tier"),()=>r()("campaign.settings.name_label"),()=>r()("campaign.settings.name_placeholder"),()=>r()("campaign.settings.gm_label"),()=>r()("campaign.settings.gm_placeholder"),()=>r()("campaign.settings.description_label"),()=>r()("campaign.settings.description_placeholder"),()=>r()("campaign.settings.password_label"),()=>l($)?r()("campaign.settings.password_change_placeholder"):r()("campaign.settings.password_empty_placeholder"),()=>r()("campaign.settings.health_display_player"),()=>r()("campaign.settings.health_display_modes.bar"),()=>r()("campaign.settings.health_display_modes.estimate"),()=>r()("campaign.settings.health_display_enemy"),()=>r()("campaign.settings.health_display_modes.bar"),()=>r()("campaign.settings.health_display_modes.estimate"),()=>r()("common.buttons.cancel"),()=>r()("common.buttons.save")]),j(q,()=>l(s).name,e=>l(s).name=e),j(X,()=>l(s).gmName,e=>l(s).gmName=e),j(ae,()=>l(s).description,e=>l(s).description=e),j(S,()=>l(s).password,e=>l(s).password=e),c(Je,we)},$$slots:{default:!0}})}Ca(),x()}ja(["click"]);export{ut as C,xt as G,ft as P,ht as S,yt as a};
