import"./DsnmJJEf.js";import"./BmPwc1c7.js";import{u as P,v as w,k as v,w as zt,D as xe,a9 as St,V as Ct,A as $,z as Tt,j as x,y as i,x as a,B as l,t as M,E as At,F as t,aw as Gt}from"./EigO5Itq.js";import{I as N,s as E}from"./D-_OqhXn.js";import{l as z,s as S,p as Ke,i as h}from"./EUrPnace.js";import{d as Lt,s as n}from"./CE5Oy5gg.js";import{e as jt,a as K,s as A,$ as Ft,i as It,r as fe}from"./B3FtJd8P.js";import{b as Y}from"./D-px-r2z.js";import{a as Kt,s as Yt}from"./x7t77AVd.js";import{M as Bt,T as Ht,S as Jt,E as Ye}from"./CP3tlatW.js";import{a as he,D,G as Ot,S as Ut,b as Vt}from"./pDEUQP3R.js";function ua(g,d){const r=z(d,["children","$$slots","$$events","$$legacy"]);const m=[["path",{d:"m6 9 6 6 6-6"}]];N(g,S({name:"chevron-down"},()=>r,{get iconNode(){return m},children:(_,f)=>{var c=P(),s=w(c);E(s,d,"default",{}),v(_,c)},$$slots:{default:!0}}))}function xa(g,d){const r=z(d,["children","$$slots","$$events","$$legacy"]);const m=[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]];N(g,S({name:"circle-alert"},()=>r,{get iconNode(){return m},children:(_,f)=>{var c=P(),s=w(c);E(s,d,"default",{}),v(_,c)},$$slots:{default:!0}}))}function fa(g,d){const r=z(d,["children","$$slots","$$events","$$legacy"]);const m=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}],["path",{d:"M2 12h20"}]];N(g,S({name:"globe"},()=>r,{get iconNode(){return m},children:(_,f)=>{var c=P(),s=w(c);E(s,d,"default",{}),v(_,c)},$$slots:{default:!0}}))}function ha(g,d){const r=z(d,["children","$$slots","$$events","$$legacy"]);const m=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];N(g,S({name:"loader-circle"},()=>r,{get iconNode(){return m},children:(_,f)=>{var c=P(),s=w(c);E(s,d,"default",{}),v(_,c)},$$slots:{default:!0}}))}function ya(g,d){const r=z(d,["children","$$slots","$$events","$$legacy"]);const m=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z"}]];N(g,S({name:"play"},()=>r,{get iconNode(){return m},children:(_,f)=>{var c=P(),s=w(c);E(s,d,"default",{}),v(_,c)},$$slots:{default:!0}}))}function $a(g,d){const r=z(d,["children","$$slots","$$events","$$legacy"]);const m=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]];N(g,S({name:"settings"},()=>r,{get iconNode(){return m},children:(_,f)=>{var c=P(),s=w(c);E(s,d,"default",{}),v(_,c)},$$slots:{default:!0}}))}var Wt=x('<div class="w-2 h-2 rounded-full bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.5)]"></div>'),qt=x('<button><div class="flex-1"><div class="font-bold text-sm"> </div></div> <!></button>'),Qt=x('<div class="text-[10px] text-emerald-400 flex items-center gap-1 bg-emerald-400/10 px-2 py-0.5 rounded-full border border-emerald-400/20"><div class="w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"></div> </div>'),Rt=x('<button class="absolute right-2 top-1/2 -translate-y-1/2 text-[10px] bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 px-2 py-1 rounded-md transition-colors"> </button>'),Xt=x('<p class="text-[10px] text-red-400 mt-1"> </p>'),Zt=x('<p class="text-[10px] text-slate-500 mt-1"> </p>'),ea=x('<div class="w-2 h-2 rounded-full bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.5)]"></div>'),ta=x('<div class="w-2 h-2 rounded-full bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.5)]"></div>'),aa=x('<div class="w-2 h-2 rounded-full bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.5)]"></div>'),sa=x('<div class="w-2 h-2 rounded-full bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.5)]"></div>'),ra=x('<div class="space-y-4"><div><label class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest flex items-center gap-1"><!> </label> <div class="p-3 bg-slate-800 rounded-lg border border-slate-700 text-slate-300 text-sm font-bold flex items-center gap-2"> <span class="text-[9px] bg-slate-700 text-slate-400 px-1.5 py-0.5 rounded uppercase tracking-wider ml-auto"> </span></div></div> <div><label class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest flex items-center gap-1"><!> </label> <div class="grid grid-cols-2 gap-2"></div></div> <div><label for="campaign-name" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest"> </label> <input id="campaign-name" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div> <div><label for="campaign-gm" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest"> </label> <input id="campaign-gm" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div> <div><label for="campaign-desc" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest"> </label> <textarea id="campaign-desc" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors resize-none" rows="3"></textarea></div> <div><label for="campaign-pwd" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest flex items-center justify-between"><div class="flex items-center gap-1"><!> </div> <!></label> <div class="relative"><input type="password" id="campaign-pwd" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors pr-24"/> <!></div> <!></div> <div><label class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest flex items-center gap-1"><!> </label> <div class="grid grid-cols-2 gap-2"><button><div class="flex-1"><div class="font-bold text-sm"> </div></div> <!></button> <button><div class="flex-1"><div class="font-bold text-sm"> </div></div> <!></button></div></div> <div><label class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest flex items-center gap-1"><!> </label> <div class="grid grid-cols-2 gap-2"><button><div class="flex-1"><div class="font-bold text-sm"> </div></div> <!></button> <button><div class="flex-1"><div class="font-bold text-sm"> </div></div> <!></button></div></div></div> <div class="flex flex-col-reverse sm:flex-row gap-3 mt-6"><button class="flex-1 bg-slate-700 hover:bg-slate-600 text-white py-4 sm:py-3 rounded-xl font-bold transition-all active:scale-95"> </button> <button class="flex-1 bg-indigo-600 hover:bg-indigo-500 text-white py-4 sm:py-3 rounded-xl font-bold shadow-lg shadow-indigo-900/20 transition-all active:scale-95"> </button></div>',1);function wa(g,d){zt(d,!0);const r=()=>Yt(Ft,"$t",m),[m,_]=Kt();let f=Ke(d,"isOpen",3,!1),c=Ke(d,"initialData",3,"{}"),s=xe(St({name:"",description:"",gmName:"",password:"",removePassword:!1,system:D,tier:he(D),healthDisplayModePlayer:"bar",healthDisplayModeEnemy:"bar"})),k=xe(!1),ye=xe(!1);Ct(()=>{if(f())try{const b=JSON.parse(c());$(s,{name:b.name||"",description:b.description||"",gmName:b.gmName||"",password:"",removePassword:!1,system:b.system||D,tier:b.tier||he(b.system||D),healthDisplayModePlayer:b.healthDisplayModePlayer||"bar",healthDisplayModeEnemy:b.healthDisplayModeEnemy||"bar"},!0),$(k,!!b.passwordHash),$(ye,!!b.id)}catch{$(s,{name:"",description:"",gmName:"",password:"",removePassword:!1,system:D,tier:he(D),healthDisplayModePlayer:"bar",healthDisplayModeEnemy:"bar"},!0),$(k,!1),$(ye,!1)}});function Be(){d.onSave({...l(s)})}{let b=At(()=>r()("campaign.settings.title"));Bt(g,{get isOpen(){return f()},get onClose(){return d.onClose},get title(){return l(b)},maxWidth:"max-w-md",children:(He,la)=>{var $e=ra(),B=w($e),H=a(B),J=a(H),we=a(J);Ot(we,{size:12});var Je=i(we);t(J);var ke=i(J,2),Me=a(ke),De=i(Me),Oe=a(De,!0);t(De),t(ke),t(H);var O=i(H,2),U=a(O),Pe=a(U);Ht(Pe,{size:12});var Ue=i(Pe);t(U);var Ne=i(U,2);jt(Ne,21,()=>Vt(l(s).system),It,(e,o)=>{var p=qt();p.__click=()=>l(s).tier=l(o).value;var u=a(p),I=a(u),me=a(I,!0);t(I),t(u);var _e=i(u,2);{var be=y=>{var ue=Wt();v(y,ue)};h(_e,y=>{l(s).tier===l(o).value&&y(be)})}t(p),M(y=>{A(p,1,`relative flex items-center p-3 rounded-lg border text-left transition-all ${l(s).tier===l(o).value?"bg-indigo-600/20 border-indigo-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-600"}`),n(me,y)},[()=>r()(l(o).labelKey)]),v(e,p)}),t(Ne),t(O);var V=i(O,2),W=a(V),Ve=a(W,!0);t(W);var q=i(W,2);fe(q),t(V);var Q=i(V,2),R=a(Q),We=a(R,!0);t(R);var X=i(R,2);fe(X),t(Q);var Z=i(Q,2),ee=a(Z),qe=a(ee,!0);t(ee);var te=i(ee,2);Gt(te),t(Z);var ae=i(Z,2),se=a(ae),re=a(se),Ee=a(re);Jt(Ee,{size:12});var Qe=i(Ee);t(re);var Re=i(re,2);{var Xe=e=>{var o=Qt(),p=i(a(o));t(o),M(u=>n(p,` ${u??""}`),[()=>r()("campaign.settings.password_protected")]),v(e,o)};h(Re,e=>{l(k)&&e(Xe)})}t(se);var le=i(se,2),G=a(le);fe(G);var Ze=i(G,2);{var et=e=>{var o=Rt();o.__click=()=>{l(s).removePassword=!0,$(k,!1)};var p=a(o,!0);t(o),M(u=>n(p,u),[()=>r()("campaign.settings.password_remove")]),v(e,o)};h(Ze,e=>{l(k)&&e(et)})}t(le);var tt=i(le,2);{var at=e=>{var o=Xt(),p=a(o,!0);t(o),M(u=>n(p,u),[()=>r()("campaign.settings.password_remove_info")]),v(e,o)},st=e=>{var o=Zt(),p=a(o,!0);t(o),M(u=>n(p,u),[()=>r()("campaign.settings.password_info")]),v(e,o)};h(tt,e=>{l(s).removePassword?e(at):e(st,!1)})}t(ae);var ie=i(ae,2),oe=a(ie),ze=a(oe);Ye(ze,{size:12});var rt=i(ze);t(oe);var Se=i(oe,2),C=a(Se);C.__click=()=>l(s).healthDisplayModePlayer="bar";var de=a(C),Ce=a(de),lt=a(Ce,!0);t(Ce),t(de);var it=i(de,2);{var ot=e=>{var o=ea();v(e,o)};h(it,e=>{l(s).healthDisplayModePlayer==="bar"&&e(ot)})}t(C);var L=i(C,2);L.__click=()=>l(s).healthDisplayModePlayer="estimate";var ne=a(L),Te=a(ne),dt=a(Te,!0);t(Te),t(ne);var nt=i(ne,2);{var ct=e=>{var o=ta();v(e,o)};h(nt,e=>{l(s).healthDisplayModePlayer==="estimate"&&e(ct)})}t(L),t(Se),t(ie);var Ae=i(ie,2),ce=a(Ae),Ge=a(ce);Ye(Ge,{size:12});var vt=i(Ge);t(ce);var Le=i(ce,2),T=a(Le);T.__click=()=>l(s).healthDisplayModeEnemy="bar";var ve=a(T),je=a(ve),pt=a(je,!0);t(je),t(ve);var gt=i(ve,2);{var mt=e=>{var o=aa();v(e,o)};h(gt,e=>{l(s).healthDisplayModeEnemy==="bar"&&e(mt)})}t(T);var j=i(T,2);j.__click=()=>l(s).healthDisplayModeEnemy="estimate";var pe=a(j),Fe=a(pe),_t=a(Fe,!0);t(Fe),t(pe);var bt=i(pe,2);{var ut=e=>{var o=sa();v(e,o)};h(bt,e=>{l(s).healthDisplayModeEnemy==="estimate"&&e(ut)})}t(j),t(Le),t(Ae),t(B);var Ie=i(B,2),F=a(Ie);F.__click=function(...e){d.onClose?.apply(this,e)};var xt=a(F,!0);t(F);var ge=i(F,2);ge.__click=Be;var ft=a(ge,!0);t(ge),t(Ie),M((e,o,p,u,I,me,_e,be,y,ue,ht,yt,$t,wt,kt,Mt,Dt,Pt,Nt,Et)=>{n(Je,` ${e??""}`),n(Me,`${o??""} `),n(Oe,p),n(Ue,` ${u??""}`),n(Ve,I),K(q,"placeholder",me),n(We,_e),K(X,"placeholder",be),n(qe,y),K(te,"placeholder",ue),n(Qe,` ${ht??""}`),K(G,"placeholder",yt),n(rt,` ${$t??""}`),A(C,1,`relative flex items-center p-3 rounded-lg border text-left transition-all ${l(s).healthDisplayModePlayer==="bar"?"bg-indigo-600/20 border-indigo-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-600"}`),n(lt,wt),A(L,1,`relative flex items-center p-3 rounded-lg border text-left transition-all ${l(s).healthDisplayModePlayer==="estimate"?"bg-indigo-600/20 border-indigo-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-600"}`),n(dt,kt),n(vt,` ${Mt??""}`),A(T,1,`relative flex items-center p-3 rounded-lg border text-left transition-all ${l(s).healthDisplayModeEnemy==="bar"?"bg-indigo-600/20 border-indigo-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-600"}`),n(pt,Dt),A(j,1,`relative flex items-center p-3 rounded-lg border text-left transition-all ${l(s).healthDisplayModeEnemy==="estimate"?"bg-indigo-600/20 border-indigo-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-600"}`),n(_t,Pt),n(xt,Nt),n(ft,Et)},[()=>r()("campaign.settings.system_label"),()=>(()=>{const e=Ut.find(o=>o.id===l(s).system);return e?r()(e.nameKey):r()("campaign.settings.system_unknown")})(),()=>r()("campaign.settings.fixed"),()=>r()("campaign.settings.tier"),()=>r()("campaign.settings.name_label"),()=>r()("campaign.settings.name_placeholder"),()=>r()("campaign.settings.gm_label"),()=>r()("campaign.settings.gm_placeholder"),()=>r()("campaign.settings.description_label"),()=>r()("campaign.settings.description_placeholder"),()=>r()("campaign.settings.password_label"),()=>l(k)?r()("campaign.settings.password_change_placeholder"):r()("campaign.settings.password_empty_placeholder"),()=>r()("campaign.settings.health_display_player"),()=>r()("campaign.settings.health_display_modes.bar"),()=>r()("campaign.settings.health_display_modes.estimate"),()=>r()("campaign.settings.health_display_enemy"),()=>r()("campaign.settings.health_display_modes.bar"),()=>r()("campaign.settings.health_display_modes.estimate"),()=>r()("common.buttons.cancel"),()=>r()("common.buttons.save")]),Y(q,()=>l(s).name,e=>l(s).name=e),Y(X,()=>l(s).gmName,e=>l(s).gmName=e),Y(te,()=>l(s).description,e=>l(s).description=e),Y(G,()=>l(s).password,e=>l(s).password=e),v(He,$e)},$$slots:{default:!0}})}Tt(),_()}Lt(["click"]);export{ua as C,fa as G,ha as L,ya as P,$a as S,xa as a,wa as b};
