import"./DsnmJJEf.js";import"./y8AhTvDO.js";import{d as V,e as w,a as h,p as ee,S as te,x as re,k as C,F as ae,i as se,f as v,s as l,j as f,t as oe,r as u,aj as ie,n as ne,g as S}from"./LAPZz738.js";import{I as O,s as P}from"./5P2UBWQH.js";import{l as I,s as D,p as X,i as E}from"./5XsrLGCt.js";import{d as le}from"./Cv9CvP4l.js";import{r as U,d as de}from"./DN1kndjz.js";import{b as x}from"./CDnODwqQ.js";import{M as ce,S as fe}from"./Whl0iriK.js";function Ee(c,e){const t=I(e,["children","$$slots","$$events","$$legacy"]);const s=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}],["path",{d:"M2 12h20"}]];O(c,D({name:"globe"},()=>t,{get iconNode(){return s},children:(r,a)=>{var i=V(),n=w(i);P(n,e,"default",{}),h(r,i)},$$slots:{default:!0}}))}function Ue(c,e){const t=I(e,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z"}]];O(c,D({name:"play"},()=>t,{get iconNode(){return s},children:(r,a)=>{var i=V(),n=w(i);P(n,e,"default",{}),h(r,i)},$$slots:{default:!0}}))}function Ve(c,e){const t=I(e,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"m12.5 17-.5-1-.5 1h1z"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z"}],["circle",{cx:"15",cy:"12",r:"1"}],["circle",{cx:"9",cy:"12",r:"1"}]];O(c,D({name:"skull"},()=>t,{get iconNode(){return s},children:(r,a)=>{var i=V(),n=w(i);P(n,e,"default",{}),h(r,i)},$$slots:{default:!0}}))}const _="0123456789abcdef";class b{constructor(e){this.bytes=e}static ofInner(e){if(e.length!==16)throw new TypeError("not 128-bit length");return new b(e)}static fromFieldsV7(e,t,s,r){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(s)||!Number.isInteger(r)||e<0||t<0||s<0||r<0||e>0xffffffffffff||t>4095||s>1073741823||r>4294967295)throw new RangeError("invalid field value");const a=new Uint8Array(16);return a[0]=e/2**40,a[1]=e/2**32,a[2]=e/2**24,a[3]=e/2**16,a[4]=e/2**8,a[5]=e,a[6]=112|t>>>8,a[7]=t,a[8]=128|s>>>24,a[9]=s>>>16,a[10]=s>>>8,a[11]=s,a[12]=r>>>24,a[13]=r>>>16,a[14]=r>>>8,a[15]=r,new b(a)}static parse(e){var t,s,r,a;let i;switch(e.length){case 32:i=(t=/^[0-9a-f]{32}$/i.exec(e))===null||t===void 0?void 0:t[0];break;case 36:i=(s=/^([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(e))===null||s===void 0?void 0:s.slice(1,6).join("");break;case 38:i=(r=/^\{([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})\}$/i.exec(e))===null||r===void 0?void 0:r.slice(1,6).join("");break;case 45:i=(a=/^urn:uuid:([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{12})$/i.exec(e))===null||a===void 0?void 0:a.slice(1,6).join("");break}if(i){const n=new Uint8Array(16);for(let d=0;d<16;d+=4){const p=parseInt(i.substring(2*d,2*d+8),16);n[d+0]=p>>>24,n[d+1]=p>>>16,n[d+2]=p>>>8,n[d+3]=p}return new b(n)}else throw new SyntaxError("could not parse UUID string")}toString(){let e="";for(let t=0;t<this.bytes.length;t++)e+=_.charAt(this.bytes[t]>>>4),e+=_.charAt(this.bytes[t]&15),(t===3||t===5||t===7||t===9)&&(e+="-");return e}toHex(){let e="";for(let t=0;t<this.bytes.length;t++)e+=_.charAt(this.bytes[t]>>>4),e+=_.charAt(this.bytes[t]&15);return e}toJSON(){return this.toString()}getVariant(){const e=this.bytes[8]>>>4;if(e<0)throw new Error("unreachable");if(e<=7)return this.bytes.every(t=>t===0)?"NIL":"VAR_0";if(e<=11)return"VAR_10";if(e<=13)return"VAR_110";if(e<=15)return this.bytes.every(t=>t===255)?"MAX":"VAR_RESERVED";throw new Error("unreachable")}getVersion(){return this.getVariant()==="VAR_10"?this.bytes[6]>>>4:void 0}clone(){return new b(this.bytes.slice(0))}equals(e){return this.compareTo(e)===0}compareTo(e){for(let t=0;t<16;t++){const s=this.bytes[t]-e.bytes[t];if(s!==0)return Math.sign(s)}return 0}}class ue{constructor(e){this.timestamp_biased=0,this.counter=0,this.random=e??pe()}generate(){return this.generateOrResetCore(Date.now(),1e4)}generateOrAbort(){return this.generateOrAbortCore(Date.now(),1e4)}generateOrResetCore(e,t){let s=this.generateOrAbortCore(e,t);return s===void 0&&(this.timestamp_biased=0,s=this.generateOrAbortCore(e,t)),s}generateOrAbortCore(e,t){if(!Number.isInteger(e)||e<0||e>0xffffffffffff)throw new RangeError("`unixTsMs` must be a 48-bit unsigned integer");if(t<0||t>0xffffffffffff)throw new RangeError("`rollbackAllowance` out of reasonable range");if(e++,e>this.timestamp_biased)this.timestamp_biased=e,this.resetCounter();else if(e+t>=this.timestamp_biased)this.counter++,this.counter>4398046511103&&(this.timestamp_biased++,this.resetCounter());else return;return b.fromFieldsV7(this.timestamp_biased-1,Math.trunc(this.counter/2**30),this.counter&2**30-1,this.random.nextUint32())}resetCounter(){this.counter=this.random.nextUint32()*1024+(this.random.nextUint32()&1023)}generateV4(){const e=new Uint8Array(Uint32Array.of(this.random.nextUint32(),this.random.nextUint32(),this.random.nextUint32(),this.random.nextUint32()).buffer);return e[6]=64|e[6]>>>4,e[8]=128|e[8]>>>2,b.ofInner(e)}}const pe=()=>{if(typeof crypto<"u"&&typeof crypto.getRandomValues<"u")return new me;if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");return{nextUint32:()=>Math.trunc(Math.random()*65536)*65536+Math.trunc(Math.random()*65536)}};class me{constructor(){this.buffer=new Uint32Array(8),this.cursor=65535}nextUint32(){return this.cursor>=this.buffer.length&&(crypto.getRandomValues(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}let J;const Oe=()=>he().toString(),he=()=>(J||(J=new ue)).generate();var be=v('<div class="text-[10px] text-emerald-400 flex items-center gap-1 bg-emerald-400/10 px-2 py-0.5 rounded-full border border-emerald-400/20"><div class="w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"></div> Protegida</div>'),ve=v('<button class="absolute right-2 top-1/2 -translate-y-1/2 text-[10px] bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 px-2 py-1 rounded-md transition-colors">Remover Senha</button>'),ge=v('<p class="text-[10px] text-red-400 mt-1">A senha será removida ao salvar.</p>'),xe=v('<p class="text-[10px] text-slate-500 mt-1">Defina uma senha para proteger o convite desta campanha.</p>'),_e=v('<div class="space-y-4"><div><label for="campaign-name" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">Nome da Campanha</label> <input id="campaign-name" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors" placeholder="Ex: A Sombra do Feiticeiro"/></div> <div><label for="campaign-gm" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">Mestre (GM)</label> <input id="campaign-gm" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors" placeholder="Seu nome ou apelido"/></div> <div><label for="campaign-desc" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">Descrição</label> <textarea id="campaign-desc" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors resize-none" rows="3" placeholder="Uma breve descrição da sua jornada..."></textarea></div> <div><label for="campaign-pwd" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest flex items-center justify-between"><div class="flex items-center gap-1"><!> Senha de Acesso (Opcional)</div> <!></label> <div class="relative"><input type="password" id="campaign-pwd" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors pr-24"/> <!></div> <!></div></div> <div class="flex gap-3 mt-8"><button class="flex-1 bg-slate-700 hover:bg-slate-600 text-white py-3 rounded-xl font-bold transition-all active:scale-95">Cancelar</button> <button class="flex-1 bg-indigo-600 hover:bg-indigo-500 text-white py-3 rounded-xl font-bold shadow-lg shadow-indigo-900/20 transition-all active:scale-95">Salvar</button></div>',1);function Pe(c,e){ee(e,!0);let t=X(e,"isOpen",3,!1),s=X(e,"initialData",3,"{}"),r=te({name:"",description:"",gmName:"",password:"",removePassword:!1}),a=ae(!1);re(()=>{if(t()&&s())try{const i=JSON.parse(s());r.name=i.name||"",r.description=i.description||"",r.gmName=i.gmName||"",r.password="",r.removePassword=!1,C(a,!!i.passwordHash)}catch{r.name="",r.description="",r.gmName="",r.password="",r.removePassword=!1,C(a,!1)}}),ce(c,{get isOpen(){return t()},get onClose(){return e.onClose},title:"Configurações da Campanha",maxWidth:"max-w-md",children:(i,n)=>{var d=_e(),p=w(d),y=f(p),j=l(f(y),2);U(j),u(y);var N=l(y,2),z=l(f(N),2);U(z),u(N);var $=l(N,2),G=l(f($),2);ie(G),u($);var F=l($,2),A=f(F),k=f(A),K=f(k);fe(K,{size:12}),ne(),u(k);var Y=l(k,2);{var q=o=>{var m=be();h(o,m)};E(Y,o=>{S(a)&&o(q)})}u(A);var R=l(A,2),g=f(R);U(g);var Q=l(g,2);{var Z=o=>{var m=ve();m.__click=()=>{r.removePassword=!0,C(a,!1)},h(o,m)};E(Q,o=>{S(a)&&o(Z)})}u(R);var H=l(R,2);{var L=o=>{var m=ge();h(o,m)},T=o=>{var m=xe();h(o,m)};E(H,o=>{r.removePassword?o(L):o(T,!1)})}u(F),u(p);var M=l(p,2),W=f(M);W.__click=function(...o){e.onClose?.apply(this,o)};var B=l(W,2);B.__click=()=>e.onSave({...r}),u(M),oe(()=>de(g,"placeholder",S(a)?"Preencha para alterar...":"Deixe em branco para sem senha")),x(j,()=>r.name,o=>r.name=o),x(z,()=>r.gmName,o=>r.gmName=o),x(G,()=>r.description,o=>r.description=o),x(g,()=>r.password,o=>r.password=o),h(i,d)},$$slots:{default:!0}}),se()}le(["click"]);export{Pe as C,Ee as G,Ue as P,Ve as S,Oe as u};
