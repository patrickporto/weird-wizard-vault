import"./DsnmJJEf.js";import"./ChbcetSK.js";import{u as _e,v as j,k as c,w as Sa,D as ge,a9 as za,V as Ta,A as y,z as Aa,j as b,y as l,x as t,B as r,t as $,E as Ca,F as a,ak as Ga}from"./DfayzYqb.js";import{I as ue,s as xe}from"./tM_ceOsH.js";import{l as fe,s as he,p as Ye,i as _}from"./C746LlRB.js";import{d as ja,s as d}from"./Cx0o8vWd.js";import{e as Fa,a as C,s as E,$ as Ia,i as Ka,r as be}from"./Bs3V2B0j.js";import{b as G}from"./CqQomdhW.js";import{a as Ya,s as Ba}from"./DukWTdxy.js";import{M as Ha,T as Ja,S as La,E as Be}from"./oWAnlb7B.js";import{a as me,D as k,G as Oa,S as Ua,b as Va}from"./DXWhg5s7.js";function ut(u,n){const i=fe(n,["children","$$slots","$$events","$$legacy"]);const x=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}],["path",{d:"M2 12h20"}]];ue(u,he({name:"globe"},()=>i,{get iconNode(){return x},children:(f,M)=>{var m=_e(),s=j(m);xe(s,n,"default",{}),c(f,m)},$$slots:{default:!0}}))}function xt(u,n){const i=fe(n,["children","$$slots","$$events","$$legacy"]);const x=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z"}]];ue(u,he({name:"play"},()=>i,{get iconNode(){return x},children:(f,M)=>{var m=_e(),s=j(m);xe(s,n,"default",{}),c(f,m)},$$slots:{default:!0}}))}function ft(u,n){const i=fe(n,["children","$$slots","$$events","$$legacy"]);const x=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]];ue(u,he({name:"settings"},()=>i,{get iconNode(){return x},children:(f,M)=>{var m=_e(),s=j(m);xe(s,n,"default",{}),c(f,m)},$$slots:{default:!0}}))}var Wa=b('<div class="w-2 h-2 rounded-full bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.5)]"></div>'),qa=b('<button><div class="flex-1"><div class="font-bold text-sm"> </div></div> <!></button>'),Qa=b('<div class="text-[10px] text-emerald-400 flex items-center gap-1 bg-emerald-400/10 px-2 py-0.5 rounded-full border border-emerald-400/20"><div class="w-1.5 h-1.5 rounded-full bg-emerald-400 animate-pulse"></div> </div>'),Ra=b('<button class="absolute right-2 top-1/2 -translate-y-1/2 text-[10px] bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 px-2 py-1 rounded-md transition-colors"> </button>'),Xa=b('<p class="text-[10px] text-red-400 mt-1"> </p>'),Za=b('<p class="text-[10px] text-slate-500 mt-1"> </p>'),et=b('<div class="w-2 h-2 rounded-full bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.5)]"></div>'),at=b('<div class="w-2 h-2 rounded-full bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.5)]"></div>'),tt=b('<div class="w-2 h-2 rounded-full bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.5)]"></div>'),st=b('<div class="w-2 h-2 rounded-full bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.5)]"></div>'),rt=b('<div class="space-y-4"><div><label class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest flex items-center gap-1"><!> </label> <div class="p-3 bg-slate-800 rounded-lg border border-slate-700 text-slate-300 text-sm font-bold flex items-center gap-2"> <span class="text-[9px] bg-slate-700 text-slate-400 px-1.5 py-0.5 rounded uppercase tracking-wider ml-auto"> </span></div></div> <div><label class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest flex items-center gap-1"><!> </label> <div class="grid grid-cols-2 gap-2"></div></div> <div><label for="campaign-name" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest"> </label> <input id="campaign-name" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div> <div><label for="campaign-gm" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest"> </label> <input id="campaign-gm" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div> <div><label for="campaign-desc" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest"> </label> <textarea id="campaign-desc" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors resize-none" rows="3"></textarea></div> <div><label for="campaign-pwd" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest flex items-center justify-between"><div class="flex items-center gap-1"><!> </div> <!></label> <div class="relative"><input type="password" id="campaign-pwd" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors pr-24"/> <!></div> <!></div> <div><label class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest flex items-center gap-1"><!> </label> <div class="grid grid-cols-2 gap-2"><button><div class="flex-1"><div class="font-bold text-sm"> </div></div> <!></button> <button><div class="flex-1"><div class="font-bold text-sm"> </div></div> <!></button></div></div> <div><label class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest flex items-center gap-1"><!> </label> <div class="grid grid-cols-2 gap-2"><button><div class="flex-1"><div class="font-bold text-sm"> </div></div> <!></button> <button><div class="flex-1"><div class="font-bold text-sm"> </div></div> <!></button></div></div></div> <div class="flex flex-col-reverse sm:flex-row gap-3 mt-6"><button class="flex-1 bg-slate-700 hover:bg-slate-600 text-white py-4 sm:py-3 rounded-xl font-bold transition-all active:scale-95"> </button> <button class="flex-1 bg-indigo-600 hover:bg-indigo-500 text-white py-4 sm:py-3 rounded-xl font-bold shadow-lg shadow-indigo-900/20 transition-all active:scale-95"> </button></div>',1);function ht(u,n){Sa(n,!0);const i=()=>Ba(Ia,"$t",x),[x,f]=Ya();let M=Ye(n,"isOpen",3,!1),m=Ye(n,"initialData",3,"{}"),s=ge(za({name:"",description:"",gmName:"",password:"",removePassword:!1,system:k,tier:me(k),healthDisplayModePlayer:"bar",healthDisplayModeEnemy:"bar"})),w=ge(!1),ye=ge(!1);Ta(()=>{if(M())try{const p=JSON.parse(m());y(s,{name:p.name||"",description:p.description||"",gmName:p.gmName||"",password:"",removePassword:!1,system:p.system||k,tier:p.tier||me(p.system||k),healthDisplayModePlayer:p.healthDisplayModePlayer||"bar",healthDisplayModeEnemy:p.healthDisplayModeEnemy||"bar"},!0),y(w,!!p.passwordHash),y(ye,!!p.id)}catch{y(s,{name:"",description:"",gmName:"",password:"",removePassword:!1,system:k,tier:me(k),healthDisplayModePlayer:"bar",healthDisplayModeEnemy:"bar"},!0),y(w,!1),y(ye,!1)}});function He(){n.onSave({...r(s)})}{let p=Ca(()=>i()("campaign.settings.title"));Ha(u,{get isOpen(){return M()},get onClose(){return n.onClose},get title(){return r(p)},maxWidth:"max-w-md",children:(Je,it)=>{var we=rt(),F=j(we),I=t(F),K=t(I),$e=t(K);Oa($e,{size:12});var Le=l($e);a(K);var ke=l(K,2),Me=t(ke),De=l(Me),Oe=t(De,!0);a(De),a(ke),a(I);var Y=l(I,2),B=t(Y),Pe=t(B);Ja(Pe,{size:12});var Ue=l(Pe);a(B);var Ee=l(B,2);Fa(Ee,21,()=>Va(r(s).system),Ka,(e,o)=>{var v=qa();v.__click=()=>r(s).tier=r(o).value;var g=t(v),A=t(g),ne=t(A,!0);a(A),a(g);var ve=l(g,2);{var ce=h=>{var pe=Wa();c(h,pe)};_(ve,h=>{r(s).tier===r(o).value&&h(ce)})}a(v),$(h=>{E(v,1,`relative flex items-center p-3 rounded-lg border text-left transition-all ${r(s).tier===r(o).value?"bg-indigo-600/20 border-indigo-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-600"}`),d(ne,h)},[()=>i()(r(o).labelKey)]),c(e,v)}),a(Ee),a(Y);var H=l(Y,2),J=t(H),Ve=t(J,!0);a(J);var L=l(J,2);be(L),a(H);var O=l(H,2),U=t(O),We=t(U,!0);a(U);var V=l(U,2);be(V),a(O);var W=l(O,2),q=t(W),qe=t(q,!0);a(q);var Q=l(q,2);Ga(Q),a(W);var R=l(W,2),X=t(R),Z=t(X),Ne=t(Z);La(Ne,{size:12});var Qe=l(Ne);a(Z);var Re=l(Z,2);{var Xe=e=>{var o=Qa(),v=l(t(o));a(o),$(g=>d(v,` ${g??""}`),[()=>i()("campaign.settings.password_protected")]),c(e,o)};_(Re,e=>{r(w)&&e(Xe)})}a(X);var ee=l(X,2),N=t(ee);be(N);var Ze=l(N,2);{var ea=e=>{var o=Ra();o.__click=()=>{r(s).removePassword=!0,y(w,!1)};var v=t(o,!0);a(o),$(g=>d(v,g),[()=>i()("campaign.settings.password_remove")]),c(e,o)};_(Ze,e=>{r(w)&&e(ea)})}a(ee);var aa=l(ee,2);{var ta=e=>{var o=Xa(),v=t(o,!0);a(o),$(g=>d(v,g),[()=>i()("campaign.settings.password_remove_info")]),c(e,o)},sa=e=>{var o=Za(),v=t(o,!0);a(o),$(g=>d(v,g),[()=>i()("campaign.settings.password_info")]),c(e,o)};_(aa,e=>{r(s).removePassword?e(ta):e(sa,!1)})}a(R);var ae=l(R,2),te=t(ae),Se=t(te);Be(Se,{size:12});var ra=l(Se);a(te);var ze=l(te,2),D=t(ze);D.__click=()=>r(s).healthDisplayModePlayer="bar";var se=t(D),Te=t(se),ia=t(Te,!0);a(Te),a(se);var la=l(se,2);{var oa=e=>{var o=et();c(e,o)};_(la,e=>{r(s).healthDisplayModePlayer==="bar"&&e(oa)})}a(D);var S=l(D,2);S.__click=()=>r(s).healthDisplayModePlayer="estimate";var re=t(S),Ae=t(re),da=t(Ae,!0);a(Ae),a(re);var na=l(re,2);{var va=e=>{var o=at();c(e,o)};_(na,e=>{r(s).healthDisplayModePlayer==="estimate"&&e(va)})}a(S),a(ze),a(ae);var Ce=l(ae,2),ie=t(Ce),Ge=t(ie);Be(Ge,{size:12});var ca=l(Ge);a(ie);var je=l(ie,2),P=t(je);P.__click=()=>r(s).healthDisplayModeEnemy="bar";var le=t(P),Fe=t(le),pa=t(Fe,!0);a(Fe),a(le);var ga=l(le,2);{var ba=e=>{var o=tt();c(e,o)};_(ga,e=>{r(s).healthDisplayModeEnemy==="bar"&&e(ba)})}a(P);var z=l(P,2);z.__click=()=>r(s).healthDisplayModeEnemy="estimate";var oe=t(z),Ie=t(oe),ma=t(Ie,!0);a(Ie),a(oe);var _a=l(oe,2);{var ua=e=>{var o=st();c(e,o)};_(_a,e=>{r(s).healthDisplayModeEnemy==="estimate"&&e(ua)})}a(z),a(je),a(Ce),a(F);var Ke=l(F,2),T=t(Ke);T.__click=function(...e){n.onClose?.apply(this,e)};var xa=t(T,!0);a(T);var de=l(T,2);de.__click=He;var fa=t(de,!0);a(de),a(Ke),$((e,o,v,g,A,ne,ve,ce,h,pe,ha,ya,wa,$a,ka,Ma,Da,Pa,Ea,Na)=>{d(Le,` ${e??""}`),d(Me,`${o??""} `),d(Oe,v),d(Ue,` ${g??""}`),d(Ve,A),C(L,"placeholder",ne),d(We,ve),C(V,"placeholder",ce),d(qe,h),C(Q,"placeholder",pe),d(Qe,` ${ha??""}`),C(N,"placeholder",ya),d(ra,` ${wa??""}`),E(D,1,`relative flex items-center p-3 rounded-lg border text-left transition-all ${r(s).healthDisplayModePlayer==="bar"?"bg-indigo-600/20 border-indigo-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-600"}`),d(ia,$a),E(S,1,`relative flex items-center p-3 rounded-lg border text-left transition-all ${r(s).healthDisplayModePlayer==="estimate"?"bg-indigo-600/20 border-indigo-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-600"}`),d(da,ka),d(ca,` ${Ma??""}`),E(P,1,`relative flex items-center p-3 rounded-lg border text-left transition-all ${r(s).healthDisplayModeEnemy==="bar"?"bg-indigo-600/20 border-indigo-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-600"}`),d(pa,Da),E(z,1,`relative flex items-center p-3 rounded-lg border text-left transition-all ${r(s).healthDisplayModeEnemy==="estimate"?"bg-indigo-600/20 border-indigo-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-600"}`),d(ma,Pa),d(xa,Ea),d(fa,Na)},[()=>i()("campaign.settings.system_label"),()=>(()=>{const e=Ua.find(o=>o.id===r(s).system);return e?i()(e.nameKey):i()("campaign.settings.system_unknown")})(),()=>i()("campaign.settings.fixed"),()=>i()("campaign.settings.tier"),()=>i()("campaign.settings.name_label"),()=>i()("campaign.settings.name_placeholder"),()=>i()("campaign.settings.gm_label"),()=>i()("campaign.settings.gm_placeholder"),()=>i()("campaign.settings.description_label"),()=>i()("campaign.settings.description_placeholder"),()=>i()("campaign.settings.password_label"),()=>r(w)?i()("campaign.settings.password_change_placeholder"):i()("campaign.settings.password_empty_placeholder"),()=>i()("campaign.settings.health_display_player"),()=>i()("campaign.settings.health_display_modes.bar"),()=>i()("campaign.settings.health_display_modes.estimate"),()=>i()("campaign.settings.health_display_enemy"),()=>i()("campaign.settings.health_display_modes.bar"),()=>i()("campaign.settings.health_display_modes.estimate"),()=>i()("common.buttons.cancel"),()=>i()("common.buttons.save")]),G(L,()=>r(s).name,e=>r(s).name=e),G(V,()=>r(s).gmName,e=>r(s).gmName=e),G(Q,()=>r(s).description,e=>r(s).description=e),G(N,()=>r(s).password,e=>r(s).password=e),c(Je,we)},$$slots:{default:!0}})}Aa(),f()}ja(["click"]);export{ht as C,ut as G,xt as P,ft as S};
