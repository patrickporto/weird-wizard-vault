import"../chunks/DsnmJJEf.js";import"../chunks/BmPwc1c7.js";import{o as O,e as C,s as m}from"../chunks/CE5Oy5gg.js";import{w as R,j as I,t as E,B as e,N as h,k as P,z as q,y as d,x as r,A as v,O as M,F as s}from"../chunks/EigO5Itq.js";import{e as G,$ as H,s as j,i as K,r as Q}from"../chunks/B3FtJd8P.js";import{b as U,g as V,a as W,s as D}from"../chunks/pbaF5S1J.js";import{i as X}from"../chunks/BxrJV9R1.js";import{a as Y,s as Z}from"../chunks/x7t77AVd.js";var ee=I("<div><span> </span></div>"),te=I('<main class="p-4 max-w-lg mx-auto"><div class="mb-4 p-2 bg-gray-100 rounded"><h1 class="font-bold text-xl">Chat Trystero (Serverless)</h1> <p class="text-sm text-gray-600"> </p> <p class="text-xs text-gray-400"> </p></div> <div class="h-64 border rounded overflow-y-auto p-2 mb-4 bg-white"></div> <div class="flex gap-2"><input class="flex-1 border p-2 rounded" placeholder="Digite algo..."/> <button class="bg-blue-600 text-white px-4 rounded"> </button></div></main>');function pe(S,T){R(T,!1);const z=()=>Z(H,"$_",B),[B,F]=Y();let p,y,i=h([]),o=h(""),u=h(0);O(()=>{const t=V();p=W(t,"sala-geral");const[l,n]=p.makeAction("message");y=l,n((a,$)=>{v(i,[...e(i),{sender:"Amigo",text:a,id:$}])}),p.onPeerJoin(a=>{M(u),console.log(`Peer ${a} entrou`)}),p.onPeerLeave(a=>{M(u,-1),console.log(`Peer ${a} saiu`)})});function k(){e(o)&&(y(e(o)),v(i,[...e(i),{sender:"Eu",text:e(o),id:D}]),v(o,""))}X();var g=te(),x=r(g),f=d(r(x),2),J=r(f);s(f);var w=d(f,2),L=r(w);s(w),s(x);var b=d(x,2);G(b,5,()=>e(i),K,(t,l)=>{var n=ee(),a=r(n),$=r(a,!0);s(a),s(n),E(()=>{j(n,1,`mb-2 ${e(l).sender==="Eu"?"text-right":"text-left"}`),j(a,1,`inline-block px-3 py-1 rounded text-sm
          ${e(l).sender==="Eu"?"bg-blue-600 text-white":"bg-gray-200 text-black"}`),m($,e(l).text)}),P(t,n)}),s(b);var A=d(b,2),c=r(A);Q(c);var _=d(c,2),N=r(_,!0);s(_),s(A),s(g),E(t=>{m(J,`Status: ${e(u)>0?"ðŸŸ¢ Conectado":"ðŸŸ¡ Aguardando peers..."}
      (${e(u)??""} online)`),m(L,`ID: ${D??""}`),m(N,t)},[()=>z()("chat.send")]),U(c,()=>e(o),t=>v(o,t)),C("keydown",c,t=>t.key==="Enter"&&k()),C("click",_,k),P(S,g),q(),F()}export{pe as component};
