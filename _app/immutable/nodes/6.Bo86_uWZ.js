import"../chunks/DsnmJJEf.js";import{d as Ve,s as o,g as ht,j as za}from"../chunks/9QvhKPlK.js";import{v as Ce,w as ge,k as l,x as Ue,z as Re,j as u,B as a,I as t,A as r,y as e,T as fe,t as m,n as bt,F as Se,R as Xe,U as Et,a2 as mt,L as ut,at as jt,aq as ea,G as ta,a1 as Sa,u as aa}from"../chunks/DzRT0qSm.js";import{l as tt,s as at,p as Ft,i as U}from"../chunks/DV-HjJ0V.js";import{a as K,s as Fe,b as Ta}from"../chunks/FHgTlLI2.js";import{s as Ee,a as $e,$ as Ge,f as Oa,r as Be,e as je,i as He,l as gt}from"../chunks/DmTIwYKB.js";import{c as qe,v as Le,i as Ma,n as Gt,y as Ea,z as Aa,B as zt,C as Wt,D as Ca,E as Pa,t as Da,F as Te,G as At,I as ct,b as Ie,u as Ut,W as Na,M as ja,T as Ze,H as da,J as Yt,K as dt,L as yt,N as wt,O as ca,A as ra,P as Ha,Q as Bt,R as Ia,S as ft,d as Lt,k as sa,w as Ua,U as Ra,a as qa,m as La}from"../chunks/WcsszTkO.js";import{p as Va}from"../chunks/gDQc0Rep.js";import{g as va}from"../chunks/Ci6D3jsH.js";import{U as oa,W as Fa,r as pa}from"../chunks/DmBdk9v4.js";import{b as Ga}from"../chunks/DoXFKFJ1.js";import{L as la,U as Wa}from"../chunks/Dy_MTGci.js";import{b as Pt,C as Ya,L as Ba,A as Xa,D as Xt,I as Ka,s as Ja,c as Qa,M as Ct,S as St,G as Za,H as er,e as tr}from"../chunks/Cen6mFgn.js";import{W as ar}from"../chunks/Cf2wkrTz.js";import"../chunks/DdC0RNGD.js";import{I as rt,s as st}from"../chunks/Byjcbj0b.js";import{a as rr,P as lt,M as vt,X as Dt,T as Tt,b as Ht,S as sr}from"../chunks/BJHf1IjA.js";import{C as ua}from"../chunks/B42Mvk0m.js";import{i as $t}from"../chunks/BF6Ztcgo.js";import{c as Vt}from"../chunks/BGJrsy93.js";import{t as Kt,a as ba,s as or}from"../chunks/5J4TPCGy.js";function It(H,y){const i=tt(y,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2"}]];rt(H,at({name:"activity"},()=>i,{get iconNode(){return s},children:(p,P)=>{var _=Ce(),x=ge(_);st(x,y,"default",{}),l(p,_)},$$slots:{default:!0}}))}function xa(H,y){const i=tt(y,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];rt(H,at({name:"arrow-left"},()=>i,{get iconNode(){return s},children:(p,P)=>{var _=Ce(),x=ge(_);st(x,y,"default",{}),l(p,_)},$$slots:{default:!0}}))}function Jt(H,y){const i=tt(y,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"M4 10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z"}],["path",{d:"M8 10h8"}],["path",{d:"M8 18h8"}],["path",{d:"M8 22v-6a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v6"}],["path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2"}]];rt(H,at({name:"backpack"},()=>i,{get iconNode(){return s},children:(p,P)=>{var _=Ce(),x=ge(_);st(x,y,"default",{}),l(p,_)},$$slots:{default:!0}}))}function lr(H,y){const i=tt(y,["children","$$slots","$$events","$$legacy"]);const s=[["circle",{cx:"11",cy:"13",r:"9"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95"}],["path",{d:"m22 2-1.5 1.5"}]];rt(H,at({name:"bomb"},()=>i,{get iconNode(){return s},children:(p,P)=>{var _=Ce(),x=ge(_);st(x,y,"default",{}),l(p,_)},$$slots:{default:!0}}))}function ia(H,y){const i=tt(y,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}]];rt(H,at({name:"book"},()=>i,{get iconNode(){return s},children:(p,P)=>{var _=Ce(),x=ge(_);st(x,y,"default",{}),l(p,_)},$$slots:{default:!0}}))}function Zt(H,y){const i=tt(y,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"M16.17 7.83 2 22"}],["path",{d:"M4.02 12a2.827 2.827 0 1 1 3.81-4.17A2.827 2.827 0 1 1 12 4.02a2.827 2.827 0 1 1 4.17 3.81A2.827 2.827 0 1 1 19.98 12a2.827 2.827 0 1 1-3.81 4.17A2.827 2.827 0 1 1 12 19.98a2.827 2.827 0 1 1-4.17-3.81A1 1 0 1 1 4 12"}],["path",{d:"m7.83 7.83 8.34 8.34"}]];rt(H,at({name:"clover"},()=>i,{get iconNode(){return s},children:(p,P)=>{var _=Ce(),x=ge(_);st(x,y,"default",{}),l(p,_)},$$slots:{default:!0}}))}function ir(H,y){const i=tt(y,["children","$$slots","$$events","$$legacy"]);const s=[["circle",{cx:"8",cy:"8",r:"6"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18"}],["path",{d:"M7 6h1v4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82"}]];rt(H,at({name:"coins"},()=>i,{get iconNode(){return s},children:(p,P)=>{var _=Ce(),x=ge(_);st(x,y,"default",{}),l(p,_)},$$slots:{default:!0}}))}function nr(H,y){const i=tt(y,["children","$$slots","$$events","$$legacy"]);const s=[["circle",{cx:"12",cy:"12",r:"1"}],["circle",{cx:"19",cy:"12",r:"1"}],["circle",{cx:"5",cy:"12",r:"1"}]];rt(H,at({name:"ellipsis"},()=>i,{get iconNode(){return s},children:(p,P)=>{var _=Ce(),x=ge(_);st(x,y,"default",{}),l(p,_)},$$slots:{default:!0}}))}function dr(H,y){const i=tt(y,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21"}],["path",{d:"m5.082 11.09 8.828 8.828"}]];rt(H,at({name:"eraser"},()=>i,{get iconNode(){return s},children:(p,P)=>{var _=Ce(),x=ge(_);st(x,y,"default",{}),l(p,_)},$$slots:{default:!0}}))}function cr(H,y){const i=tt(y,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"M12 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 12 18z"}],["path",{d:"M2 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 2 18z"}]];rt(H,at({name:"fast-forward"},()=>i,{get iconNode(){return s},children:(p,P)=>{var _=Ce(),x=ge(_);st(x,y,"default",{}),l(p,_)},$$slots:{default:!0}}))}function na(H,y){const i=tt(y,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5"}],["path",{d:"M10 9H8"}],["path",{d:"M16 13H8"}],["path",{d:"M16 17H8"}]];rt(H,at({name:"file-text"},()=>i,{get iconNode(){return s},children:(p,P)=>{var _=Ce(),x=ge(_);st(x,y,"default",{}),l(p,_)},$$slots:{default:!0}}))}function _a(H,y){const i=tt(y,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"M5 22h14"}],["path",{d:"M5 2h14"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2"}]];rt(H,at({name:"hourglass"},()=>i,{get iconNode(){return s},children:(p,P)=>{var _=Ce(),x=ge(_);st(x,y,"default",{}),l(p,_)},$$slots:{default:!0}}))}function vr(H,y){const i=tt(y,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8"}]];rt(H,at({name:"infinity"},()=>i,{get iconNode(){return s},children:(p,P)=>{var _=Ce(),x=ge(_);st(x,y,"default",{}),l(p,_)},$$slots:{default:!0}}))}function pr(H,y){const i=tt(y,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"m5 8 6 6"}],["path",{d:"m4 14 6-6 2-3"}],["path",{d:"M2 5h12"}],["path",{d:"M7 2h1"}],["path",{d:"m22 22-5-10-5 10"}],["path",{d:"M14 18h6"}]];rt(H,at({name:"languages"},()=>i,{get iconNode(){return s},children:(p,P)=>{var _=Ce(),x=ge(_);st(x,y,"default",{}),l(p,_)},$$slots:{default:!0}}))}function ur(H,y){const i=tt(y,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"}]];rt(H,at({name:"moon"},()=>i,{get iconNode(){return s},children:(p,P)=>{var _=Ce(),x=ge(_);st(x,y,"default",{}),l(p,_)},$$slots:{default:!0}}))}function br(H,y){const i=tt(y,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"M12 6a2 2 0 0 0-3.414-1.414l-6 6a2 2 0 0 0 0 2.828l6 6A2 2 0 0 0 12 18z"}],["path",{d:"M22 6a2 2 0 0 0-3.414-1.414l-6 6a2 2 0 0 0 0 2.828l6 6A2 2 0 0 0 22 18z"}]];rt(H,at({name:"rewind"},()=>i,{get iconNode(){return s},children:(p,P)=>{var _=Ce(),x=ge(_);st(x,y,"default",{}),l(p,_)},$$slots:{default:!0}}))}function xr(H,y){const i=tt(y,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];rt(H,at({name:"search"},()=>i,{get iconNode(){return s},children:(p,P)=>{var _=Ce(),x=ge(_);st(x,y,"default",{}),l(p,_)},$$slots:{default:!0}}))}function _r(H,y){const i=tt(y,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2"}],["path",{d:"m14.305 16.53.923-.382"}],["path",{d:"m15.228 13.852-.923-.383"}],["path",{d:"m16.852 12.228-.383-.923"}],["path",{d:"m16.852 17.772-.383.924"}],["path",{d:"m19.148 12.228.383-.923"}],["path",{d:"m19.53 18.696-.382-.924"}],["path",{d:"m20.772 13.852.924-.383"}],["path",{d:"m20.772 16.148.924.383"}],["circle",{cx:"18",cy:"15",r:"3"}],["circle",{cx:"9",cy:"7",r:"4"}]];rt(H,at({name:"user-cog"},()=>i,{get iconNode(){return s},children:(p,P)=>{var _=Ce(),x=ge(_);st(x,y,"default",{}),l(p,_)},$$slots:{default:!0}}))}function Nt(H,y){const i=tt(y,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72"}],["path",{d:"m14 7 3 3"}],["path",{d:"M5 6v4"}],["path",{d:"M19 14v4"}],["path",{d:"M10 2v2"}],["path",{d:"M7 8H3"}],["path",{d:"M21 16h-4"}],["path",{d:"M11 3H9"}]];rt(H,at({name:"wand-sparkles"},()=>i,{get iconNode(){return s},children:(p,P)=>{var _=Ce(),x=ge(_);st(x,y,"default",{}),l(p,_)},$$slots:{default:!0}}))}function _t(H,y){const i=tt(y,["children","$$slots","$$events","$$legacy"]);const s=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"}]];rt(H,at({name:"zap"},()=>i,{get iconNode(){return s},children:(p,P)=>{var _=Ce(),x=ge(_);st(x,y,"default",{}),l(p,_)},$$slots:{default:!0}}))}const fr=!1,ii=Object.freeze(Object.defineProperty({__proto__:null,prerender:fr},Symbol.toStringTag,{value:"Module"}));var gr=u('<div class="text-[9px] font-black text-amber-500 uppercase tracking-tighter mt-1 animate-pulse">Aguardando Aprovação</div>'),hr=u('<div class="text-[10px] text-slate-400 mt-0.5 font-medium flex items-center gap-1"><span class="opacity-50 font-bold uppercase tracking-tighter">Mestre:</span> <span class="text-indigo-300"> </span></div>'),mr=u('<div><div class="flex items-center gap-3"><div class="relative"><div><!></div> <div></div></div> <div><div>Campanha Ativa</div> <div class="font-bold text-white text-base leading-tight"> </div> <!></div></div> <button class="bg-slate-900 border border-slate-700 p-2.5 rounded-xl text-slate-500 hover:text-red-400 transition-all active:scale-95" title="Sair"><!></button></div>'),$r=u("<div><div></div> <span> </span></div>"),yr=u('<div><div class="flex items-center justify-between"><div class="flex items-center gap-2"><div><!></div> <h3 class="text-[11px] font-black text-slate-400 uppercase tracking-[0.15em]">Campanha Ativa</h3></div> <button class="p-2 text-slate-600 hover:text-red-400 hover:bg-red-400/5 rounded-lg transition-all opacity-0 group-hover:opacity-100" title="Abandonar Campanha"><!></button></div> <div class="space-y-1"><div class="font-bold text-white text-lg tracking-tight leading-tight"> </div> <div class="text-[10px] font-medium text-slate-500 flex items-center gap-1.5 pt-0.5"><span class="uppercase tracking-tighter opacity-70">Mestre:</span> <span class="text-indigo-400 font-bold"> </span></div></div> <div class="flex items-center justify-between pt-3 border-t border-white/5"><div class="flex items-center gap-2"><div></div> <span> </span></div> <div class="flex items-center gap-1 text-[10px] text-slate-600 font-mono"><!> </div></div></div>');function Qt(H,y){Ue(y,!0);const i=()=>K(qe,"$character",p),s=()=>K(Ma,"$isGmOnline",p),[p,P]=Fe();let _=Ft(y,"compact",3,!1),x=Ft(y,"banner",3,!1);var v=Ce(),n=ge(v);{var S=M=>{const b=fe(()=>i().campaignApproval==="pending");var z=Ce(),F=ge(z);{var A=T=>{var R=mr(),Y=a(R),C=a(Y),k=a(C),f=a(k);oa(f,{size:20}),t(k);var c=r(k,2);t(C);var d=r(C,2),h=a(d),$=r(h,2),O=a($,!0);t($);var q=r($,2);{var D=w=>{var E=gr();l(w,E)},G=w=>{var E=hr(),te=r(a(E),2),le=a(te,!0);t(te),t(E),m(()=>o(le,i().gmName)),l(w,E)};U(q,w=>{e(b)?w(D):w(G,!1)})}t(d),t(Y);var N=r(Y,2);N.__click=()=>{confirm("Sair da campanha?")&&Le.leaveCampaign()};var g=a(N);la(g,{size:18}),t(N),t(R),m(()=>{Ee(R,1,`bg-indigo-600/10 backdrop-blur-md border border-indigo-500/20 rounded-2xl p-4 flex items-center justify-between shadow-xl shadow-indigo-950/20 ${e(b)?"border-amber-500/30 bg-amber-500/5":""}`),Ee(k,1,`w-10 h-10 ${e(b)?"bg-amber-600/20 text-amber-400 border-amber-500/30":"bg-indigo-600/20 text-indigo-400 border-indigo-500/30"} rounded-xl flex items-center justify-center`),Ee(c,1,`absolute -top-1 -right-1 w-3 h-3 ${e(b)?"bg-amber-500 animate-pulse":s()?"bg-green-500 animate-pulse":"bg-slate-600"} rounded-full border-2 border-slate-950 shadow-[0_0_8px_rgba(34,197,94,0.6)]`),Ee(h,1,`text-[10px] ${e(b)?"text-amber-500/70":"text-indigo-400/70"} font-black uppercase tracking-[0.2em] leading-none mb-1`),o(O,i().campaignName)}),l(T,R)},I=T=>{var R=Ce(),Y=ge(R);{var C=f=>{var c=$r(),d=a(c),h=r(d,2),$=a(h,!0);t(h),t(c),m(()=>{Ee(c,1,`inline-flex items-center gap-2 px-3 py-1 ${e(b)?"bg-amber-500/10 border-amber-500/20":"bg-indigo-500/10 border-indigo-500/20"} rounded-full shadow-sm glass`),Ee(d,1,`w-1.5 h-1.5 rounded-full ${e(b)?"bg-amber-500 animate-pulse":s()?"bg-green-500 animate-pulse":"bg-slate-600"} shadow-[0_0_8px_rgba(34,197,94,0.4)]`),Ee(h,1,`text-[9px] font-black ${e(b)?"text-amber-500":"text-indigo-400"} uppercase tracking-widest truncate max-w-[150px]`),o($,i().campaignName)}),l(f,c)},k=f=>{var c=yr(),d=a(c),h=a(d),$=a(h),O=a($);oa(O,{size:16}),t($),bt(2),t(h);var q=r(h,2);q.__click=function(...se){Le.leaveCampaign?.apply(this,se)};var D=a(q);la(D,{size:14}),t(q),t(d);var G=r(d,2),N=a(G),g=a(N,!0);t(N);var w=r(N,2),E=r(a(w),2),te=a(E,!0);t(E),t(w),t(G);var le=r(G,2),_e=a(le),X=a(_e),re=r(X,2),ce=a(re,!0);t(re),t(_e);var de=r(_e,2),J=a(de);{var he=se=>{Pt(se,{size:10,class:"opacity-40 animate-spin",style:"animation-duration: 3s"})},W=se=>{var ue=Ce(),oe=ge(ue);{var L=B=>{Fa(B,{size:10,class:"opacity-40"})},ae=B=>{ar(B,{size:10,class:"opacity-40 text-red-500/50"})};U(oe,B=>{s()?B(L):B(ae,!1)},!0)}l(se,ue)};U(J,se=>{e(b)?se(he):se(W,!1)})}var j=r(J);t(de),t(le),t(c),m(()=>{Ee(c,1,`bg-slate-900/50 border border-slate-800 rounded-2xl p-5 space-y-4 shadow-lg backdrop-blur-sm group hover:border-indigo-500/30 transition-all duration-300 ${!s()&&!e(b)?"opacity-60 saturate-50":""} ${e(b)?"border-amber-500/20":""}`),Ee($,1,`p-1.5 ${e(b)?"bg-amber-500/10 text-amber-500":s()?"bg-indigo-500/10 text-indigo-400":"bg-slate-800 text-slate-500"} rounded-lg`),o(g,i().campaignName),o(te,i().gmName),Ee(X,1,`w-1.5 h-1.5 rounded-full ${e(b)?"bg-amber-500 shadow-[0_0_10px_rgba(245,158,11,0.4)] animate-pulse":s()?"bg-green-500 shadow-[0_0_10px_rgba(34,197,94,0.4)] animate-pulse":"bg-slate-700"}`),Ee(re,1,`text-[11px] font-bold uppercase tracking-wider ${e(b)?"text-amber-500":s()?"text-slate-400":"text-slate-600"}`),o(ce,e(b)?"Pendente de Aprovação":s()?"Online":"Offline"),o(j,` ${e(b)?"PENDENTE":s()?"SYNCED":"WAITING"}`)}),l(f,c)};U(Y,f=>{_()?f(C):f(k,!1)},!0)}l(T,R)};U(F,T=>{x()?T(A):T(I,!1)})}l(M,z)};U(n,M=>{i().campaignId&&M(S)})}l(H,v),Re(),P()}Ve(["click"]);var wr=u('<div class="fixed inset-0 z-40"></div> <div class="absolute top-full left-0 mt-2 w-48 bg-slate-800 border border-slate-700 rounded-xl shadow-xl z-50 overflow-hidden animate-in slide-in-from-top-2 fade-in duration-200"><button class="w-full text-left px-4 py-3 text-xs font-bold text-slate-300 hover:text-white hover:bg-slate-700 flex items-center gap-3 transition-colors border-b border-slate-700/50"><!> </button> <button class="w-full text-left px-4 py-3 text-xs font-bold text-slate-300 hover:text-white hover:bg-slate-700 flex items-center gap-3 transition-colors"><!> </button></div>',1),kr=u('<div><div class="absolute inset-0 bg-gradient-to-b from-white/20 to-transparent"></div></div>'),zr=u('<div class="absolute inset-0 bg-gradient-to-r from-emerald-500/20 via-emerald-400/30 to-emerald-500/20 z-10"><div class="absolute inset-0 bg-gradient-to-b from-white/10 to-transparent"></div></div>'),Sr=u('<div class="absolute top-0 left-0 w-full h-full z-20 bg-cyan-400/20 pointer-events-none animate-pulse"></div>'),Tr=u('<span class="absolute -top-1 -right-1 flex h-3 w-3"><span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"></span> <span class="relative inline-flex rounded-full h-3 w-3 bg-red-500 border border-slate-900"></span></span>'),Or=u('<header class="bg-slate-900/80 backdrop-blur-md border-b border-white/5 sticky top-0 z-40 shadow-2xl"><div class="max-w-6xl mx-auto px-2 sm:px-4 py-2 sm:py-3"><div class="flex items-center justify-between gap-2 sm:gap-4"><div class="flex items-center gap-1 sm:gap-3"><button class="p-2 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-all flex items-center gap-1 group"><!> <!></button> <div class="relative"><button class="flex items-center gap-2 group text-left relative" aria-label="Opções do Personagem"><div class="rounded-lg sm:rounded-full overflow-hidden border border-white/10 shadow-lg shadow-indigo-500/20 group-hover:scale-105 transition-transform w-8 h-8 sm:w-10 sm:h-10"><!></div> <div><div class="flex items-center gap-2"><h1 class="text-xs sm:text-sm font-bold text-white leading-tight truncate max-w-[80px] sm:max-w-none group-hover:text-indigo-400 transition-colors"> </h1></div> <p class="hidden xs:block text-[10px] text-slate-500 font-medium svelte-fpzs02"> </p></div></button> <!></div></div> <button class="flex-1 max-w-md cursor-pointer group px-2 sm:px-0 text-left"><div class="flex justify-between text-[10px] sm:text-xs mb-1.5 px-1"><span><!></span> <span class="text-slate-400 font-mono flex items-center gap-1 group-hover:text-white transition-colors"><span> </span><span class="opacity-30">/</span><span class="text-white font-bold"> </span></span></div> <div class="h-3 sm:h-5 w-full bg-slate-950 rounded-full border border-white/5 relative overflow-hidden group-hover:border-white/20 transition-all shadow-inner"><div></div> <!> <!> <!></div></button> <div class="flex items-center gap-1 sm:gap-2"><button class="p-2 text-slate-400 hover:text-indigo-400 hover:bg-indigo-400/10 rounded-full transition-all"><!></button> <button class="p-2 bg-indigo-600/10 text-indigo-400 border border-indigo-400/20 rounded-lg hover:bg-indigo-600 hover:text-white transition-all relative"><!> <!></button> <button class="hidden sm:flex p-2 text-slate-400 hover:text-white hover:bg-white/5 rounded-full transition-all" title="Configurações"><!></button></div></div></div></header> <input type="file" hidden="" accept="image/*"/> <!>',1);function Mr(H,y){Ue(y,!0);const i=()=>K(Ge,"$t",M),s=()=>K(qe,"$character",M),p=()=>K(Ea,"$isIncapacitated",M),P=()=>K(Aa,"$isInjured",M),_=()=>K(zt,"$damage",M),x=()=>K(Wt,"$effectiveMaxHealth",M),v=()=>K(Ca,"$damagePercentage",M),n=()=>K(Pa,"$tempHealth",M),S=()=>K(Da,"$rollHistory",M),[M,b]=Fe();let z=Xe(!1),F=Xe(!1),A=Xe(""),I=Xe(void 0);function T(ne){Te.update(be=>({...be,type:ne,isOpen:!0}))}function R(ne){const be=ne.target.files;if(be&&be.length>0){const Me=be[0],Ye=new FileReader;Ye.onload=()=>{Se(A,Ye.result,!0),Se(F,!0),Se(z,!1)},Ye.readAsDataURL(Me)}ne.target&&(ne.target.value="")}async function Y(ne){console.log("CharacterHeader: handleCrop started",ne);try{const be=await Ja(ne);console.log("CharacterHeader: Image saved, hash:",be),qe.update(Me=>({...Me,imageUrl:be})),Se(F,!1)}catch(be){console.error("CharacterHeader: Error in handleCrop:",be),alert(be.message||"Erro ao salvar imagem")}}var C=Or(),k=ge(C),f=a(k),c=a(f),d=a(c),h=a(d);h.__click=()=>va(pa("/"));var $=a(h);Ya($,{size:20,class:"group-hover:-translate-x-0.5 transition-transform"});var O=r($,2);Ba(O,{size:18,class:"hidden sm:block opacity-50"}),t(h);var q=r(h,2),D=a(q);D.__click=()=>Se(z,!e(z));var G=a(D),N=a(G);{let ne=fe(()=>s().name.charAt(0));Xa(N,{get hash(){return s().imageUrl},get alt(){return s().name},get fallbackText(){return e(ne)},size:"custom"})}t(G);var g=r(G,2),w=a(g),E=a(w),te=a(E,!0);t(E),t(w);var le=r(w,2),_e=a(le);t(le),t(g),t(D);var X=r(D,2);{var re=ne=>{var be=wr(),Me=ge(be);Me.__click=()=>Se(z,!1);var Ye=r(Me,2),Qe=a(Ye);Qe.__click=()=>e(I).click();var Ke=a(Qe);Qa(Ke,{size:16,class:"text-indigo-400"});var it=r(Ke);t(Qe);var xt=r(Qe,2);xt.__click=()=>{T("character_info"),Se(z,!1)};var ot=a(xt);_r(ot,{size:16,class:"text-slate-400"});var et=r(ot);t(xt),t(Ye),m((Je,nt)=>{o(it,` ${Je??""}`),o(et,` ${nt??""}`)},[()=>i()("character.header.change_photo"),()=>i()("character.header.edit_info")]),l(ne,be)};U(X,ne=>{e(z)&&ne(re)})}t(q),t(d);var ce=r(d,2);ce.__click=()=>T("health");var de=a(ce),J=a(de),he=a(J);{var W=ne=>{var be=Et();m(Me=>o(be,Me),[()=>i()("character.health.incapacitated")]),l(ne,be)},j=ne=>{var be=Ce(),Me=ge(be);{var Ye=Ke=>{var it=Et();m(xt=>o(it,xt),[()=>i()("character.health.injured")]),l(Ke,it)},Qe=Ke=>{var it=Ce(),xt=ge(it);{var ot=Je=>{},et=Je=>{var nt=Et();m(Ne=>o(nt,Ne),[()=>i()("character.health.healthy")]),l(Je,nt)};U(xt,Je=>{_()>0?Je(ot):Je(et,!1)},!0)}l(Ke,it)};U(Me,Ke=>{P()?Ke(Ye):Ke(Qe,!1)},!0)}l(ne,be)};U(he,ne=>{p()?ne(W):ne(j,!1)})}t(J);var se=r(J,2),ue=a(se),oe=a(ue,!0);t(ue);var L=r(ue,2),ae=a(L,!0);t(L),t(se),t(de);var B=r(de,2),we=a(B),ke=r(we,2);{var me=ne=>{var be=kr();m(()=>{Ee(be,1,`absolute top-0 left-0 h-full transition-all duration-500 ease-out z-10 ${p()?"bg-gradient-to-r from-red-600 via-red-500 to-rose-500 animate-pulse":v()>=80?"bg-gradient-to-r from-red-600 to-rose-500":P()?"bg-gradient-to-r from-amber-600 to-orange-500":"bg-gradient-to-r from-orange-500 to-amber-400"}`),Oa(be,`width: ${v()??""}%`)}),l(ne,be)};U(ke,ne=>{v()>0&&ne(me)})}var Q=r(ke,2);{var Z=ne=>{var be=zr();l(ne,be)};U(Q,ne=>{_()===0&&ne(Z)})}var V=r(Q,2);{var ee=ne=>{var be=Sr();l(ne,be)};U(V,ne=>{n()>0&&ne(ee)})}t(B),t(ce);var ve=r(ce,2),ie=a(ve);ie.__click=()=>T("rest_confirm");var pe=a(ie);ur(pe,{size:18}),t(ie);var xe=r(ie,2);xe.__click=()=>Gt.update(ne=>!ne);var ze=a(xe);Xt(ze,{size:18});var ye=r(ze,2);{var Oe=ne=>{var be=Tr();l(ne,be)};U(ye,ne=>{S().length>0&&ne(Oe)})}t(xe);var De=r(xe,2);De.__click=()=>T("character_info");var We=a(De);rr(We,{size:18}),t(De),t(ve),t(c),t(f),t(k);var Ae=r(k,2);Ae.__change=R,Ga(Ae,ne=>Se(I,ne),()=>e(I));var Pe=r(Ae,2);Ka(Pe,{get isOpen(){return e(F)},get imageUrl(){return e(A)},onClose:()=>Se(F,!1),onCrop:Y}),m((ne,be,Me,Ye,Qe)=>{$e(h,"aria-label",ne),$e(h,"title",be),o(te,s().name),o(_e,`Nv ${s().level??""}`),$e(ce,"aria-label",Me),Ee(J,1,`font-black uppercase tracking-wider ${p()?"text-red-500 animate-pulse":P()?"text-amber-500":_()>0?"text-slate-400":"text-emerald-500"}`),Ee(ue,1,`${_()===0?"text-emerald-400":p()?"text-red-400":P()?"text-amber-400":"text-orange-400"} font-bold group-hover:text-red-300`),o(oe,_()),o(ae,x()),Ee(we,1,`absolute top-0 left-0 h-full w-full ${_()===0?"bg-emerald-900/20":"bg-slate-900/50"}`),$e(ie,"title",Ye),$e(xe,"title",Qe)},[()=>i()("character.header.back_dashboard"),()=>i()("character.header.back_dashboard"),()=>i()("character.header.health_label"),()=>i()("character.header.rest"),()=>i()("character.header.history")]),l(H,C),Re(),b()}Ve(["click","change"]);var Er=u('<span class="text-[10px] text-indigo-300 uppercase font-bold mb-2 block"> </span>'),Ar=u('<div><!> <div class="flex items-center justify-between bg-black/40 rounded-xl p-1.5 border border-white/5"><button type="button" class="w-10 h-10 flex items-center justify-center bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg transition-all active:scale-90" aria-label="Diminuir"><!></button> <div class="flex flex-col items-center"><span class="text-2xl font-black text-white leading-none tracking-tighter"> </span></div> <button type="button" class="w-10 h-10 flex items-center justify-center bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg transition-all active:scale-90 shadow-lg shadow-indigo-500/20" aria-label="Aumentar"><!></button></div></div>');function fa(H,y){Ue(y,!0);let i=Ft(y,"min",3,0);function s(){const I=Math.max(i(),y.value-1);y.onUpdate(I)}function p(){const I=y.value+1;y.onUpdate(I)}var P=Ar(),_=a(P);{var x=I=>{var T=Er(),R=a(T,!0);t(T),m(()=>o(R,y.label)),l(I,T)};U(_,I=>{y.label&&I(x)})}var v=r(_,2),n=a(v);n.__click=s;var S=a(n);Ct(S,{size:18}),t(n);var M=r(n,2),b=a(M),z=a(b);t(b),t(M);var F=r(M,2);F.__click=p;var A=a(F);lt(A,{size:18}),t(F),t(v),t(P),m(()=>o(z,`${y.value??""}d6`)),l(H,P),Re()}Ve(["click"]);var Cr=u('<p class="text-[10px] text-red-500 mt-1"> </p>'),Pr=u("<option> </option>"),Dr=u("<option> </option>"),Nr=u('<div class="absolute z-50 top-full left-0 mt-1 w-64 p-2 bg-slate-800 border border-indigo-500 rounded-lg shadow-xl text-[10px] text-slate-300 leading-relaxed"> <div class="absolute -top-1 left-4 w-2 h-2 bg-slate-800 border-l border-t border-indigo-500 rotate-45"></div></div>'),jr=u('<div class="relative"><div class="bg-slate-950 border border-slate-700 text-slate-200 px-3 py-2 rounded-xl text-xs font-bold flex items-center gap-2 group transition-all hover:border-indigo-500/50 cursor-pointer"> <button class="text-slate-500 hover:text-red-400 p-1 rounded-full hover:bg-red-400/10 transition-all"><!></button></div> <!></div>'),Hr=u('<div class="bg-indigo-900/10 border border-indigo-900/30 rounded-xl p-4 space-y-4"><!> <div class="grid grid-cols-2 gap-3"><label class="block"><span class="text-[10px] text-indigo-300 uppercase font-bold mb-1 block"> </span> <select class="w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-white text-sm"></select></label> <label class="block"><span class="text-[10px] text-indigo-300 uppercase font-bold mb-1 block"> </span> <select class="w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-white text-sm"><option>Melee</option><option>Ranged</option></select></label></div> <div><span class="text-[10px] text-indigo-300 uppercase font-bold mb-2 block"> </span> <div class="flex flex-wrap gap-2 mb-2 min-h-[2rem]"></div> <button class="w-full py-2 bg-slate-900 hover:bg-indigo-600 border border-slate-700 hover:border-indigo-500 rounded-lg text-sm font-bold text-slate-400 hover:text-white transition-all flex items-center justify-center gap-2"><!> </button></div></div>'),Ir=u('<div class="bg-indigo-900/10 border border-indigo-900/30 rounded-xl p-4 space-y-4"><div class="grid grid-cols-2 gap-3"><label class="block"><span class="text-[10px] text-indigo-300 uppercase font-bold mb-1 block"> </span> <input type="number" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white font-bold" placeholder="Ex: 12"/></label> <label class="block"><span class="text-[10px] text-indigo-300 uppercase font-bold mb-1 block"> </span> <input type="number" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white font-bold" placeholder="Ex: +1"/></label></div> <p class="text-[9px] text-indigo-400/60 italic leading-tight">* Armaduras usam o maior valor entre a Defesa Fixa ou sua Defesa Natural + Modificador.</p></div>'),Ur=u('<div class="bg-indigo-900/10 border border-indigo-900/30 rounded-xl p-4"><label class="block"><span class="text-[10px] text-indigo-300 uppercase font-bold mb-1 block"> </span> <input type="number" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white font-bold" placeholder="Ex: 1, 2"/></label></div>'),Rr=u('<button class="bg-red-900/50 hover:bg-red-900 text-red-200 p-3 rounded-lg transition-colors"><!></button>'),qr=u('<div class="space-y-4 p-1"><div><label for="item-name" class="text-xs font-bold text-slate-400 uppercase block mb-1"> </label> <input id="item-name" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white font-bold"/> <!></div> <div><label for="item-description" class="block text-xs font-bold text-slate-400 uppercase mb-1"> </label> <textarea id="item-description" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white text-sm focus:ring-2 focus:ring-indigo-500 outline-none"></textarea></div> <div class="grid grid-cols-2 gap-3"><label class="block"><span class="text-[10px] text-slate-500 uppercase font-bold mb-1 block"> </span> <select class="w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-white text-sm focus:ring-2 focus:ring-indigo-500 outline-none"></select></label> <label class="block"><span class="text-[10px] text-slate-500 uppercase font-bold mb-1 block"> </span> <input type="number" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-white text-sm focus:ring-2 focus:ring-indigo-500 outline-none"/></label></div> <!> <!> <!> <div class="flex gap-2 pt-2"><!> <button class="flex-1 bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 rounded-lg shadow-lg shadow-indigo-900/20 active:scale-[0.98] transition-all"> </button></div></div>'),Lr=u('<div class="flex items-center gap-1 bg-indigo-600 text-white px-2 py-1 rounded-full text-[10px] font-bold"> <button class="hover:bg-red-600 rounded-full p-0.5 transition-colors"><!></button></div>'),Vr=u('<div class="mb-3 p-3 bg-slate-900 rounded-lg border border-indigo-900/30"><div class="text-[10px] text-slate-400 uppercase font-bold mb-2"> </div> <div class="flex flex-wrap gap-1.5"></div></div>'),Fr=u('<button class="w-full text-left p-3 rounded-lg hover:bg-slate-900 border border-transparent hover:border-indigo-500 transition-all mb-1"><div class="font-bold text-white text-sm mb-1"> </div> <div class="text-xs text-slate-400 leading-relaxed"> </div></button>'),Gr=u('<div class="text-center text-slate-500 py-8"> </div>'),Wr=u('<div class="fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-end md:items-center justify-center p-4"><div class="bg-slate-950 rounded-t-3xl md:rounded-2xl border border-slate-800 w-full md:max-w-md max-h-[80vh] overflow-hidden flex flex-col"><div class="p-4 border-b border-slate-800"><h3 class="text-lg font-bold text-white mb-3"> </h3> <!> <div class="relative"><!> <input type="text" class="w-full pl-10 pr-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white text-sm focus:ring-2 focus:ring-indigo-500 outline-none"/></div></div> <div class="flex-1 overflow-y-auto custom-scrollbar p-2"><!> <!></div> <div class="p-4 border-t border-slate-800"><button class="w-full py-2 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-bold transition-colors"> </button></div></div></div>'),Yr=u("<!> <!>",1);function Br(H,y){Ue(y,!0);const i=()=>K(Te,"$modalState",p),s=()=>K(Ge,"$t",p),[p,P]=Fe();let _=fe(()=>i().isOpen&&i().type==="item"),x=fe(()=>i().data),v=Xe(mt({id:void 0,name:"",type:ct.OTHER,quantity:1,price:0,description:"",availability:"Common",quality:"Standard",damageDice:"",traits:"",grip:At.ONE,range:"Melee",defenseFixed:0,defenseMod:0})),n=Xe(mt([])),S=Na,M=Xe(!1),b=Xe(""),z=Xe(null),F=fe(()=>S.filter(c=>!e(n).includes(c)&&s()(`character.traits.${c}`).toLowerCase().includes(e(b).toLowerCase())));ut(()=>{e(_)&&e(x)?(Se(v,{...e(x)},!0),Se(n,e(x).traits?e(x).traits.split(",").map(c=>c.trim()).filter(c=>c):[],!0)):e(_)&&!e(x)&&(Se(v,{id:void 0,name:"",type:ct.OTHER,quantity:1,price:0,description:"",availability:"Common",quality:"Standard",damageDice:"",traits:"",grip:At.ONE,range:"Melee",defenseFixed:0,defenseMod:0},!0),Se(n,[],!0))});function A(c){e(n).includes(c)?Se(n,e(n).filter(d=>d!==c),!0):Se(n,[...e(n),c],!0)}function I(c){Se(n,[...e(n),c],!0)}function T(){Te.update(c=>({...c,type:null,isOpen:!1,data:null})),Se(z,null)}function R(){if(!e(v).name?.trim())return alert(s()("character.modals.name_required"));const c=e(n).join(", "),d={...e(v),traits:c,id:e(v).id||Ut()};e(x)?Le.updateItem(d):Le.addItem(d),T()}var Y=Yr(),C=ge(Y);{let c=fe(()=>s()("character.modals.item_editor"));vt(C,{get isOpen(){return e(_)},get title(){return e(c)},onClose:T,children:(d,h)=>{var $=qr(),O=a($),q=a(O),D=a(q,!0);t(q);var G=r(q,2);Be(G);var N=r(G,2);{var g=V=>{var ee=Cr(),ve=a(ee,!0);t(ee),m(ie=>o(ve,ie),[()=>s()("character.modals.name_required")]),l(V,ee)};U(N,V=>{e(v).name||V(g)})}t(O);var w=r(O,2),E=a(w),te=a(E,!0);t(E);var le=r(E,2);jt(le),$e(le,"rows",3),t(w);var _e=r(w,2),X=a(_e),re=a(X),ce=a(re,!0);t(re);var de=r(re,2);je(de,21,()=>Object.values(ct),He,(V,ee,ve,ie)=>{var pe=Pr(),xe=a(pe,!0);t(pe);var ze={};m(()=>{o(xe,e(ee)),ze!==(ze=e(ee))&&(pe.value=(pe.__value=e(ee))??"")}),l(V,pe)}),t(de),t(X);var J=r(X,2),he=a(J),W=a(he,!0);t(he);var j=r(he,2);Be(j),t(J),t(_e);var se=r(_e,2);{var ue=V=>{var ee=Hr(),ve=a(ee);{let ot=fe(()=>parseInt(e(v).damageDice)||0),et=fe(()=>s()("character.modals.damage"));fa(ve,{get value(){return e(ot)},get label(){return`${e(et)??""} (d6)`},onUpdate:Je=>e(v).damageDice=Je.toString()})}var ie=r(ve,2),pe=a(ie),xe=a(pe),ze=a(xe,!0);t(xe);var ye=r(xe,2);je(ye,21,()=>Object.values(At),He,(ot,et)=>{var Je=Dr(),nt=a(Je,!0);t(Je);var Ne={};m(()=>{o(nt,e(et)),Ne!==(Ne=e(et))&&(Je.value=(Je.__value=e(et))??"")}),l(ot,Je)}),t(ye),t(pe);var Oe=r(pe,2),De=a(Oe),We=a(De,!0);t(De);var Ae=r(De,2),Pe=a(Ae);Pe.value=Pe.__value="Melee";var ne=r(Pe);ne.value=ne.__value="Ranged",t(Ae),t(Oe),t(ie);var be=r(ie,2),Me=a(be),Ye=a(Me,!0);t(Me);var Qe=r(Me,2);je(Qe,21,()=>e(n),He,(ot,et)=>{var Je=jr(),nt=a(Je);nt.__click=()=>Se(z,e(z)===e(et)?null:e(et),!0);var Ne=a(nt),kt=r(Ne);kt.__click=pt=>{pt.stopPropagation(),A(e(et))};var Rt=a(kt);Dt(Rt,{size:14}),t(kt),t(nt);var qt=r(nt,2);{var Ot=pt=>{var Mt=Nr(),wa=a(Mt);bt(),t(Mt),m(ka=>o(wa,`${ka??""} `),[()=>s()(`character.traits.${e(et)}_DESC`)]),l(pt,Mt)};U(qt,pt=>{e(z)===e(et)&&pt(Ot)})}t(Je),m((pt,Mt)=>{o(Ne,`${pt??""} `),$e(kt,"title",Mt)},[()=>s()(`character.traits.${e(et)}`),()=>s()("character.modals.remove")]),l(ot,Je)}),t(Qe);var Ke=r(Qe,2);Ke.__click=()=>Se(M,!0);var it=a(Ke);lt(it,{size:16});var xt=r(it);t(Ke),t(be),t(ee),m((ot,et,Je,nt)=>{o(ze,ot),o(We,et),o(Ye,Je),o(xt,` ${nt??""}`)},[()=>s()("character.modals.hands"),()=>s()("character.modals.range"),()=>s()("character.modals.traits"),()=>s()("character.modals.add_property")]),gt(ye,()=>e(v).grip,ot=>e(v).grip=ot),gt(Ae,()=>e(v).range,ot=>e(v).range=ot),l(V,ee)};U(se,V=>{e(v).type===ct.WEAPON&&V(ue)})}var oe=r(se,2);{var L=V=>{var ee=Ir(),ve=a(ee),ie=a(ve),pe=a(ie),xe=a(pe,!0);t(pe);var ze=r(pe,2);Be(ze),t(ie);var ye=r(ie,2),Oe=a(ye),De=a(Oe,!0);t(Oe);var We=r(Oe,2);Be(We),t(ye),t(ve),bt(2),t(ee),m((Ae,Pe)=>{o(xe,Ae),o(De,Pe)},[()=>s()("character.modals.fixed_def"),()=>s()("character.modals.mod_def")]),Ie(ze,()=>e(v).defenseFixed,Ae=>e(v).defenseFixed=Ae),Ie(We,()=>e(v).defenseMod,Ae=>e(v).defenseMod=Ae),l(V,ee)};U(oe,V=>{e(v).type===ct.ARMOR&&V(L)})}var ae=r(oe,2);{var B=V=>{var ee=Ur(),ve=a(ee),ie=a(ve),pe=a(ie,!0);t(ie);var xe=r(ie,2);Be(xe),t(ve),t(ee),m(ze=>o(pe,ze),[()=>s()("character.modals.mod_def")]),Ie(xe,()=>e(v).defenseMod,ze=>e(v).defenseMod=ze),l(V,ee)};U(ae,V=>{e(v).type===ct.SHIELD&&V(B)})}var we=r(ae,2),ke=a(we);{var me=V=>{var ee=Rr();ee.__click=()=>{Le.deleteItem(e(x).id),T()};var ve=a(ee);Tt(ve,{size:20}),t(ee),m(ie=>$e(ee,"title",ie),[()=>s()("character.modals.delete")]),l(V,ee)};U(ke,V=>{e(x)&&V(me)})}var Q=r(ke,2);Q.__click=R;var Z=a(Q,!0);t(Q),t(we),t($),m((V,ee,ve,ie,pe,xe,ze,ye)=>{o(D,V),$e(G,"placeholder",ee),o(te,ve),$e(le,"placeholder",ie),o(ce,pe),o(W,xe),$e(j,"placeholder",ze),o(Z,ye)},[()=>s()("character.modals.name"),()=>s()("character.modals.name"),()=>s()("character.modals.description"),()=>s()("character.modals.description"),()=>s()("character.modals.type"),()=>s()("character.modals.qty"),()=>s()("character.modals.qty"),()=>s()("common.buttons.save")]),Ie(G,()=>e(v).name,V=>e(v).name=V),Ie(le,()=>e(v).description,V=>e(v).description=V),gt(de,()=>e(v).type,V=>e(v).type=V),Ie(j,()=>e(v).quantity,V=>e(v).quantity=V),l(d,$)},$$slots:{default:!0}})}var k=r(C,2);{var f=c=>{var d=Wr(),h=a(d),$=a(h),O=a($),q=a(O,!0);t(O);var D=r(O,2);{var G=de=>{var J=Vr(),he=a(J),W=a(he);t(he);var j=r(he,2);je(j,21,()=>e(n),He,(se,ue)=>{var oe=Lr(),L=a(oe),ae=r(L);ae.__click=()=>A(e(ue));var B=a(ae);Dt(B,{size:10}),t(ae),t(oe),m((we,ke)=>{o(L,`${we??""} `),$e(ae,"title",ke)},[()=>s()(`character.traits.${e(ue)}`),()=>s()("character.modals.remove")]),l(se,oe)}),t(j),t(J),m(se=>o(W,`${se??""} (${e(n).length??""})`),[()=>s()("character.modals.selected_properties")]),l(de,J)};U(D,de=>{e(n).length>0&&de(G)})}var N=r(D,2),g=a(N);xr(g,{class:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:18});var w=r(g,2);Be(w),t(N),t($);var E=r($,2),te=a(E);je(te,17,()=>e(F),He,(de,J)=>{var he=Fr();he.__click=()=>I(e(J));var W=a(he),j=a(W,!0);t(W);var se=r(W,2),ue=a(se,!0);t(se),t(he),m((oe,L)=>{o(j,oe),o(ue,L)},[()=>s()(`character.traits.${e(J)}`),()=>s()(`character.traits.${e(J)}_DESC`)]),l(de,he)});var le=r(te,2);{var _e=de=>{var J=Gr(),he=a(J,!0);t(J),m(W=>o(he,W),[()=>s()("character.modals.no_property_found")]),l(de,J)};U(le,de=>{e(F).length===0&&de(_e)})}t(E);var X=r(E,2),re=a(X);re.__click=()=>{Se(M,!1),Se(b,"")};var ce=a(re,!0);t(re),t(X),t(h),t(d),m((de,J,he)=>{o(q,de),$e(w,"placeholder",J),o(ce,he)},[()=>s()("character.modals.add_property"),()=>s()("character.modals.search_property"),()=>s()("character.modals.close")]),Ie(w,()=>e(b),de=>Se(b,de)),l(c,d)};U(k,c=>{e(M)&&c(f)})}l(H,Y),Re(),P()}Ve(["click"]);var Xr=u('<p class="text-[10px] text-red-500"> </p>'),Kr=u("<option> </option>"),Jr=u("<option> </option>"),Qr=u('<button class="bg-red-900/50 hover:bg-red-900 text-red-200 p-2 rounded"><!></button>'),Zr=u('<div class="space-y-3 p-1"><div><label class="text-xs font-bold text-slate-400 uppercase"> <input class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white font-bold mb-1"/></label> <!></div> <div class="grid grid-cols-2 gap-2"><label class="block"><span class="text-[10px] text-slate-500 uppercase font-bold"> </span> <select class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white text-xs"></select></label> <div class="relative"><label class="block"><span class="text-[10px] text-slate-500 uppercase font-bold"> </span> <input list="traditions" class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white text-xs"/></label> <datalist id="traditions"></datalist></div></div> <div class="flex items-center gap-2 bg-slate-900 p-2 rounded border border-slate-700"><label for="maxCastings" class="text-xs text-slate-400 uppercase"> </label> <input id="maxCastings" type="number" class="w-16 bg-slate-800 border border-slate-600 rounded p-1 text-white text-center"/></div> <div class="bg-slate-900 p-2 rounded border border-slate-700 flex justify-between items-center"><span class="text-xs text-slate-400 font-bold uppercase"> </span> <button> </button></div> <label class="block text-xs font-bold text-slate-400 uppercase"> <textarea class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white text-sm"></textarea></label> <div class="flex gap-2"><!> <button class="flex-1 bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded"> </button></div></div>');function es(H,y){Ue(y,!0);const i=()=>K(Te,"$modalState",p),s=()=>K(Ge,"$t",p),[p,P]=Fe();let _=fe(()=>i().isOpen&&i().type==="spell"),x=fe(()=>i().data),v=Xe(mt({id:void 0,name:"",tier:"Novice",tradition:"Destruction",type:"Attack",castings:1,maxCastings:1,description:"",effect:null}));ut(()=>{e(_)&&e(x)?Se(v,{...e(x)},!0):e(_)&&!e(x)&&Se(v,{id:void 0,name:"",tier:"Novice",tradition:"Destruction",type:"Attack",castings:1,maxCastings:1,description:"",effect:null},!0)});function n(){Te.update(b=>({...b,type:null,isOpen:!1,data:null}))}function S(){if(!e(v).name?.trim())return alert(s()("character.modals.name_required"));const b={...e(v),id:e(v).id||Ut()};e(x)?Le.updateSpell(b):Le.addSpell(b),n()}function M(){Te.update(b=>({...b,type:"effect",data:{parentType:"spell",parentData:e(v)}}))}{let b=fe(()=>s()("character.modals.spell_editor"));vt(H,{get isOpen(){return e(_)},get title(){return e(b)},onClose:n,children:(z,F)=>{var A=Zr(),I=a(A),T=a(I),R=a(T),Y=r(R);Be(Y),t(T);var C=r(T,2);{var k=ae=>{var B=Xr(),we=a(B,!0);t(B),m(ke=>o(we,ke),[()=>s()("character.modals.name_required")]),l(ae,B)};U(C,ae=>{e(v).name||ae(k)})}t(I);var f=r(I,2),c=a(f),d=a(c),h=a(d,!0);t(d);var $=r(d,2);je($,20,()=>["Novice","Expert","Master"],He,(ae,B,we,ke)=>{var me=Kr(),Q=a(me,!0);t(me);var Z={};m(()=>{o(Q,B),Z!==(Z=B)&&(me.value=(me.__value=B)??"")}),l(ae,me)}),t($),t(c);var O=r(c,2),q=a(O),D=a(q),G=a(D,!0);t(D);var N=r(D,2);Be(N),t(q);var g=r(q,2);je(g,21,()=>ja,He,(ae,B,we,ke)=>{var me=Jr(),Q=a(me,!0);t(me);var Z={};m(()=>{o(Q,e(B)),Z!==(Z=e(B))&&(me.value=(me.__value=e(B))??"")}),l(ae,me)}),t(g),t(O),t(f);var w=r(f,2),E=a(w),te=a(E,!0);t(E);var le=r(E,2);Be(le),le.__input=()=>e(v).castings=e(v).maxCastings,t(w);var _e=r(w,2),X=a(_e),re=a(X,!0);t(X);var ce=r(X,2);ce.__click=M;var de=a(ce,!0);t(ce),t(_e);var J=r(_e,2),he=a(J),W=r(he);jt(W),$e(W,"rows",4),t(J);var j=r(J,2),se=a(j);{var ue=ae=>{var B=Qr();B.__click=()=>{Le.deleteSpell(e(x).id),n()};var we=a(B);Tt(we,{size:18}),t(B),m(ke=>$e(B,"title",ke),[()=>s()("character.modals.delete")]),l(ae,B)};U(se,ae=>{e(x)&&ae(ue)})}var oe=r(se,2);oe.__click=S;var L=a(oe,!0);t(oe),t(j),t(A),m((ae,B,we,ke,me,Q,Z,V,ee,ve,ie)=>{o(R,`${ae??""} `),$e(Y,"placeholder",B),o(h,we),o(G,ke),$e(N,"placeholder",me),o(te,Q),o(re,Z),Ee(ce,1,`text-[10px] px-2 py-1 rounded border ${e(v).effect?"bg-indigo-900 border-indigo-500 text-indigo-200":"bg-slate-800 border-slate-600 text-slate-500"}`),o(de,V),o(he,`${ee??""} `),$e(W,"placeholder",ve),o(L,ie)},[()=>s()("character.modals.name"),()=>s()("character.modals.name"),()=>s()("character.modals.tier"),()=>s()("character.modals.tradition"),()=>s()("character.modals.tradition"),()=>s()("character.modals.castings"),()=>s()("character.modals.associated_effect"),()=>e(v).effect?s()("character.modals.configured"):s()("character.modals.none"),()=>s()("character.modals.description"),()=>s()("character.modals.description"),()=>s()("common.buttons.save")]),Ie(Y,()=>e(v).name,ae=>e(v).name=ae),gt($,()=>e(v).tier,ae=>e(v).tier=ae),Ie(N,()=>e(v).tradition,ae=>e(v).tradition=ae),Ie(le,()=>e(v).maxCastings,ae=>e(v).maxCastings=ae),Ie(W,()=>e(v).description,ae=>e(v).description=ae),l(z,A)},$$slots:{default:!0}})}Re(),P()}Ve(["input","click"]);var ts=u('<p class="text-[10px] text-red-500 mt-1"> </p>'),as=u("<option> </option>"),rs=u('<div class="bg-indigo-900/10 border border-indigo-900/30 rounded-xl p-4"><label for="maxUses" class="block"><span class="text-[10px] text-indigo-300 uppercase font-bold mb-1 block"> </span> <input id="maxUses" type="number" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white font-bold"/></label></div>'),ss=u('<label for="durationValue" class="block"><span class="text-[10px] text-indigo-300 uppercase font-bold mb-1 block"> </span> <input id="durationValue" type="number" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white font-bold"/></label>'),os=u('<div class="bg-indigo-900/10 border border-indigo-900/30 rounded-xl p-4 space-y-3"><label for="durationType" class="block"><span class="text-[10px] text-indigo-300 uppercase font-bold mb-1 block">Tipo de Duração</span> <select id="durationType" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white text-xs"><option>Sorte Encerra</option><option>Minutos</option><option>Horas</option></select></label> <!></div>'),ls=u('<button class="bg-red-900/50 hover:bg-red-900 text-red-200 p-3 rounded-lg transition-colors"><!></button>'),is=u('<div class="space-y-4 p-1"><div><label for="talentName" class="text-xs font-bold text-slate-400 uppercase block mb-1"> </label> <input id="talentName" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white font-bold"/> <!></div> <div class="grid grid-cols-2 gap-3"><div><label for="talentSource" class="text-xs font-bold text-slate-400 uppercase block mb-1"> </label> <select id="talentSource" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white text-xs"></select></div> <div><label for="talentType" class="text-xs font-bold text-slate-400 uppercase block mb-1"> </label> <select id="talentType" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white text-xs"><option> </option><option> </option><option> </option></select></div></div> <!> <div class="bg-slate-900 p-2 rounded border border-slate-700 flex justify-between items-center"><span class="text-xs text-slate-400 font-bold uppercase"> </span> <button> </button></div> <div><label for="talentDesc" class="block text-xs font-bold text-slate-400 uppercase mb-1"> </label> <textarea id="talentDesc" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white text-sm focus:ring-2 focus:ring-indigo-500 outline-none"></textarea></div> <div class="flex gap-2 pt-2"><!> <button class="flex-1 bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 rounded-lg shadow-lg shadow-indigo-900/20 active:scale-[0.98] transition-all"> </button></div></div>');function ns(H,y){Ue(y,!0);const i=()=>K(Te,"$modalState",p),s=()=>K(Ge,"$t",p),[p,P]=Fe();let _=fe(()=>i().isOpen&&i().type==="talent"),x=fe(()=>i().data),v=Xe(!1),n=Xe(mt({id:void 0,name:"",description:"",source:Ze.ANCESTRY,activityType:"Passive",uses:0,maxUses:0,duration:"ROUNDS",durationValue:1,isPassive:!0,effect:null}));ut(()=>{if(e(_)&&e(x)){const z=e(x).id;Se(v,!!z),Se(n,{id:e(x).id,name:e(x).name||"",description:e(x).description||"",source:e(x).source||Ze.ANCESTRY,activityType:e(x).activityType||(e(x).isPassive?"Passive":"Uses"),uses:e(x).uses||0,maxUses:e(x).maxUses||0,duration:e(x).duration||"ROUNDS",durationValue:e(x).durationValue||1,isPassive:e(x).isPassive??!0,effect:e(x).effect||null},!0)}else e(_)&&!e(x)&&(Se(v,!1),Se(n,{id:void 0,name:"",description:"",source:Ze.ANCESTRY,activityType:"Passive",uses:0,maxUses:0,duration:"ROUNDS",durationValue:1,isPassive:!0,effect:null},!0))});function S(){Te.update(z=>({...z,type:null,isOpen:!1,data:null}))}function M(){if(!e(n).name?.trim())return alert(s()("character.modals.name_required"));const z={...e(n),id:e(n).id||Ut(),isPassive:e(n).activityType==="Passive"};e(n).activityType==="Passive"?(z.maxUses=0,z.uses=0):e(n).activityType==="Uses"&&!e(v)?z.uses=e(n).maxUses:e(n).activityType==="Duration"&&e(n).duration==="LUCK_ENDS"&&!e(v)&&(z.maxUses=1,z.uses=1),e(v)?Le.updateTalent(z):Le.addTalent(z),S()}function b(){Te.update(z=>({...z,type:"effect",data:{parentType:"talent",parentData:e(n)}}))}{let z=fe(()=>s()("character.modals.talent_editor"));vt(H,{get isOpen(){return e(_)},get title(){return e(z)},onClose:S,children:(F,A)=>{var I=is(),T=a(I),R=a(T),Y=a(R,!0);t(R);var C=r(R,2);Be(C);var k=r(C,2);{var f=Q=>{var Z=ts(),V=a(Z,!0);t(Z),m(ee=>o(V,ee),[()=>s()("character.modals.name_required")]),l(Q,Z)};U(k,Q=>{e(n).name||Q(f)})}t(T);var c=r(T,2),d=a(c),h=a(d),$=a(h,!0);t(h);var O=r(h,2);je(O,21,()=>Object.values(Ze),He,(Q,Z)=>{var V=as(),ee=a(V,!0);t(V);var ve={};m(ie=>{o(ee,ie),ve!==(ve=e(Z))&&(V.value=(V.__value=e(Z))??"")},[()=>s()(`character.talents.sources.${e(Z)}`)]),l(Q,V)}),t(O),t(d);var q=r(d,2),D=a(q),G=a(D,!0);t(D);var N=r(D,2),g=a(N),w=a(g,!0);t(g),g.value=g.__value="Passive";var E=r(g),te=a(E,!0);t(E),E.value=E.__value="Uses";var le=r(E),_e=a(le,!0);t(le),le.value=le.__value="Duration",t(N),t(q),t(c);var X=r(c,2);{var re=Q=>{var Z=rs(),V=a(Z),ee=a(V),ve=a(ee,!0);t(ee);var ie=r(ee,2);Be(ie),t(V),t(Z),m(pe=>o(ve,pe),[()=>s()("character.modals.max_uses")]),Ie(ie,()=>e(n).maxUses,pe=>e(n).maxUses=pe),l(Q,Z)},ce=Q=>{var Z=Ce(),V=ge(Z);{var ee=ve=>{var ie=os(),pe=a(ie),xe=r(a(pe),2),ze=a(xe);ze.value=ze.__value="LUCK_ENDS";var ye=r(ze);ye.value=ye.__value="MINUTES";var Oe=r(ye);Oe.value=Oe.__value="HOURS",t(xe),t(pe);var De=r(pe,2);{var We=Ae=>{var Pe=ss(),ne=a(Pe),be=a(ne);t(ne);var Me=r(ne,2);Be(Me),t(Pe),m(()=>o(be,`Duração (${e(n).duration==="MINUTES"?"Min":"Horas"})`)),Ie(Me,()=>e(n).durationValue,Ye=>e(n).durationValue=Ye),l(Ae,Pe)};U(De,Ae=>{(e(n).duration==="MINUTES"||e(n).duration==="HOURS")&&Ae(We)})}t(ie),gt(xe,()=>e(n).duration,Ae=>e(n).duration=Ae),l(ve,ie)};U(V,ve=>{e(n).activityType==="Duration"&&ve(ee)},!0)}l(Q,Z)};U(X,Q=>{e(n).activityType==="Uses"?Q(re):Q(ce,!1)})}var de=r(X,2),J=a(de),he=a(J,!0);t(J);var W=r(J,2);W.__click=b;var j=a(W,!0);t(W),t(de);var se=r(de,2),ue=a(se),oe=a(ue,!0);t(ue);var L=r(ue,2);jt(L),$e(L,"rows",4),t(se);var ae=r(se,2),B=a(ae);{var we=Q=>{var Z=ls();Z.__click=()=>{Le.deleteTalent(e(x).id),S()};var V=a(Z);Tt(V,{size:20}),t(Z),m(ee=>$e(Z,"title",ee),[()=>s()("character.modals.delete")]),l(Q,Z)};U(B,Q=>{e(x)&&Q(we)})}var ke=r(B,2);ke.__click=M;var me=a(ke,!0);t(ke),t(ae),t(I),m((Q,Z,V,ee,ve,ie,pe,xe,ze,ye,Oe,De)=>{o(Y,Q),$e(C,"placeholder",Z),o($,V),o(G,ee),o(w,ve),o(te,ie),o(_e,pe),o(he,xe),Ee(W,1,`text-[10px] px-2 py-1 rounded border ${e(n).effect?"bg-indigo-900 border-indigo-500 text-indigo-200":"bg-slate-800 border-slate-600 text-slate-500"}`),o(j,ze),o(oe,ye),$e(L,"placeholder",Oe),o(me,De)},[()=>s()("character.modals.name"),()=>s()("character.modals.name"),()=>s()("character.talents.source"),()=>s()("character.talents.type"),()=>s()("character.talents.types.Passive"),()=>s()("character.talents.types.Uses"),()=>s()("character.talents.types.Duration"),()=>s()("character.modals.associated_effect"),()=>e(n).effect?s()("character.modals.configured"):s()("character.modals.none"),()=>s()("character.modals.description"),()=>s()("character.modals.description"),()=>s()("common.buttons.save")]),Ie(C,()=>e(n).name,Q=>e(n).name=Q),gt(O,()=>e(n).source,Q=>e(n).source=Q),gt(N,()=>e(n).activityType,Q=>e(n).activityType=Q),Ie(L,()=>e(n).description,Q=>e(n).description=Q),l(F,I)},$$slots:{default:!0}})}Re(),P()}Ve(["click"]);var ds=u('<p class="text-[10px] text-red-500"> </p>'),cs=u('<div><label for="effectName" class="text-xs font-bold text-slate-400 uppercase"> </label> <input id="effectName" class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white"/> <!></div>'),vs=u('<div class="text-center text-xs text-slate-500 italic mb-2"> </div>'),ps=u("<option> </option>"),us=u('<input type="number" class="bg-slate-900 border border-slate-700 rounded p-2 text-white"/>'),bs=u("<option> </option>"),xs=u('<div class="flex gap-1 items-center animate-in fade-in slide-in-from-left-1 duration-200"><select class="bg-slate-900 border border-slate-700 rounded text-[10px] text-white p-1 w-1/3"></select> <select class="bg-slate-900 border border-slate-700 rounded text-[10px] text-white p-1 w-1/4"><option>Add (+/-)</option><option>Set (=)</option><option>Mult (x)</option></select> <input type="number" class="bg-slate-900 border border-slate-700 rounded text-[10px] text-white p-1 w-1/4 text-center"/> <button class="text-slate-600 hover:text-red-400 p-1"><!></button></div>'),_s=u('<div><label class="text-xs font-bold text-slate-400 uppercase"> <textarea class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white"></textarea></label></div>'),fs=u('<div class="space-y-4 p-1"><!> <div><label for="effectDuration" class="text-xs font-bold text-slate-400 uppercase"> </label> <div class="grid grid-cols-2 gap-2"><select id="effectDuration" class="bg-slate-900 border border-slate-700 rounded p-2 text-white text-sm"></select> <!></div></div> <div class="bg-slate-950 p-3 rounded border border-slate-800"><div class="flex justify-between items-center mb-2"><span class="text-xs font-bold text-indigo-400 uppercase"> </span> <button class="text-[10px] bg-slate-800 hover:bg-slate-700 px-2 py-1 rounded border border-slate-600 flex items-center gap-1"><!> </button></div> <div class="space-y-2"></div></div> <!> <button class="w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded"> </button></div>');function gs(H,y){Ue(y,!0);const i=()=>K(Te,"$modalState",P),s=()=>K(Ge,"$t",P),p=()=>K(qe,"$character",P),[P,_]=Fe();let x=fe(()=>i().isOpen&&i().type==="effect"),v=fe(()=>i().data),n=Xe(null);ut(()=>{e(x)&&(e(v)&&e(v).parentType?Se(n,e(v).parentData.effect?{...e(v).parentData.effect}:{name:"",description:"",isActive:!0,duration:"ROUNDS",roundsLeft:1,initialRounds:1,modifiers:[]},!0):e(v)?(Se(n,{...e(v)},!0),Array.isArray(e(n).modifiers)||(e(n).modifiers=[])):Se(n,{name:"",description:"",isActive:!0,duration:"ROUNDS",roundsLeft:1,initialRounds:1,modifiers:[]},!0))});function S(){Te.update(F=>({...F,type:null,isOpen:!1,data:null}))}function M(){e(n).modifiers=[...e(n).modifiers||[],{target:"str",type:dt.ADD,value:1}]}function b(F){e(n).modifiers=e(n).modifiers.filter((A,I)=>I!==F)}function z(){if(!e(v)?.parentType&&!e(n).name?.trim())return alert(s()("character.modals.effect_name_required"));const F={...e(n),initialRounds:e(n).duration==="ROUNDS"?e(n).roundsLeft:0};if(e(v)?.parentType){const A={...e(v).parentData,effect:F};Te.update(I=>({...I,type:e(v).parentType,data:A}));return}e(n).id&&p().effects.some(A=>A.id===e(n).id)?Le.updateEffect(F):Le.addEffect({...F,id:Ut(),isActive:!0}),S()}{let F=fe(()=>s()("character.modals.effect_manager"));vt(H,{get isOpen(){return e(x)},get title(){return e(F)},onClose:S,children:(A,I)=>{var T=Ce(),R=ge(T);{var Y=C=>{var k=fs(),f=a(k);{var c=W=>{var j=cs(),se=a(j),ue=a(se,!0);t(se);var oe=r(se,2);Be(oe);var L=r(oe,2);{var ae=B=>{var we=ds(),ke=a(we,!0);t(we),m(me=>o(ke,me),[()=>s()("character.modals.effect_name_required")]),l(B,we)};U(L,B=>{e(n).name||B(ae)})}t(j),m(B=>o(ue,B),[()=>s()("character.modals.name")]),Ie(oe,()=>e(n).name,B=>e(n).name=B),l(W,j)},d=W=>{var j=vs(),se=a(j,!0);t(j),m(ue=>o(se,ue),[()=>s()("character.modals.inherited_from_parent")]),l(W,j)};U(f,W=>{e(v)?.parentType?W(d,!1):W(c)})}var h=r(f,2),$=a(h),O=a($,!0);t($);var q=r($,2),D=a(q);je(D,21,()=>Object.entries(da),He,(W,j)=>{var se=fe(()=>ea(e(j),2));let ue=()=>e(se)[0],oe=()=>e(se)[1];var L=ps(),ae=a(L,!0);t(L);var B={};m(()=>{o(ae,oe()),B!==(B=ue())&&(L.value=(L.__value=ue())??"")}),l(W,L)}),t(D);var G=r(D,2);{var N=W=>{var j=us();Be(j),Ie(j,()=>e(n).roundsLeft,se=>e(n).roundsLeft=se),l(W,j)};U(G,W=>{e(n).duration==="ROUNDS"&&W(N)})}t(q),t(h);var g=r(h,2),w=a(g),E=a(w),te=a(E,!0);t(E);var le=r(E,2);le.__click=M;var _e=a(le);lt(_e,{size:10});var X=r(_e);t(le),t(w);var re=r(w,2);je(re,21,()=>e(n).modifiers,He,(W,j,se)=>{var ue=xs(),oe=a(ue);je(oe,21,()=>Object.entries(Yt),He,(ve,ie)=>{var pe=fe(()=>ea(e(ie),2));let xe=()=>e(pe)[0],ze=()=>e(pe)[1];var ye=bs(),Oe=a(ye,!0);t(ye);var De={};m(()=>{o(Oe,ze()),De!==(De=xe())&&(ye.value=(ye.__value=xe())??"")}),l(ve,ye)}),t(oe);var L=r(oe,2),ae=a(L),B={},we=r(ae),ke={},me=r(we),Q={};t(L);var Z=r(L,2);Be(Z);var V=r(Z,2);V.__click=()=>b(se);var ee=a(V);Tt(ee,{size:12}),t(V),t(ue),m(ve=>{B!==(B=dt.ADD)&&(ae.value=(ae.__value=dt.ADD)??""),ke!==(ke=dt.SET)&&(we.value=(we.__value=dt.SET)??""),Q!==(Q=dt.MULT)&&(me.value=(me.__value=dt.MULT)??""),$e(Z,"step",e(j).type===dt.MULT?"0.1":"1"),$e(V,"aria-label",ve)},[()=>s()("character.modals.remove_modifier")]),gt(oe,()=>e(j).target,ve=>e(j).target=ve),gt(L,()=>e(j).type,ve=>e(j).type=ve),Ie(Z,()=>e(j).value,ve=>e(j).value=ve),l(W,ue)}),t(re),t(g);var ce=r(g,2);{var de=W=>{var j=_s(),se=a(j),ue=a(se),oe=r(ue);jt(oe),t(se),t(j),m(L=>o(ue,`${L??""} `),[()=>s()("character.modals.description")]),Ie(oe,()=>e(n).description,L=>e(n).description=L),l(W,j)};U(ce,W=>{e(v)?.parentType||W(de)})}var J=r(ce,2);J.__click=z;var he=a(J,!0);t(J),t(k),m((W,j,se,ue)=>{o(O,W),o(te,j),o(X,` ${se??""}`),o(he,ue)},[()=>s()("character.modals.duration"),()=>s()("character.modals.modifiers"),()=>s()("character.modals.add"),()=>s()("character.modals.save_effect")]),gt(D,()=>e(n).duration,W=>e(n).duration=W),l(C,k)};U(R,C=>{e(n)&&C(Y)})}l(A,T)},$$slots:{default:!0}})}Re(),_()}Ve(["click"]);var hs=u('<div class="space-y-4 p-1"><h3 class="text-white font-bold text-lg"> </h3> <div><label class="text-xs text-slate-400 uppercase font-bold"> <input type="number" class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white"/></label></div> <button class="w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded"> </button></div>');function ms(H,y){Ue(y,!0);const i=()=>K(Te,"$modalState",p),s=()=>K(Ge,"$t",p),[p,P]=Fe();let _=fe(()=>i().isOpen&&i().type==="attribute"),x=fe(()=>i().data),v=Xe(mt({}));ut(()=>{e(_)&&e(x)&&Se(v,{...e(x)},!0)});function n(){Te.update(M=>({...M,type:null,isOpen:!1,data:null}))}function S(){qe.update(M=>({...M,attributes:M.attributes.map(b=>b.key===e(v).key?{...b,value:parseInt(e(v).value)}:b)})),n()}{let M=fe(()=>s()("character.modals.attribute"));vt(H,{get isOpen(){return e(_)},get title(){return e(M)},onClose:n,children:(b,z)=>{var F=hs(),A=a(F),I=a(A,!0);t(A);var T=r(A,2),R=a(T),Y=a(R),C=r(Y);Be(C),t(R),t(T);var k=r(T,2);k.__click=S;var f=a(k,!0);t(k),t(F),m((c,d)=>{o(I,e(v).name),o(Y,`${c??""} `),o(f,d)},[()=>s()("character.modals.base_value"),()=>s()("common.buttons.save")]),Ie(C,()=>e(v).value,c=>e(v).value=c),l(b,F)},$$slots:{default:!0}})}Re(),P()}Ve(["click"]);var $s=u('<div class="space-y-4 p-1"><h3 class="text-white font-bold text-lg uppercase"> </h3> <div><label class="text-xs text-slate-400 uppercase font-bold"> <input type="number" class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white"/></label></div> <button class="w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded"> </button></div>');function ys(H,y){Ue(y,!0);const i=()=>K(Te,"$modalState",P),s=()=>K(qe,"$character",P),p=()=>K(Ge,"$t",P),[P,_]=Fe();let x=fe(()=>i().isOpen&&i().type==="stat"),v=fe(()=>i().data),n=Xe(mt({}));ut(()=>{e(x)&&e(v)&&Se(n,e(v)==="defense"?{key:"naturalDefense",name:"Defesa Natural",value:s().naturalDefense}:{key:"speed",name:"Velocidade",value:s().speed},!0)});function S(){Te.update(b=>({...b,type:null,isOpen:!1,data:null}))}function M(){qe.update(b=>({...b,[e(n).key]:parseInt(e(n).value)||0})),S()}{let b=fe(()=>e(n).name||p()("character.modals.info"));vt(H,{get isOpen(){return e(x)},get title(){return e(b)},onClose:S,children:(z,F)=>{var A=$s(),I=a(A),T=a(I,!0);t(I);var R=r(I,2),Y=a(R),C=a(Y),k=r(C);Be(k),t(Y),t(R);var f=r(R,2);f.__click=M;var c=a(f,!0);t(f),t(A),m((d,h)=>{o(T,e(n).name),o(C,`${d??""} `),o(c,h)},[()=>p()("character.modals.base_value"),()=>p()("common.buttons.save")]),Ie(k,()=>e(n).value,d=>e(n).value=d),l(z,A)},$$slots:{default:!0}})}Re(),_()}Ve(["click"]);var ws=u('<div class="space-y-4 p-1"><div class="grid grid-cols-2 gap-4"><div><label class="text-xs text-slate-400 uppercase font-bold"> <input type="number" class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white"/></label></div> <div><label class="text-xs text-slate-400 uppercase font-bold"> <input type="number" class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white"/></label></div></div> <div><label class="text-xs text-red-400 uppercase font-bold"> <input type="number" class="w-full bg-slate-900 border border-red-900/50 rounded p-2 text-white"/></label></div> <button class="w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded"> </button></div>');function ks(H,y){Ue(y,!0);const i=()=>K(Te,"$modalState",x),s=()=>K(zt,"$damage",x),p=()=>K(yt,"$normalHealth",x),P=()=>K(wt,"$currentHealth",x),_=()=>K(Ge,"$t",x),[x,v]=Fe();let n=fe(()=>i().isOpen&&i().type==="health"),S=Xe(mt({d:0,nh:0,ch:0}));ut(()=>{e(n)&&Se(S,{d:s(),nh:p(),ch:P()},!0)});function M(){Te.update(z=>({...z,type:null,isOpen:!1,data:null}))}function b(){zt.set(Math.max(0,parseInt(e(S).d))),yt.set(Math.max(1,parseInt(e(S).nh))),wt.set(Math.max(0,parseInt(e(S).ch))),M()}{let z=fe(()=>_()("character.modals.health_damage"));vt(H,{get isOpen(){return e(n)},get title(){return e(z)},onClose:M,children:(F,A)=>{var I=ws(),T=a(I),R=a(T),Y=a(R),C=a(Y),k=r(C);Be(k),t(Y),t(R);var f=r(R,2),c=a(f),d=a(c),h=r(d);Be(h),t(c),t(f),t(T);var $=r(T,2),O=a($),q=a(O),D=r(q);Be(D),t(O),t($);var G=r($,2);G.__click=b;var N=a(G,!0);t(G),t(I),m((g,w,E,te)=>{o(C,`${g??""} `),o(d,`${w??""} `),o(q,`${E??""} `),o(N,te)},[()=>_()("character.modals.normal_health"),()=>_()("character.modals.current_health"),()=>_()("character.modals.damage"),()=>_()("character.modals.update")]),Ie(k,()=>e(S).nh,g=>e(S).nh=g),Ie(h,()=>e(S).ch,g=>e(S).ch=g),Ie(D,()=>e(S).d,g=>e(S).d=g),l(F,I)},$$slots:{default:!0}})}Re(),v()}Ve(["click"]);var zs=u('<div class="space-y-4 p-1"><div><label class="text-xs font-bold text-slate-400 uppercase"> <input class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white"/></label></div> <div class="grid grid-cols-2 gap-4"><div><label class="text-xs font-bold text-slate-400 uppercase"> <input type="number" class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white"/></label></div> <div><label class="text-xs font-bold text-slate-400 uppercase"> <input class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white"/></label></div></div> <div class="pt-2 border-t border-slate-700 space-y-3"><div><label class="text-[10px] font-bold text-slate-400 uppercase">Novice <input class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white text-sm"/></label></div> <div><label class="text-[10px] font-bold text-slate-400 uppercase">Expert <input class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white text-sm"/></label></div> <div><label class="text-[10px] font-bold text-slate-400 uppercase">Master <input class="w-full bg-slate-900 border border-slate-700 rounded p-2 text-white text-sm"/></label></div></div> <button class="w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-2 rounded mt-2"> </button></div>');function Ss(H,y){Ue(y,!0);const i=()=>K(Te,"$modalState",x),s=()=>K(qe,"$character",x),p=()=>K(yt,"$normalHealth",x),P=()=>K(wt,"$currentHealth",x),_=()=>K(Ge,"$t",x),[x,v]=Fe();let n=fe(()=>i().isOpen&&i().type==="character_info"),S=Xe(mt({}));ut(()=>{e(n)&&Se(S,{name:s().name,level:s().level,ancestry:s().ancestry,novicePath:s().paths.novice,expertPath:s().paths.expert,masterPath:s().paths.master,normalHealth:p(),currentHealth:P()},!0)});function M(){Te.update(z=>({...z,type:null,isOpen:!1,data:null}))}function b(){qe.update(z=>({...z,name:e(S).name,level:parseInt(e(S).level)||0,ancestry:e(S).ancestry,paths:{novice:e(S).novicePath,expert:e(S).expertPath,master:e(S).masterPath}})),yt.set(parseInt(e(S).normalHealth)),wt.set(parseInt(e(S).currentHealth)),M()}{let z=fe(()=>_()("character.modals.character_info"));vt(H,{get isOpen(){return e(n)},get title(){return e(z)},onClose:M,children:(F,A)=>{var I=zs(),T=a(I),R=a(T),Y=a(R),C=r(Y);Be(C),t(R),t(T);var k=r(T,2),f=a(k),c=a(f),d=a(c),h=r(d);Be(h),t(c),t(f);var $=r(f,2),O=a($),q=a(O),D=r(q);Be(D),t(O),t($),t(k);var G=r(k,2),N=a(G),g=a(N),w=r(a(g));Be(w),t(g),t(N);var E=r(N,2),te=a(E),le=r(a(te));Be(le),t(te),t(E);var _e=r(E,2),X=a(_e),re=r(a(X));Be(re),t(X),t(_e),t(G);var ce=r(G,2);ce.__click=b;var de=a(ce,!0);t(ce),t(I),m((J,he,W,j)=>{o(Y,`${J??""} `),o(d,`${he??""} `),o(q,`${W??""} `),o(de,j)},[()=>_()("character.modals.name"),()=>_()("character.modals.level"),()=>_()("character.modals.ancestry"),()=>_()("common.buttons.save")]),Ie(C,()=>e(S).name,J=>e(S).name=J),Ie(h,()=>e(S).level,J=>e(S).level=J),Ie(D,()=>e(S).ancestry,J=>e(S).ancestry=J),Ie(w,()=>e(S).novicePath,J=>e(S).novicePath=J),Ie(le,()=>e(S).expertPath,J=>e(S).expertPath=J),Ie(re,()=>e(S).masterPath,J=>e(S).masterPath=J),l(F,I)},$$slots:{default:!0}})}Re(),v()}Ve(["click"]);var Ts=u('<div class="mt-4 p-3 bg-green-900/20 border border-green-900/50 rounded-lg"><div class="flex items-center gap-2 mb-1 text-[10px] font-bold text-green-400 uppercase tracking-wider"> </div> <div class="text-xs text-green-200/70"> </div></div>'),Os=u('<button class="w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 rounded-lg flex items-center justify-center gap-2 transition-all active:scale-[0.98]"><!> </button> <button class="w-full bg-slate-700 hover:bg-slate-600 text-slate-300 font-bold py-2 rounded-lg text-sm transition-colors"> </button>',1),Ms=u('<button class="w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 rounded-lg flex items-center justify-center gap-2 transition-all active:scale-[0.98]"><!> </button>'),Es=u('<div class="space-y-6 p-1"><div class="bg-indigo-900/10 border border-indigo-500/20 p-4 rounded-xl"><h3 class="text-xl font-bold text-white mb-2"> </h3> <p class="text-sm text-slate-400 leading-relaxed line-clamp-4"> </p> <!></div> <div class="flex flex-col gap-2 pt-2"><!> <button class="w-full text-slate-500 hover:text-slate-300 text-xs font-bold uppercase tracking-widest py-2 transition-colors mt-2"> </button></div></div>');function As(H,y){Ue(y,!0);const i=()=>K(Te,"$modalState",p),s=()=>K(Ge,"$t",p),[p,P]=Fe();let _=fe(()=>i().isOpen&&(i().type==="confirm_spell"||i().type==="confirm_talent")),x=fe(()=>i().type),v=fe(()=>i().data);function n(){Te.update(M=>({...M,type:null,isOpen:!1,data:null}))}function S(M){M&&e(v).effect&&Le.applyEffectToCharacter(e(v).effect,e(v)),e(x)==="confirm_spell"?Le.commitSpellCast(e(v)):Le.commitTalentUse(e(v)),n()}{let M=fe(()=>e(x)==="confirm_spell"?s()("character.modals.confirm_cast"):s()("character.modals.confirm_activation"));vt(H,{get isOpen(){return e(_)},get title(){return e(M)},onClose:n,children:(b,z)=>{var F=Ce(),A=ge(F);{var I=T=>{var R=Es(),Y=a(R),C=a(Y),k=a(C,!0);t(C);var f=r(C,2),c=a(f,!0);t(f);var d=r(f,2);{var h=g=>{var w=Ts(),E=a(w),te=a(E,!0);t(E);var le=r(E,2),_e=a(le);t(le),t(w),m(X=>{o(te,X),o(_e,`${e(v).effect.name??""}: ${e(v).effect.description??""}`)},[()=>s()("character.modals.associated_effect")]),l(g,w)};U(d,g=>{e(v).effect&&g(h)})}t(Y);var $=r(Y,2),O=a($);{var q=g=>{var w=Os(),E=ge(w);E.__click=()=>S(!0);var te=a(E);ua(te,{size:18});var le=r(te);t(E);var _e=r(E,2);_e.__click=()=>S(!1);var X=a(_e,!0);t(_e),m((re,ce)=>{o(le,` ${re??""}`),o(X,ce)},[()=>s()("character.modals.apply_effect_use"),()=>s()("character.modals.use_without_effect")]),l(g,w)},D=g=>{var w=Ms();w.__click=()=>S(!1);var E=a(w);_t(E,{size:18});var te=r(E);t(w),m(le=>o(te,` ${le??""}`),[()=>s()("character.modals.confirm_use")]),l(g,w)};U(O,g=>{e(v).effect?g(q):g(D,!1)})}var G=r(O,2);G.__click=n;var N=a(G,!0);t(G),t($),t(R),m(g=>{o(k,e(v).name),o(c,e(v).description),o(N,g)},[()=>s()("common.buttons.cancel_cap")]),l(T,R)};U(A,T=>{e(v)&&T(I)})}l(b,F)},$$slots:{default:!0}})}Re(),P()}Ve(["click"]);var Cs=u("<div></div>"),Ps=u('<button><div class="flex-1"><div class="flex items-center gap-2 mb-1"><span class="text-[10px] bg-indigo-500/20 text-indigo-400 px-2 py-0.5 rounded font-black uppercase"> </span> <h4 class="font-bold text-white group-hover:text-indigo-400 transition-colors uppercase tracking-tight"> </h4></div> <p class="text-xs text-slate-500 italic uppercase font-bold tracking-widest"> </p></div> <div class="text-right shrink-0"><span class="block text-[10px] text-slate-500 uppercase font-bold text-center mb-1"> </span> <div class="flex gap-0.5"></div></div></button>'),Ds=u('<div class="text-center py-10 bg-slate-900/30 rounded-xl border border-dashed border-slate-700"><!> <p class="text-slate-500 italic text-sm"> </p></div>'),Ns=u('<div class="space-y-3 p-1"></div>');function js(H,y){Ue(y,!0);const i=()=>K(Te,"$modalState",P),s=()=>K(Ge,"$t",P),p=()=>K(qe,"$character",P),[P,_]=Fe();let x=fe(()=>i().isOpen&&i().type==="cast_spell");function v(){Te.update(S=>({...S,type:null,isOpen:!1,data:null}))}function n(S){S.castings<=0||Te.update(M=>({...M,type:"confirm_spell",data:S}))}{let S=fe(()=>s()("character.modals.grimoire"));vt(H,{get isOpen(){return e(x)},get title(){return e(S)},onClose:v,children:(M,b)=>{var z=Ns();je(z,5,()=>p().spells,He,(F,A)=>{var I=Ps();I.__click=()=>n(e(A));var T=a(I),R=a(T),Y=a(R),C=a(Y,!0);t(Y);var k=r(Y,2),f=a(k,!0);t(k),t(R);var c=r(R,2),d=a(c,!0);t(c),t(T);var h=r(T,2),$=a(h),O=a($,!0);t($);var q=r($,2);je(q,21,()=>Array(e(A).maxCastings),He,(D,G,N)=>{var g=Cs();m(()=>Ee(g,1,`w-3 h-1 rounded-full ${N<e(A).castings?"bg-indigo-500":"bg-slate-700"}`)),l(D,g)}),t(q),t(h),t(I),m(D=>{Ee(I,1,`w-full text-left p-4 rounded-xl border border-slate-800 bg-slate-900/50 hover:bg-slate-800 hover:border-indigo-500/50 transition-all flex justify-between items-center group ${e(A).castings<=0?"opacity-40 grayscale pointer-events-none":""}`),o(C,e(A).tier),o(f,e(A).name),o(d,e(A).tradition),o(O,D)},[()=>s()("character.modals.casts")]),l(F,I)},F=>{var A=Ds(),I=a(A);Nt(I,{size:32,class:"mx-auto text-slate-700 mb-2 opacity-20"});var T=r(I,2),R=a(T,!0);t(T),t(A),m(Y=>o(R,Y),[()=>s()("character.modals.grimoire_empty")]),l(F,A)}),t(z),l(M,z)},$$slots:{default:!0}})}Re(),_()}Ve(["click"]);var Hs=u('<span class="text-[10px] text-slate-500 uppercase font-black tracking-widest"> </span>'),Is=u("<!> Sorte Encerra",1),Us=u("<!> ",1),Rs=u('<span class="block text-[10px] text-slate-500 uppercase font-bold text-center mb-1">Duração</span> <div class="flex items-center justify-end gap-1 text-indigo-400 text-xs font-bold"><!></div>',1),qs=u("<span></span>"),Ls=u('<span class="block text-[10px] text-slate-500 uppercase font-bold text-center"> </span> <p class="flex items-center justify-center gap-1"></p> <span> </span>',1),Vs=u('<button><div class="flex-1"><h4 class="font-black text-white group-hover:text-indigo-400 transition-colors uppercase tracking-tight mb-1"> </h4> <p class="text-xs text-slate-500 line-clamp-1"> </p></div> <div class="text-right shrink-0 min-w-[60px] ml-4 pt-1"><!></div></button>'),Fs=u('<div><h4 class="text-xs font-black text-slate-500 uppercase tracking-widest border-b border-slate-700/50 pb-1 mb-2"> </h4> <div class="grid grid-cols-1 gap-3"></div></div>'),Gs=u('<div class="text-center py-10 bg-slate-900/30 rounded-xl border border-dashed border-slate-700"><!> <p class="text-slate-500 italic text-sm"> </p></div>'),Ws=u('<div class="space-y-4 p-1"><!></div>');function Ys(H,y){Ue(y,!0);const i=()=>K(Te,"$modalState",P),s=()=>K(qe,"$character",P),p=()=>K(Ge,"$t",P),[P,_]=Fe();let x=fe(()=>i().isOpen&&i().type==="select_talent");function v(){Te.update(b=>({...b,type:null,isOpen:!1,data:null}))}function n(b){!b.isPassive&&b.activityType==="Uses"&&b.uses<=0||Te.update(z=>({...z,type:"confirm_talent",data:b}))}let S=fe(()=>({[Ze.ANCESTRY]:s().talents.filter(b=>!b.source||b.source===Ze.ANCESTRY),[Ze.NOVICE]:s().talents.filter(b=>b.source===Ze.NOVICE),[Ze.EXPERT]:s().talents.filter(b=>b.source===Ze.EXPERT),[Ze.MASTER]:s().talents.filter(b=>b.source===Ze.MASTER)})),M=fe(()=>s().talents.length>0);{let b=fe(()=>p()("character.modals.your_talents"));vt(H,{get isOpen(){return e(x)},get title(){return e(b)},onClose:v,children:(z,F)=>{var A=Ws(),I=a(A);{var T=Y=>{var C=Ce(),k=ge(C);je(k,17,()=>Object.values(Ze),He,(f,c)=>{var d=Ce(),h=ge(d);{var $=O=>{var q=Fs(),D=a(q),G=a(D,!0);t(D);var N=r(D,2);je(N,21,()=>e(S)[e(c)],He,(g,w)=>{var E=Vs();E.__click=()=>n(e(w));var te=a(E),le=a(te),_e=a(le,!0);t(le);var X=r(le,2),re=a(X,!0);t(X),t(te);var ce=r(te,2),de=a(ce);{var J=W=>{var j=Hs(),se=a(j,!0);t(j),m(ue=>o(se,ue),[()=>p()("character.modals.passive")]),l(W,j)},he=W=>{var j=Ce(),se=ge(j);{var ue=L=>{var ae=Rs(),B=r(ge(ae),2),we=a(B);{var ke=Q=>{var Z=Is(),V=ge(Z);Pt(V,{size:12}),bt(),l(Q,Z)},me=Q=>{var Z=Us(),V=ge(Z);_a(V,{size:12});var ee=r(V);m(()=>o(ee,` ${e(w).durationValue??""} ${e(w).duration==="MINUTES"?"min":"h"}`)),l(Q,Z)};U(we,Q=>{e(w).duration==="LUCK_ENDS"?Q(ke):Q(me,!1)})}t(B),l(L,ae)},oe=L=>{var ae=Ls(),B=ge(ae),we=a(B,!0);t(B);var ke=r(B,2);je(ke,21,()=>Array(e(w).maxUses),He,(Z,V,ee)=>{var ve=qs();m(()=>Ee(ve,1,`w-1.5 h-1.5 rounded-full ${ee<e(w).uses?"bg-green-500 shadow-[0_0_5px_rgba(34,197,94,0.5)]":"bg-slate-700"}`)),l(Z,ve)}),t(ke);var me=r(ke,2),Q=a(me);t(me),m(Z=>{o(we,Z),Ee(me,1,`font-mono font-bold text-xs ${e(w).uses>0?"text-green-400":"text-red-400"}`),o(Q,`${e(w).uses??""}/${e(w).maxUses??""}`)},[()=>p()("character.modals.charges")]),l(L,ae)};U(se,L=>{e(w).activityType==="Duration"?L(ue):L(oe,!1)},!0)}l(W,j)};U(de,W=>{e(w).activityType==="Passive"||e(w).isPassive?W(J):W(he,!1)})}t(ce),t(E),m(()=>{Ee(E,1,`w-full text-left p-4 rounded-xl border border-slate-800 bg-slate-900/50 hover:bg-slate-800 hover:border-indigo-500/50 transition-all flex justify-between items-center group ${!e(w).isPassive&&e(w).uses<=0?"opacity-40 grayscale pointer-events-none":""}`),o(_e,e(w).name),o(re,e(w).description)}),l(g,E)}),t(N),t(q),m(g=>o(G,g),[()=>p()(`character.talents.sources.${e(c)}`)]),l(O,q)};U(h,O=>{e(S)[e(c)]&&e(S)[e(c)].length>0&&O($)})}l(f,d)}),l(Y,C)},R=Y=>{var C=Gs(),k=a(C);_t(k,{size:32,class:"mx-auto text-slate-700 mb-2 opacity-20"});var f=r(k,2),c=a(f,!0);t(f),t(C),m(d=>o(c,d),[()=>p()("character.modals.no_talent_available")]),l(Y,C)};U(I,Y=>{e(M)?Y(T):Y(R,!1)})}t(A),l(z,A)},$$slots:{default:!0}})}Re(),_()}Ve(["click"]);var Bs=u('<span class="text-[10px] bg-slate-800 text-slate-300 border border-slate-700 px-2 py-1 rounded-lg font-bold uppercase"> </span>'),Xs=u('<div class="space-y-6 pt-2"><div class="relative overflow-hidden bg-slate-900 border border-slate-800 rounded-2xl p-6 group transition-all hover:border-indigo-500/30"><div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity"><!></div> <h3 class="text-2xl font-black text-white uppercase tracking-tight mb-3 relative z-10"> </h3> <div class="flex flex-wrap gap-2 mb-4 relative z-10"><span class="text-[10px] bg-indigo-500/10 text-indigo-300 border border-indigo-500/20 px-2 py-1 rounded-lg font-bold uppercase tracking-widest shadow-sm"> </span> <span class="text-[10px] bg-slate-800 text-slate-400 border border-slate-700 px-2 py-1 rounded-lg font-bold uppercase"> </span> <!></div> <p class="text-sm text-slate-400 italic leading-relaxed relative z-10"> </p></div> <div class="grid grid-cols-2 gap-4"><button class="relative overflow-hidden bg-gradient-to-br from-indigo-600 to-indigo-800 hover:from-indigo-500 hover:to-indigo-700 text-white p-1 rounded-2xl shadow-xl shadow-indigo-900/20 transition-all active:scale-[0.98] group"><div class="absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"></div> <div class="bg-slate-900/10 backdrop-blur-[2px] h-full rounded-[14px] p-5 flex flex-col items-center justify-center gap-3 border border-white/10"><!> <div class="text-center"><span class="block text-[10px] font-black uppercase tracking-widest text-indigo-200 mb-1"> </span> <span class="text-xl font-bold font-mono text-white">1d20</span></div></div></button> <button class="relative overflow-hidden bg-gradient-to-br from-red-600 to-red-800 hover:from-red-500 hover:to-red-700 text-white p-1 rounded-2xl shadow-xl shadow-red-900/20 transition-all active:scale-[0.98] group"><div class="absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"></div> <div class="bg-slate-900/10 backdrop-blur-[2px] h-full rounded-[14px] p-5 flex flex-col items-center justify-center gap-3 border border-white/10"><!> <div class="text-center"><span class="block text-[10px] font-black uppercase tracking-widest text-red-200 mb-1"> </span> <span class="text-xl font-bold font-mono text-white"> </span></div></div></button></div></div>'),Ks=u('<div class="w-2 h-2 bg-white rounded-sm"></div>'),Js=u('<span class="text-[9px] text-slate-400 bg-slate-800 px-1 rounded"> </span>'),Qs=u('<div class="flex flex-wrap gap-1 mt-1"></div>'),Zs=u('<button><div class="flex items-center gap-3"><div><!></div> <div><span class="text-sm font-bold text-slate-200 block leading-tight"> </span> <!></div></div></button>'),eo=u('<div class="space-y-2"><h4 class="text-xs font-bold text-slate-500 uppercase px-1"> </h4> <div class="grid grid-cols-1 gap-2 max-h-[150px] overflow-y-auto pr-1"></div></div>'),to=u('<div class="space-y-6 pt-2"><button class="flex items-center gap-2 text-xs font-bold text-slate-400 hover:text-white uppercase tracking-wider transition-colors -mt-2 mb-4 group"><!> </button> <div class="bg-slate-900/50 p-6 rounded-2xl border border-white/5 text-center shadow-inner relative overflow-hidden group"><div class="absolute inset-0 bg-indigo-500/5 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"></div> <div class="flex justify-center items-center gap-8 mb-4 relative z-10"><button class="w-12 h-12 rounded-full bg-slate-800 hover:bg-red-500/20 text-slate-300 hover:text-red-400 border border-slate-700 hover:border-red-500/30 flex items-center justify-center transition-all active:scale-90 shadow-lg"><!></button> <div class="flex flex-col items-center min-w-[100px]"><span> </span></div> <button class="w-12 h-12 rounded-full bg-slate-800 hover:bg-green-500/20 text-slate-300 hover:text-green-400 border border-slate-700 hover:border-green-500/30 flex items-center justify-center transition-all active:scale-90 shadow-lg"><!></button></div> <div class="text-[10px] font-black text-slate-500 uppercase tracking-[0.2em] relative z-10"> </div></div> <!> <div class="p-4 bg-slate-900 border border-slate-800 rounded-xl flex items-center justify-between"><span class="text-xs font-bold uppercase text-slate-500 tracking-wider"> </span> <span class="font-bold text-white"> </span></div> <button class="w-full bg-indigo-600 hover:bg-indigo-500 text-white font-black py-4 rounded-xl flex items-center justify-center gap-3 shadow-lg shadow-indigo-600/20 transition-all active:scale-[0.98] uppercase tracking-widest text-sm"><!> </button></div>');function ao(H,y){Ue(y,!0);const i=()=>K(Te,"$modalState",P),s=()=>K(ca,"$activeEffects",P),p=()=>K(Ge,"$t",P),[P,_]=Fe();let x=fe(()=>i().isOpen&&i().type==="weapon_menu"),v=fe(()=>i().data),n=Xe("selection"),S=Xe("attack"),M=Xe(0),b=Xe(mt([]));ut(()=>{e(x)&&(Se(n,"selection"),Se(M,0),Se(b,s().map(T=>T.id),!0))});function z(){Te.update(T=>({...T,type:null,isOpen:!1,data:null}))}function F(T){Se(S,T,!0),Se(n,"roll"),Se(M,0)}function A(T){e(b).includes(T)?Se(b,e(b).filter(R=>R!==T),!0):Se(b,[...e(b),T],!0)}function I(){if(!e(v))return;const T={type:e(S)==="attack"?"weapon_attack":"weapon_damage",source:e(v)},R=s().filter(Y=>e(b).includes(Y.id));Le.finalizeRoll(T,e(M),R),z()}{let T=fe(()=>e(n)==="roll"?p()("character.dice_roll.confirm_roll"):p()("character.modals.attack_options"));vt(H,{get isOpen(){return e(x)},get title(){return e(T)},onClose:z,children:(R,Y)=>{var C=Ce(),k=ge(C);{var f=c=>{var d=Ce(),h=ge(d);{var $=q=>{var D=Xs(),G=a(D),N=a(G),g=a(N);St(g,{size:80}),t(N);var w=r(N,2),E=a(w,!0);t(w);var te=r(w,2),le=a(te),_e=a(le,!0);t(le);var X=r(le,2),re=a(X,!0);t(X);var ce=r(X,2);{var de=ve=>{var ie=Ce(),pe=ge(ie);je(pe,17,()=>e(v).traits.split(",").map(xe=>xe.trim()).filter(xe=>xe),He,(xe,ze)=>{var ye=Bs(),Oe=a(ye,!0);t(ye),m(De=>o(Oe,De),[()=>p()(`character.traits.${e(ze)}`)]),l(xe,ye)}),l(ve,ie)};U(ce,ve=>{e(v).traits&&ve(de)})}t(te);var J=r(te,2),he=a(J,!0);t(J),t(G);var W=r(G,2),j=a(W);j.__click=()=>F("attack");var se=r(a(j),2),ue=a(se);Xt(ue,{size:32,class:"text-indigo-200 group-hover:scale-110 transition-transform duration-300"});var oe=r(ue,2),L=a(oe),ae=a(L,!0);t(L),bt(2),t(oe),t(se),t(j);var B=r(j,2);B.__click=()=>F("damage");var we=r(a(B),2),ke=a(we);Nt(ke,{size:32,class:"text-red-200 group-hover:scale-110 transition-transform duration-300"});var me=r(ke,2),Q=a(me),Z=a(Q,!0);t(Q);var V=r(Q,2),ee=a(V,!0);t(V),t(me),t(we),t(B),t(W),t(D),m((ve,ie,pe)=>{o(E,e(v).name),o(_e,e(v).grip),o(re,e(v).range||"Melee"),o(he,ve),o(ae,ie),o(Z,pe),o(ee,e(v).damageDice||"1d6")},[()=>e(v).description||p()("character.modals.no_traits"),()=>p()("character.modals.attack"),()=>p()("character.modals.damage")]),l(q,D)},O=q=>{var D=to(),G=a(D);G.__click=()=>Se(n,"selection");var N=a(G);xa(N,{size:16,class:"group-hover:-translate-x-1 transition-transform"});var g=r(N);t(G);var w=r(G,2),E=r(a(w),2),te=a(E);te.__click=()=>ta(M,-1);var le=a(te);Ct(le,{size:24}),t(te);var _e=r(te,2),X=a(_e),re=a(X);t(X),t(_e);var ce=r(_e,2);ce.__click=()=>ta(M);var de=a(ce);lt(de,{size:24}),t(ce),t(E);var J=r(E,2),he=a(J,!0);t(J),t(w);var W=r(w,2);{var j=me=>{var Q=eo(),Z=a(Q),V=a(Z,!0);t(Z);var ee=r(Z,2);je(ee,5,s,ve=>ve.id,(ve,ie)=>{var pe=Zs();pe.__click=()=>A(e(ie).id);var xe=a(pe),ze=a(xe),ye=a(ze);{var Oe=be=>{var Me=Ks();l(be,Me)};U(ye,be=>{e(b).includes(e(ie).id)&&be(Oe)})}t(ze);var De=r(ze,2),We=a(De),Ae=a(We,!0);t(We);var Pe=r(We,2);{var ne=be=>{var Me=Qs();je(Me,21,()=>e(ie).modifiers,He,(Ye,Qe)=>{var Ke=Js(),it=a(Ke);t(Ke),m(()=>o(it,`${e(Qe).target??""}: ${e(Qe).value??""}`)),l(Ye,Ke)}),t(Me),l(be,Me)};U(Pe,be=>{e(ie).modifiers&&e(ie).modifiers.length>0&&be(ne)})}t(De),t(xe),t(pe),m((be,Me)=>{Ee(pe,1,`flex items-center justify-between p-3 rounded-lg border transition-all text-left ${be??""}`),Ee(ze,1,`w-4 h-4 rounded border flex items-center justify-center transition-colors ${Me??""}`),o(Ae,e(ie).name)},[()=>e(b).includes(e(ie).id)?"bg-indigo-900/30 border-indigo-500/50 shadow-sm":"bg-slate-900/50 border-slate-800 opacity-60 hover:opacity-100 hover:border-slate-700",()=>e(b).includes(e(ie).id)?"bg-indigo-500 border-indigo-400":"border-slate-600 bg-slate-900"]),l(ve,pe)}),t(ee),t(Q),m(ve=>o(V,ve),[()=>p()("character.effects.active")]),l(me,Q)};U(W,me=>{s().length>0&&me(j)})}var se=r(W,2),ue=a(se),oe=a(ue,!0);t(ue);var L=r(ue,2),ae=a(L,!0);t(L),t(se);var B=r(se,2);B.__click=I;var we=a(B);Xt(we,{size:18});var ke=r(we);t(B),t(D),m((me,Q,Z,V)=>{o(g,` ${me??""}`),Ee(X,1,`text-5xl font-black ${e(M)>0?"text-green-400":e(M)<0?"text-red-400":"text-slate-500"} tabular-nums drop-shadow-sm transition-colors duration-300`),o(re,`${e(M)>0?"+":""}${e(M)??""}`),o(he,Q),o(oe,Z),o(ae,e(S)==="attack"?"Ataque (1d20)":`Dano (${e(v).damageDice})`),o(ke,` ${V??""}`)},[()=>p()("common.buttons.back"),()=>e(S)==="damage"?p()("character.dice_roll.extra_dice"):p()("character.dice_roll.boons_banes"),()=>p()("character.modals.rolling"),()=>p()("character.dice_roll.roll")]),l(q,D)};U(h,q=>{e(n)==="selection"?q($):q(O,!1)})}l(c,d)};U(k,c=>{e(v)&&c(f)})}l(R,C)},$$slots:{default:!0}})}Re(),_()}Ve(["click"]);var ro=u("<button> <!></button>"),so=u('<div class="text-xs"><span class="text-red-400 font-bold"> </span> <span class="text-slate-400"> </span></div>'),oo=u('<p class="text-xs text-slate-600 italic text-center"> </p>'),lo=u('<div class="space-y-6 p-1"><div class="grid grid-cols-2 gap-2"></div> <div class="p-4 bg-slate-900/50 rounded-lg border border-slate-700"><p class="text-[10px] text-slate-500 uppercase font-bold mb-2"> </p> <div class="space-y-2"><!> <!></div></div></div>');function io(H,y){Ue(y,!0);const i=()=>K(Te,"$modalState",P),s=()=>K(Ge,"$t",P),p=()=>K(qe,"$character",P),[P,_]=Fe();let x=fe(()=>i().isOpen&&i().type==="affliction");function v(){Te.update(n=>({...n,type:null,isOpen:!1,data:null}))}{let n=fe(()=>s()("character.modals.manage_afflictions"));vt(H,{get isOpen(){return e(x)},get title(){return e(n)},onClose:v,children:(S,M)=>{var b=lo(),z=a(b);je(z,21,()=>Object.keys(ra),He,(k,f)=>{var c=ro();c.__click=()=>Le.toggleAffliction(e(f));var d=a(c),h=r(d);{var $=O=>{ua(O,{size:14})};U(h,O=>{p().afflictions.includes(e(f))&&O($)})}t(c),m(O=>{Ee(c,1,`p-3 rounded-lg border text-sm font-bold transition-all text-left flex justify-between items-center ${O??""}`),o(d,`${e(f)??""} `)},[()=>p().afflictions.includes(e(f))?"bg-red-900/40 border-red-500 text-red-200 shadow-lg shadow-red-900/20":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-500 hover:bg-slate-850"]),l(k,c)}),t(z);var F=r(z,2),A=a(F),I=a(A,!0);t(A);var T=r(A,2),R=a(T);je(R,1,()=>p().afflictions,He,(k,f)=>{var c=so(),d=a(c),h=a(d);t(d);var $=r(d,2),O=a($,!0);t($),t(c),m(()=>{o(h,`${e(f)??""}:`),o(O,ra[e(f)]?.effect||"")}),l(k,c)});var Y=r(R,2);{var C=k=>{var f=oo(),c=a(f,!0);t(f),m(d=>o(c,d),[()=>s()("character.modals.no_affliction_selected")]),l(k,f)};U(Y,k=>{p().afflictions.length===0&&k(C)})}t(T),t(F),t(b),m(k=>o(I,k),[()=>s()("character.modals.effects_summary")]),l(S,b)},$$slots:{default:!0}})}Re(),_()}Ve(["click"]);var no=u('<div class="text-center space-y-6 py-4 p-1"><div class="flex justify-center"><div class="p-4 bg-indigo-500/10 rounded-full"><!></div></div> <div><p class="text-lg text-white font-bold"> </p> <p class="text-sm text-slate-500 mt-1">This will recover health and refresh all spell castings and talent uses.</p></div> <div class="flex gap-4 justify-center pt-2"><button class="flex-1 px-6 py-3 rounded-xl bg-slate-800 hover:bg-slate-700 text-slate-300 font-bold transition-colors"> </button> <button class="flex-[1.5] px-6 py-3 rounded-xl bg-indigo-600 hover:bg-indigo-500 text-white font-bold shadow-lg shadow-indigo-900/20 transition-all active:scale-[0.98]"> </button></div></div>');function co(H,y){Ue(y,!0);const i=()=>K(Te,"$modalState",p),s=()=>K(Ge,"$t",p),[p,P]=Fe();let _=fe(()=>i().isOpen&&i().type==="rest_confirm");function x(){Te.update(n=>({...n,type:null,isOpen:!1,data:null}))}function v(){Le.confirmRest(),x()}{let n=fe(()=>s()("character.modals.rest"));vt(H,{get isOpen(){return e(_)},get title(){return e(n)},onClose:x,children:(S,M)=>{var b=no(),z=a(b),F=a(z),A=a(F);Tt(A,{size:48,class:"text-indigo-400"}),t(F),t(z);var I=r(z,2),T=a(I),R=a(T,!0);t(T),bt(2),t(I);var Y=r(I,2),C=a(Y);C.__click=x;var k=a(C,!0);t(C);var f=r(C,2);f.__click=v;var c=a(f,!0);t(f),t(Y),t(b),m((d,h,$)=>{o(R,d),o(k,h),o(c,$)},[()=>s()("character.modals.perform_rest"),()=>s()("common.buttons.cancel"),()=>s()("character.modals.rest")]),l(S,b)},$$slots:{default:!0}})}Re(),P()}Ve(["click"]);var vo=u("<div> </div>"),po=u('<div class="bg-slate-900 overflow-hidden rounded-2xl border border-slate-800 text-center transition-all hover:bg-slate-800 active:scale-[0.98] group relative shadow-lg shadow-black/20 cursor-pointer" role="button" tabindex="0"><div class="py-2.5 px-2"><div class="text-[9px] uppercase text-slate-500 font-black tracking-widest group-hover:text-indigo-400 transition-colors mb-1"> </div> <div class="flex items-center justify-center gap-1.5 mb-1.5"><div class="text-2xl font-black text-white leading-none"> </div> <!></div> <div class="inline-flex px-2 py-0.5 bg-indigo-500/10 rounded-lg"><div class="text-xs text-indigo-400 font-black tracking-tight"> </div></div></div> <button class="absolute top-1.5 right-1.5 p-1 text-slate-700 hover:text-white hover:bg-white/5 rounded-md transition-all"><!></button></div>'),uo=u('<div class="grid grid-cols-2 gap-3"></div>');function ga(H,y){Ue(y,!1);const i=()=>K(qe,"$character",P),s=()=>K(Ge,"$t",P),p=()=>K(Ha,"$derivedStats",P),[P,_]=Fe();function x(M,b){Te.update(z=>({...z,type:M,isOpen:!0,data:b}))}function v(M){x("pre_roll",{type:"attribute",source:M})}function n(M,b){M.stopPropagation(),x("attribute",b)}$t();var S=uo();je(S,5,()=>i().attributes,He,(M,b)=>{var z=po();z.__click=()=>v(e(b));var F=a(z),A=a(F),I=a(A,!0);t(A);var T=r(A,2),R=a(T),Y=a(R,!0);t(R);var C=r(R,2);{var k=O=>{var q=vo(),D=a(q);t(q),m(()=>{Ee(q,1,`text-[11px] font-bold ${p()[e(b).key]>e(b).value?"text-green-500 bg-green-500/10":"text-red-500 bg-red-500/10"} px-1 rounded-md`),o(D,`${p()[e(b).key]>e(b).value?"+":""}${p()[e(b).key]-e(b).value}`)}),l(O,q)};U(C,O=>{p()[e(b).key]!==e(b).value&&O(k)})}t(T);var f=r(T,2),c=a(f),d=a(c);t(c),t(f),t(F);var h=r(F,2);h.__click=O=>n(O,e(b));var $=a(h);Ht($,{size:12}),t(h),t(z),m((O,q,D)=>{$e(z,"aria-label",O),o(I,q),o(Y,p()[e(b).key]),o(d,`+${p()[e(b).key]-10}`),$e(h,"aria-label",D)},[()=>`${s()(`sofww.attributes.${e(b).key}`)} roll`,()=>s()(`sofww.attributes.${e(b).key}`),()=>`${s()("common.buttons.edit")} ${s()(`sofww.attributes.${e(b).key}`)}`]),l(M,z)}),t(S),l(H,S),Re(),_()}Ve(["click"]);var bo=u('<div class="p-1 bg-red-500/10 rounded"><!></div>'),xo=u('<div class="space-y-3"><div class="grid grid-cols-2 gap-3"><button class="bg-slate-900 overflow-hidden rounded-2xl border border-slate-800 p-3 text-left transition-all hover:bg-slate-800 active:scale-95 group shadow-lg shadow-black/20"><div class="text-[9px] font-black text-slate-500 uppercase tracking-widest group-hover:text-indigo-400 transition-colors flex items-center gap-1.5 mb-2"><!> </div> <div class="flex items-baseline gap-1"><span class="text-3xl font-black text-white leading-none"> </span></div></button> <button class="bg-slate-900 overflow-hidden rounded-2xl border border-slate-800 p-3 text-left transition-all hover:bg-slate-800 active:scale-95 group shadow-lg shadow-black/20"><div class="text-[9px] font-black text-slate-500 uppercase tracking-widest group-hover:text-indigo-400 transition-colors flex items-center gap-1.5 mb-2"><!> </div> <div class="flex items-baseline justify-between w-full"><span> </span> <!></div></button></div> <div class="bg-slate-900 rounded-2xl border border-slate-800 p-4 shadow-lg shadow-black/20"><span class="text-[9px] font-black text-slate-500 uppercase tracking-[0.2em] flex items-center gap-2 mb-3"><!> </span> <!></div></div>');function ha(H,y){Ue(y,!1);const i=()=>K(Ge,"$t",_),s=()=>K(Bt,"$totalDefense",_),p=()=>K(Ia,"$effectiveSpeed",_),P=()=>K(qe,"$character",_),[_,x]=Fe();function v(w,E){Te.update(te=>({...te,type:w,isOpen:!0,data:E}))}function n(w){qe.update(E=>({...E,bonusDamage:w}))}$t();var S=xo(),M=a(S),b=a(M);b.__click=()=>v("stat","defense");var z=a(b),F=a(z);sr(F,{size:12});var A=r(F);t(z);var I=r(z,2),T=a(I),R=a(T,!0);t(T),t(I),t(b);var Y=r(b,2);Y.__click=()=>v("stat","speed");var C=a(Y),k=a(C);_t(k,{size:12});var f=r(k);t(C);var c=r(C,2),d=a(c),h=a(d,!0);t(d);var $=r(d,2);{var O=w=>{var E=bo(),te=a(E);It(te,{size:10,class:"text-red-500"}),t(E),l(w,E)};U($,w=>{p()<P().speed&&w(O)})}t(c),t(Y),t(M);var q=r(M,2),D=a(q),G=a(D);St(G,{size:14,class:"text-indigo-500"});var N=r(G);t(D);var g=r(D,2);{let w=Sa(()=>P().bonusDamage||0);fa(g,{get value(){return e(w)},onUpdate:n})}t(q),t(S),m((w,E,te)=>{o(A,` ${w??""}`),o(R,s()),o(f,` ${E??""}`),Ee(d,1,`text-3xl font-black ${p()<P().speed?"text-red-400":"text-white"} leading-none`),o(h,p()),o(N,` ${te??""}`)},[()=>i()("character.vitals.defense"),()=>i()("character.vitals.speed"),()=>i()("character.vitals.bonus_damage")]),l(H,S),Re(),x()}Ve(["click"]);var _o=u('<div class="bg-slate-900 p-3 rounded-2xl border border-slate-800 shadow-xl shadow-black/20"><div class="flex justify-between items-center mb-3"><h4 class="text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] flex items-center gap-1.5"><!> </h4></div> <div class="grid grid-cols-3 gap-2"><div class="bg-slate-950 rounded-xl p-2 border border-slate-800/50 flex flex-col items-center gap-1.5 relative overflow-hidden group"><div class="text-[9px] text-yellow-500 font-black uppercase tracking-tight relative z-10">GP</div> <div class="flex items-center justify-between w-full relative z-10 bg-black/40 rounded-lg p-0.5 border border-white/5"><button class="w-7 h-7 flex items-center justify-center text-slate-500 hover:text-red-400 hover:bg-red-400/10 rounded-md transition-all active:scale-75" aria-label="Diminuir GP"><!></button> <span class="text-sm font-black text-white font-mono leading-none"> </span> <button class="w-7 h-7 flex items-center justify-center text-slate-500 hover:text-green-400 hover:bg-green-400/10 rounded-md transition-all active:scale-75" aria-label="Aumentar GP"><!></button></div></div> <div class="bg-slate-950 rounded-xl p-2 border border-slate-800/50 flex flex-col items-center gap-1.5 relative overflow-hidden group"><div class="text-[9px] text-slate-300 font-black uppercase tracking-tight relative z-10">SP</div> <div class="flex items-center justify-between w-full relative z-10 bg-black/40 rounded-lg p-0.5 border border-white/5"><button class="w-7 h-7 flex items-center justify-center text-slate-500 hover:text-red-400 hover:bg-red-400/10 rounded-md transition-all active:scale-75" aria-label="Diminuir SP"><!></button> <span class="text-sm font-black text-white font-mono leading-none"> </span> <button class="w-7 h-7 flex items-center justify-center text-slate-500 hover:text-green-400 hover:bg-green-400/10 rounded-md transition-all active:scale-75" aria-label="Aumentar SP"><!></button></div></div> <div class="bg-slate-950 rounded-xl p-2 border border-slate-800/50 flex flex-col items-center gap-1.5 relative overflow-hidden group"><div class="text-[9px] text-orange-700/80 font-black uppercase tracking-tight relative z-10">CP</div> <div class="flex items-center justify-between w-full relative z-10 bg-black/40 rounded-lg p-0.5 border border-white/5"><button class="w-7 h-7 flex items-center justify-center text-slate-500 hover:text-red-400 hover:bg-red-400/10 rounded-md transition-all active:scale-75" aria-label="Diminuir CP"><!></button> <span class="text-sm font-black text-white font-mono leading-none"> </span> <button class="w-7 h-7 flex items-center justify-center text-slate-500 hover:text-green-400 hover:bg-green-400/10 rounded-md transition-all active:scale-75" aria-label="Aumentar CP"><!></button></div></div></div></div>');function ma(H,y){Ue(y,!1);const i=()=>K(Ge,"$t",p),s=()=>K(qe,"$character",p),[p,P]=Fe(),{updateCurrency:_}=Le;$t();var x=_o(),v=a(x),n=a(v),S=a(n);ir(S,{size:14,class:"text-yellow-500"});var M=r(S);t(n),t(v);var b=r(v,2),z=a(b),F=r(a(z),2),A=a(F);A.__click=()=>_("gp",-1);var I=a(A);Ct(I,{size:14}),t(A);var T=r(A,2),R=a(T,!0);t(T);var Y=r(T,2);Y.__click=()=>_("gp",1);var C=a(Y);lt(C,{size:14}),t(Y),t(F),t(z);var k=r(z,2),f=r(a(k),2),c=a(f);c.__click=()=>_("sp",-1);var d=a(c);Ct(d,{size:14}),t(c);var h=r(c,2),$=a(h,!0);t(h);var O=r(h,2);O.__click=()=>_("sp",1);var q=a(O);lt(q,{size:14}),t(O),t(f),t(k);var D=r(k,2),G=r(a(D),2),N=a(G);N.__click=()=>_("cp",-1);var g=a(N);Ct(g,{size:14}),t(N);var w=r(N,2),E=a(w,!0);t(w);var te=r(w,2);te.__click=()=>_("cp",1);var le=a(te);lt(le,{size:14}),t(te),t(G),t(D),t(b),t(x),m(_e=>{o(M,` ${_e??""}`),o(R,s().currency.gp),o($,s().currency.sp),o(E,s().currency.cp)},[()=>i()("character.currency.title")]),l(H,x),Re(),P()}Ve(["click"]);var fo=u('<div class="bg-slate-950 border border-slate-700 text-slate-200 px-3 py-1.5 rounded-xl text-sm font-bold flex items-center gap-2 group transition-all hover:border-indigo-500/50"> <button class="text-slate-500 hover:text-red-400 p-1 rounded-full hover:bg-red-400/10 transition-all"><!></button></div>'),go=u('<span class="text-sm text-slate-500 italic py-2 px-1"> </span>'),ho=u('<div class="bg-slate-900 p-4 rounded-2xl border border-slate-800 shadow-xl shadow-black/20"><div class="flex justify-between items-center mb-4"><h4 class="text-xs font-black text-slate-400 uppercase tracking-[0.2em] flex items-center gap-2"><!> </h4></div> <div class="flex flex-wrap gap-2 mb-4"><!> <!></div> <div class="relative group"><input type="text" class="w-full bg-slate-950 border border-slate-700 rounded-xl px-4 py-3 text-sm text-white focus:outline-none focus:border-indigo-500 transition-all placeholder:text-slate-600 focus:ring-1 focus:ring-indigo-500/20"/> <div class="absolute right-3 top-1/2 -translate-y-1/2 p-1.5 bg-slate-800 rounded-lg text-slate-500 group-focus-within:text-indigo-400 group-focus-within:bg-indigo-400/10 transition-all"><!></div></div></div>');function $a(H,y){Ue(y,!1);const i=()=>K(Ge,"$t",p),s=()=>K(qe,"$character",p),[p,P]=Fe(),{addLanguage:_,removeLanguage:x}=Le;function v(f){if(f.key==="Enter"){const c=f.target,d=c.value.trim();d!==""&&(_(d),c.value="")}}$t();var n=ho(),S=a(n),M=a(S),b=a(M);pr(b,{size:16,class:"text-indigo-500"});var z=r(b);t(M),t(S);var F=r(S,2),A=a(F);je(A,1,()=>s().languages,He,(f,c,d)=>{var h=fo(),$=a(h),O=r($);O.__click=()=>x(d);var q=a(O);Dt(q,{size:14}),t(O),t(h),m(()=>{o($,`${e(c)??""} `),$e(O,"aria-label",`Remover idioma ${e(c)??""}`)}),l(f,h)});var I=r(A,2);{var T=f=>{var c=go(),d=a(c,!0);t(c),m(h=>o(d,h),[()=>i()("character.languages.none")]),l(f,c)};U(I,f=>{s().languages.length===0&&f(T)})}t(F);var R=r(F,2),Y=a(R);Y.__keydown=v;var C=r(Y,2),k=a(C);lt(k,{size:16}),t(C),t(R),t(n),m((f,c,d)=>{o(z,` ${f??""}`),$e(Y,"placeholder",c),$e(Y,"aria-label",d)},[()=>i()("character.languages.title"),()=>i()("character.languages.add_placeholder"),()=>i()("character.languages.add_label")]),l(H,n),Re(),P()}Ve(["click","keydown"]);var mo=u('<span class="text-xs text-slate-500 italic"> </span>'),$o=u('<div class="group relative"><div class="text-xs bg-red-900/30 border border-red-700 text-red-200 px-2 py-1 rounded flex items-center gap-1 cursor-help"> <button class="ml-1 text-red-400 hover:text-white"><!></button></div></div>'),yo=u('<div class="bg-slate-900 p-3 rounded-xl border border-slate-800"><div class="flex justify-between items-center mb-2"><h4 class="text-[10px] font-bold text-slate-400 uppercase flex items-center gap-1"><!> </h4> <button class="text-slate-500 hover:text-white"><!></button></div> <div class="flex flex-wrap gap-2"><!> <!></div></div>');function ya(H,y){Ue(y,!1);const i=()=>K(Ge,"$t",p),s=()=>K(qe,"$character",p),[p,P]=Fe(),{toggleAffliction:_}=Le;function x(){Te.update(C=>({...C,type:"affliction",isOpen:!0}))}function v(C,k){C.stopPropagation(),_(k)}$t();var n=yo(),S=a(n),M=a(S),b=a(M);It(b,{size:12});var z=r(b);t(M);var F=r(M,2);F.__click=x;var A=a(F);lt(A,{size:14}),t(F),t(S);var I=r(S,2),T=a(I);{var R=C=>{var k=mo(),f=a(k,!0);t(k),m(c=>o(f,c),[()=>i()("character.afflictions.none")]),l(C,k)};U(T,C=>{s().afflictions.length===0&&C(R)})}var Y=r(T,2);je(Y,1,()=>s().afflictions,He,(C,k)=>{var f=$o(),c=a(f),d=a(c),h=r(d);h.__click=O=>v(O,e(k));var $=a(h);Dt($,{size:10}),t(h),t(c),t(f),m(O=>{$e(c,"title",O),o(d,`${e(k)??""} `),$e(h,"aria-label",`Remover aflição ${e(k)??""}`)},[()=>i()("character.afflictions.active")]),l(C,f)}),t(I),t(n),m((C,k)=>{o(z,` ${C??""}`),$e(F,"aria-label",k)},[()=>i()("character.afflictions.title"),()=>i()("character.afflictions.add")]),l(H,n),Re(),P()}Ve(["click"]);var wo=u('<button><!> <span class="text-[10px] font-bold uppercase tracking-wide"> </span></button>'),ko=u('<div class="md:hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-[60]"></div> <div class="md:hidden fixed bottom-0 left-0 right-0 z-[70] bg-slate-900 border-t border-slate-700 rounded-t-3xl shadow-2xl safe-area-pb"><div class="flex justify-between items-center px-6 py-4 border-b border-slate-800"><h3 class="text-sm font-black text-white uppercase tracking-wider"> </h3> <button class="p-2 rounded-full bg-slate-800 text-slate-400 hover:text-white transition-colors"><!></button></div> <div class="grid grid-cols-3 gap-2 p-4"></div></div>',1),zo=u('<button role="tab"><!> <span class="text-[9px] font-bold uppercase tracking-wide"> </span></button>'),So=u('<div class="absolute inset-x-0 bottom-0 h-0.5 bg-indigo-400 shadow-[0_0_8px_rgba(129,140,248,0.5)]"></div>'),To=u('<button role="tab"><!> <span class="tracking-widest uppercase"> </span> <!></button>'),Oo=u('<!> <div class="md:hidden fixed bottom-0 left-0 right-0 z-50 bg-slate-900/95 backdrop-blur-lg border-t border-slate-800 safe-area-pb" role="tablist"><div class="flex justify-around items-center py-2"><!> <button role="tab"><!> <span class="text-[9px] font-bold uppercase tracking-wide"> </span></button></div></div> <div class="hidden md:flex bg-slate-900/80 backdrop-blur-md border-b border-slate-800 overflow-x-auto no-scrollbar sticky top-[60px] z-30" role="tablist"></div>',1);function Mo(H,y){Ue(y,!0);const i=()=>K(Ge,"$t",p),s=()=>K(ft,"$activeTab",p),[p,P]=Fe(),_=fe(()=>[{id:"acoes",label:i()("character.tabs.actions"),icon:St},{id:"magias",label:i()("character.tabs.spells"),icon:ia},{id:"talentos",label:i()("character.tabs.talents"),icon:_t},{id:"equipamento",label:i()("character.tabs.items"),icon:Jt},{id:"notas",label:i()("character.tabs.notes"),icon:na},{id:"efeitos",label:i()("character.tabs.effects"),icon:It}]),x=fe(()=>[{id:"stats",label:i()("character.tabs.stats"),icon:Wa},{id:"acoes",label:i()("character.tabs.actions"),icon:St},{id:"notas",label:i()("character.tabs.notes"),icon:na},{id:"equipamento",label:i()("character.tabs.items"),icon:Jt}]),v=fe(()=>[{id:"magias",label:i()("character.tabs.spells"),icon:ia},{id:"talentos",label:i()("character.tabs.talents"),icon:_t},{id:"efeitos",label:i()("character.tabs.effects"),icon:It}]);let n=Xe(!1);function S(c){ft.set(c),Se(n,!1)}let M=fe(()=>e(v).some(c=>c.id===s()));var b=Oo(),z=ge(b);{var F=c=>{var d=ko(),h=ge(d);h.__click=()=>Se(n,!1);var $=r(h,2),O=a($),q=a(O),D=a(q,!0);t(q);var G=r(q,2);G.__click=()=>Se(n,!1);var N=a(G);Dt(N,{size:18}),t(G),t(O);var g=r(O,2);je(g,21,()=>e(v),He,(w,E)=>{var te=wo();te.__click=()=>S(e(E).id);var le=a(te);Vt(le,()=>e(E).icon,(re,ce)=>{ce(re,{size:24})});var _e=r(le,2),X=a(_e,!0);t(_e),t(te),m(()=>{Ee(te,1,`flex flex-col items-center gap-2 p-4 rounded-2xl transition-all active:scale-95 ${s()===e(E).id?"bg-indigo-600 text-white":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`),o(X,e(E).label)}),l(w,te)}),t(g),t($),m(w=>o(D,w),[()=>i()("character.tabs.more_options")]),Kt(3,h,()=>ba,()=>({duration:150})),Kt(3,$,()=>or,()=>({duration:200})),l(c,d)};U(z,c=>{e(n)&&c(F)})}var A=r(z,2),I=a(A),T=a(I);je(T,17,()=>e(x),He,(c,d)=>{var h=zo();h.__click=()=>S(e(d).id);var $=a(h);{let D=fe(()=>s()===e(d).id?"text-indigo-400":"text-slate-500");Vt($,()=>e(d).icon,(G,N)=>{N(G,{size:20,get class(){return e(D)}})})}var O=r($,2),q=a(O,!0);t(O),t(h),m(()=>{Ee(h,1,`flex flex-col items-center gap-0.5 px-3 py-2 transition-all ${s()===e(d).id?"text-indigo-400":"text-slate-500"}`),$e(h,"aria-selected",s()===e(d).id),o(q,e(d).label)}),l(c,h)});var R=r(T,2);R.__click=()=>Se(n,!e(n));var Y=a(R);{let c=fe(()=>e(M)||e(n)?"text-indigo-400":"text-slate-500");nr(Y,{size:20,get class(){return e(c)}})}var C=r(Y,2),k=a(C,!0);t(C),t(R),t(I),t(A);var f=r(A,2);je(f,21,()=>e(_),He,(c,d)=>{var h=To();h.__click=()=>ft.set(e(d).id);var $=a(h);{let N=fe(()=>s()===e(d).id?"text-indigo-400":"text-slate-500");Vt($,()=>e(d).icon,(g,w)=>{w(g,{size:14,get class(){return`${e(N)??""} group-hover:scale-110 transition-transform`}})})}var O=r($,2),q=a(O,!0);t(O);var D=r(O,2);{var G=N=>{var g=So();l(N,g)};U(D,N=>{s()===e(d).id&&N(G)})}t(h),m(()=>{Ee(h,1,`px-5 lg:px-6 py-4 flex items-center gap-2 font-black text-xs transition-all whitespace-nowrap border-b-2 relative group ${s()===e(d).id?"text-indigo-400 border-indigo-500 bg-indigo-500/5":"text-slate-500 border-transparent hover:text-slate-300"}`),$e(h,"aria-selected",s()===e(d).id),o(q,e(d).label)}),l(c,h)}),t(f),m(c=>{Ee(R,1,`flex flex-col items-center gap-0.5 px-3 py-2 transition-all ${e(M)||e(n)?"text-indigo-400":"text-slate-500"}`),$e(R,"aria-expanded",e(n)),o(k,c)},[()=>i()("character.tabs.more")]),l(H,b),Re(),P()}Ve(["click"]);var Eo=u('<div class="absolute inset-0 bg-red-900/20 z-0 animate-pulse"></div>'),Ao=u('<span class="text-[10px] bg-indigo-900 text-indigo-200 px-1 rounded uppercase"> </span>'),Co=u('<span class="text-[10px] bg-red-600 text-white px-2 py-0.5 rounded-full uppercase font-black animate-bounce"> </span>'),Po=u('<span class="text-[9px] bg-slate-800 text-slate-300 px-1.5 py-0.5 rounded border border-slate-700 uppercase font-bold"> </span>'),Do=u('<div class="flex flex-wrap gap-1 mt-1"><!> <span class="text-[9px] text-slate-600">•</span> <span class="text-[9px] text-slate-500 uppercase"> </span></div>'),No=u('<p class="text-xs text-slate-500 mt-1"> </p>'),jo=u('<button class="text-xs bg-red-900/50 text-red-200 px-3 py-1 rounded border border-red-800 hover:bg-red-900 flex items-center gap-1"><!> </button>'),Ho=u('<div class="flex flex-col sm:flex-row justify-between p-4 bg-slate-950 rounded-lg border border-slate-800 hover:border-indigo-900 cursor-pointer transition-colors gap-4 active:scale-[0.99] relative overflow-hidden" role="button" tabindex="0"><!> <div class="flex items-start gap-3 relative z-10"><div class="bg-slate-800 p-2 rounded text-slate-400 mt-1"><!></div> <div class="flex-1"><h3 class="font-bold text-white flex items-center gap-2 flex-wrap"> <!> <!></h3> <!></div></div> <div class="flex flex-col items-end gap-2 relative z-10"><div class="flex items-center gap-4 bg-slate-900 p-2 rounded-lg border border-slate-800"><div class="text-center px-2"><span class="block text-[10px] font-bold text-slate-500 uppercase"> </span> <span class="text-xl font-mono text-white font-bold"> </span></div></div> <!></div></div>'),Io=u('<div class="flex flex-col sm:flex-row items-center p-4 bg-slate-950 rounded-lg border border-slate-800 hover:border-indigo-500 cursor-pointer transition-colors gap-4 group" role="button" tabindex="0"><div class="flex items-start gap-3 w-full"><div class="bg-indigo-900/50 p-2 rounded text-indigo-300 mt-1"><!></div> <div><p class="font-bold text-white flex items-center gap-2 group-hover:text-indigo-300 transition-colors"> </p> <p class="text-xs text-slate-500"> </p></div></div> <div class="ml-auto"><div class="bg-slate-900 px-3 py-1 rounded text-xs font-bold text-indigo-400 uppercase tracking-wider border border-slate-800"> </div></div></div>'),Uo=u('<div class="flex flex-col sm:flex-row items-center p-4 bg-slate-950 rounded-lg border border-slate-800 hover:border-yellow-600 cursor-pointer transition-colors gap-4 group" role="button" tabindex="0"><div class="flex items-start gap-3 w-full"><div class="bg-yellow-900/30 p-2 rounded text-yellow-300 mt-1"><!></div> <div><p class="font-bold text-white flex items-center gap-2 group-hover:text-yellow-300 transition-colors"> </p> <p class="text-xs text-slate-500"> </p></div></div> <div class="ml-auto"><div class="bg-slate-900 px-3 py-1 rounded text-xs font-bold text-yellow-500 uppercase tracking-wider border border-slate-800"> </div></div></div>'),Ro=u('<div class="flex flex-col items-center justify-center py-16 px-6 text-center bg-gradient-to-b from-slate-900/50 to-slate-950/50 rounded-[2.5rem] border border-dashed border-slate-800 shadow-2xl relative overflow-hidden group mt-4"><div class="absolute -top-24 -right-24 w-48 h-48 bg-indigo-500/10 blur-[100px] rounded-full"></div> <div class="absolute -bottom-24 -left-24 w-48 h-48 bg-indigo-500/10 blur-[100px] rounded-full"></div> <div class="relative"><div class="w-20 h-20 bg-slate-800 rounded-3xl flex items-center justify-center text-indigo-400 mb-6 mx-auto transform group-hover:scale-110 group-hover:rotate-3 transition-all duration-500 shadow-xl border border-slate-700"><!></div> <h3 class="text-2xl font-black text-white mb-3 uppercase tracking-tight"> </h3> <p class="text-slate-400 mb-8 max-w-sm mx-auto leading-relaxed"> </p> <div class="grid grid-cols-1 sm:grid-cols-3 gap-3 w-full max-w-md"><button class="flex flex-col items-center gap-2 p-4 bg-slate-900/80 hover:bg-slate-800 rounded-2xl border border-slate-800 hover:border-indigo-500/50 transition-all active:scale-95 group/btn"><div class="p-2 bg-slate-800 rounded-lg text-slate-400 group-hover/btn:text-indigo-400 transition-colors"><!></div> <span class="text-[10px] font-black uppercase tracking-wider text-slate-500 group-hover/btn:text-slate-300"> </span></button> <button class="flex flex-col items-center gap-2 p-4 bg-slate-900/80 hover:bg-slate-800 rounded-2xl border border-slate-800 hover:border-indigo-500/50 transition-all active:scale-95 group/btn"><div class="p-2 bg-slate-800 rounded-lg text-slate-400 group-hover/btn:text-indigo-400 transition-colors"><!></div> <span class="text-[10px] font-black uppercase tracking-wider text-slate-500 group-hover/btn:text-slate-300"> </span></button> <button class="flex flex-col items-center gap-2 p-4 bg-slate-900/80 hover:bg-slate-800 rounded-2xl border border-slate-800 hover:border-indigo-500/50 transition-all active:scale-95 group/btn"><div class="p-2 bg-slate-800 rounded-lg text-slate-400 group-hover/btn:text-indigo-400 transition-colors"><!></div> <span class="text-[10px] font-black uppercase tracking-wider text-slate-500 group-hover/btn:text-slate-300"> </span></button></div></div></div>'),qo=u('<div class="space-y-4"><!> <!> <!> <!></div>');function Lo(H,y){Ue(y,!0);const i=()=>K(qe,"$character",p),s=()=>K(Ge,"$t",p),[p,P]=Fe(),{useConsumable:_}=Le;let x=fe(()=>i().equipment.filter(k=>k.type===ct.WEAPON&&k.equippedState||k.type===ct.EXPLOSIVE)),v=fe(()=>i().spells.length>0),n=fe(()=>i().talents.length>0),S=fe(()=>e(x).length===0&&!e(v)&&!e(n));function M(k,f=null){Te.update(c=>({...c,type:k,isOpen:!0,data:f}))}function b(k,f){k.stopPropagation(),_(f)}var z=qo(),F=a(z);je(F,17,()=>e(x),He,(k,f)=>{var c=Ho();c.__click=()=>(e(f).traits||"").toLowerCase().includes("reload")&&e(f).isLoaded===!1?Le.reloadWeapon(e(f)):M("weapon_menu",e(f));var d=a(c);{var h=oe=>{var L=Eo();l(oe,L)};U(d,oe=>{(e(f).traits||"").toLowerCase().includes("reload")&&e(f).isLoaded===!1&&oe(h)})}var $=r(d,2),O=a($),q=a(O);St(q,{size:20}),t(O);var D=r(O,2),G=a(D),N=a(G),g=r(N);{var w=oe=>{var L=Ao(),ae=a(L,!0);t(L),m(()=>o(ae,e(f).equippedState)),l(oe,L)};U(g,oe=>{e(f).equippedState&&oe(w)})}var E=r(g,2);{var te=oe=>{var L=Co(),ae=a(L,!0);t(L),m(B=>o(ae,B),[()=>s()("character.actions.reload")]),l(oe,L)};U(E,oe=>{(e(f).traits||"").toLowerCase().includes("reload")&&e(f).isLoaded===!1&&oe(te)})}t(G);var le=r(G,2);{var _e=oe=>{var L=Do(),ae=a(L);je(ae,17,()=>e(f).traits.split(",").map(ke=>ke.trim()).filter(ke=>ke),He,(ke,me)=>{var Q=Po(),Z=a(Q,!0);t(Q),m(V=>o(Z,V),[()=>s()(`character.traits.${e(me)}`)]),l(ke,Q)});var B=r(ae,4),we=a(B,!0);t(B),t(L),m(()=>o(we,e(f).range||"Melee")),l(oe,L)},X=oe=>{var L=No(),ae=a(L,!0);t(L),m(()=>o(ae,e(f).range||"Melee")),l(oe,L)};U(le,oe=>{e(f).traits?oe(_e):oe(X,!1)})}t(D),t($);var re=r($,2),ce=a(re),de=a(ce),J=a(de),he=a(J,!0);t(J);var W=r(J,2),j=a(W);t(W),t(de),t(ce);var se=r(ce,2);{var ue=oe=>{var L=jo();L.__click=we=>b(we,e(f));var ae=a(L);lr(ae,{size:12});var B=r(ae);t(L),m(we=>o(B,` ${we??""} (${e(f).quantity??""})`),[()=>s()("character.actions.throw")]),l(oe,L)};U(se,oe=>{e(f).type===ct.EXPLOSIVE&&oe(ue)})}t(re),t(c),m(oe=>{o(N,`${e(f).name??""} `),o(he,oe),o(j,`${(e(f).damageDice||0)??""}d6`)},[()=>s()("character.actions.damage")]),l(k,c)});var A=r(F,2);{var I=k=>{var f=Io();f.__click=()=>M("cast_spell");var c=a(f),d=a(c),h=a(d);Nt(h,{size:20}),t(d);var $=r(d,2),O=a($),q=a(O,!0);t(O);var D=r(O,2),G=a(D,!0);t(D),t($),t(c);var N=r(c,2),g=a(N),w=a(g,!0);t(g),t(N),t(f),m((E,te,le)=>{o(q,E),o(G,te),o(w,le)},[()=>s()("character.actions.cast_spell"),()=>s()("character.actions.cast_spell_desc"),()=>s()("character.actions.select")]),l(k,f)};U(A,k=>{e(v)&&k(I)})}var T=r(A,2);{var R=k=>{var f=Uo();f.__click=()=>M("select_talent");var c=a(f),d=a(c),h=a(d);_t(h,{size:20}),t(d);var $=r(d,2),O=a($),q=a(O,!0);t(O);var D=r(O,2),G=a(D,!0);t(D),t($),t(c);var N=r(c,2),g=a(N),w=a(g,!0);t(g),t(N),t(f),m((E,te,le)=>{o(q,E),o(G,te),o(w,le)},[()=>s()("character.actions.use_talent"),()=>s()("character.actions.use_talent_desc"),()=>s()("character.actions.select")]),l(k,f)};U(T,k=>{e(n)&&k(R)})}var Y=r(T,2);{var C=k=>{var f=Ro(),c=r(a(f),4),d=a(c),h=a(d);St(h,{size:40,class:"opacity-80"}),t(d);var $=r(d,2),O=a($,!0);t($);var q=r($,2),D=a(q,!0);t(q);var G=r(q,2),N=a(G);N.__click=()=>ft.set("equipamento");var g=a(N),w=a(g);Jt(w,{size:20}),t(g);var E=r(g,2),te=a(E,!0);t(E),t(N);var le=r(N,2);le.__click=()=>ft.set("magias");var _e=a(le),X=a(_e);Nt(X,{size:20}),t(_e);var re=r(_e,2),ce=a(re,!0);t(re),t(le);var de=r(le,2);de.__click=()=>ft.set("talentos");var J=a(de),he=a(J);_t(he,{size:20}),t(J);var W=r(J,2),j=a(W,!0);t(W),t(de),t(G),t(c),t(f),m((se,ue,oe,L,ae)=>{o(O,se),o(D,ue),o(te,oe),o(ce,L),o(j,ae)},[()=>s()("character.actions.empty_title"),()=>s()("character.actions.empty_desc"),()=>s()("character.actions.inventory"),()=>s()("character.tabs.spells"),()=>s()("character.tabs.talents")]),Kt(1,f,()=>ba,()=>({duration:300})),l(k,f)};U(Y,k=>{e(S)&&k(C)})}t(z),l(H,z),Re(),P()}Ve(["click"]);var Vo=u('<div class="p-5 bg-slate-900/40 backdrop-blur-sm border border-slate-800 rounded-2xl group hover:border-indigo-500/50 transition-all duration-300"><div class="flex justify-between items-start mb-3"><div><div class="font-bold text-white text-lg group-hover:text-indigo-300 transition-colors uppercase tracking-tight"> </div> <div class="text-[10px] text-slate-500 font-bold uppercase tracking-wider"> </div></div> <button class="text-slate-600 hover:text-white p-1 hover:bg-slate-800 rounded-md transition-all"><!></button></div> <div class="text-sm text-slate-400 mb-4 line-clamp-2 leading-relaxed h-10"> </div> <div class="flex items-center justify-between bg-slate-950/50 p-3 rounded-xl border border-slate-800/50"><span class="text-[10px] font-black text-slate-500 uppercase tracking-widest"> </span> <div class="flex items-center gap-3"><span> </span> <button class="bg-indigo-600 disabled:opacity-20 text-white text-[10px] font-black px-4 py-1.5 rounded-lg hover:bg-indigo-500 transition-all shadow-lg shadow-indigo-900/40 active:scale-95 uppercase tracking-wider"> </button></div></div></div>'),Fo=u('<div class="space-y-3"><h4 class="text-[10px] font-black text-indigo-400 uppercase tracking-[0.2em] flex items-center gap-2"><span class="w-8 h-px bg-indigo-500/30"></span> <span class="flex-1 h-px bg-indigo-500/30"></span></h4> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"></div></div>'),Go=u('<div class="text-center py-16 bg-slate-900/20 border-2 border-dashed border-slate-800 rounded-2xl"><!> <p class="text-slate-500 font-medium"> </p> <button class="mt-4 text-indigo-400 hover:text-indigo-300 text-sm font-bold flex items-center gap-1 mx-auto"><!> </button></div>'),Wo=u('<div class="space-y-8"><div class="flex justify-between items-center mb-2"><div><h3 class="text-lg font-bold text-white tracking-tight"> </h3> <p class="text-xs text-slate-500"> </p></div> <button class="text-xs bg-indigo-600 hover:bg-indigo-500 px-4 py-2 rounded-lg text-white font-bold flex items-center gap-2 shadow-lg shadow-indigo-900/20 transition-all active:scale-95"><!> </button></div> <!> <!></div>');function Yo(H,y){Ue(y,!1);const i=()=>K(Ge,"$t",p),s=()=>K(qe,"$character",p),[p,P]=Fe();function _(C,k=null){Te.update(f=>({...f,type:C,isOpen:!0,data:k}))}$t();var x=Wo(),v=a(x),n=a(v),S=a(n),M=a(S,!0);t(S);var b=r(S,2),z=a(b,!0);t(b),t(n);var F=r(n,2);F.__click=()=>_("spell");var A=a(F);lt(A,{size:16});var I=r(A);t(F),t(v);var T=r(v,2);je(T,0,()=>["Novice","Expert","Master"],He,(C,k)=>{var f=Ce(),c=ge(f);{var d=h=>{var $=Fo(),O=a($),q=r(a(O));bt(),t(O);var D=r(O,2);je(D,5,()=>s().spells.filter(G=>G.tier===k),He,(G,N)=>{var g=Vo(),w=a(g),E=a(w),te=a(E),le=a(te,!0);t(te);var _e=r(te,2),X=a(_e);t(_e),t(E);var re=r(E,2);re.__click=()=>_("spell",e(N));var ce=a(re);Ht(ce,{size:14}),t(re),t(w);var de=r(w,2),J=a(de,!0);t(de);var he=r(de,2),W=a(he),j=a(W,!0);t(W);var se=r(W,2),ue=a(se),oe=a(ue);t(ue);var L=r(ue,2);L.__click=()=>_("confirm_spell",e(N));var ae=a(L,!0);t(L),t(se),t(he),t(g),m((B,we)=>{o(le,e(N).name),o(X,`${e(N).tradition??""} • ${e(N).type??""}`),$e(re,"aria-label",`Editar ${e(N).name??""}`),o(J,e(N).description),o(j,B),Ee(ue,1,`text-sm font-mono font-bold ${e(N).castings===0?"text-red-500":"text-indigo-400"}`),o(oe,`${e(N).castings??""}/${e(N).maxCastings??""}`),L.disabled=e(N).castings===0,o(ae,we)},[()=>i()("character.spells.magic_uses"),()=>i()("character.spells.cast")]),l(G,g)}),t(D),t($),m(()=>o(q,` ${k??""} Spells `)),l(h,$)};U(c,h=>{s().spells.some($=>$.tier===k)&&h(d)})}l(C,f)});var R=r(T,2);{var Y=C=>{var k=Go(),f=a(k);Nt(f,{size:48,class:"mx-auto text-slate-800 mb-3"});var c=r(f,2),d=a(c,!0);t(c);var h=r(c,2);h.__click=()=>_("spell");var $=a(h);lt($,{size:14});var O=r($);t(h),t(k),m((q,D)=>{o(d,q),o(O,` ${D??""}`)},[()=>i()("character.spells.empty"),()=>i()("character.spells.add_first")]),l(C,k)};U(R,C=>{s().spells.length===0&&C(Y)})}t(x),m((C,k,f,c)=>{o(M,C),o(z,k),$e(F,"aria-label",f),o(I,` ${c??""}`)},[()=>i()("character.spells.grimoire"),()=>i()("character.spells.grimoire_desc"),()=>i()("character.spells.add_spell"),()=>i()("character.spells.new_spell")]),l(H,x),Re(),P()}Ve(["click"]);var Bo=u('<div class="text-2xl font-mono font-bold text-white leading-tight"> </div>'),Xo=u('<div class="text-sm font-bold text-slate-500 uppercase tracking-tighter mt-1 italic"> </div>'),Ko=u("<span> </span>"),Jo=u('<div class="flex flex-wrap gap-1 mt-1"></div>'),Qo=u('<button class="bg-yellow-900/40 hover:bg-yellow-800/40 text-yellow-500 border border-yellow-800 px-2 py-0.5 rounded flex items-center gap-1 transition-colors" aria-label="Sortear encerramento do efeito"><!> </button>'),Zo=u('<div><div class="flex justify-between items-start"><div class="flex items-center gap-2"><button><div></div></button> <span class="font-bold text-white tracking-tight"> </span></div> <div class="flex gap-2"><button class="text-slate-500 hover:text-white p-1 hover:bg-slate-800 rounded transition-colors"><!></button> <button class="text-slate-500 hover:text-red-400 p-1 hover:bg-slate-800 rounded transition-colors"><!></button></div></div> <div class="text-xs text-slate-400 leading-relaxed"> </div> <!> <div class="flex justify-between items-center text-[10px] text-slate-500 font-mono mt-1 border-t border-slate-800/50 pt-2"><span class="flex items-center gap-1"><!> </span> <!></div></div>'),el=u('<h4 class="text-xs font-bold text-slate-500 uppercase px-1 mt-4 mb-2"> </h4> <!>',1),tl=u("<span> </span>"),al=u('<div class="flex flex-wrap gap-1 mt-1 pl-10"></div>'),rl=u('<div class="p-3 rounded border flex flex-col gap-2 transition-all bg-slate-900/50 border-indigo-900/50 shadow-lg shadow-indigo-950/10"><div class="flex justify-between items-start"><div class="flex items-center gap-2"><div class="w-8 h-4 flex items-center justify-center"><!></div> <span class="font-bold text-slate-300 tracking-tight"> </span></div> <div class="flex gap-2"><a href="#talents" class="text-[10px] uppercase font-bold text-slate-500 hover:text-indigo-400 flex items-center gap-1"> </a></div></div> <!></div>'),sl=u('<h4 class="text-xs font-bold text-slate-500 uppercase px-1 mt-4 mb-2"> </h4> <!>',1),ol=u('<div class="text-center text-slate-500 italic py-4"> </div>'),ll=u('<div class="space-y-4"><div class="flex justify-between items-center bg-slate-900 p-3 rounded-lg border border-slate-800"><div class="flex items-center gap-4"><button class="p-2 hover:bg-slate-700 rounded text-slate-400 disabled:opacity-30 disabled:cursor-not-allowed"><!></button> <div class="text-center min-w-[80px]"><div class="text-[10px] text-slate-500 font-bold uppercase tracking-wider"> </div> <!></div> <button class="p-2 hover:bg-slate-700 rounded text-white disabled:opacity-30 disabled:cursor-not-allowed"><!></button></div> <div class="flex gap-2"><button class="bg-slate-800 hover:bg-red-900/50 text-slate-400 hover:text-red-300 px-3 py-1.5 rounded text-xs font-bold flex items-center gap-1 border border-slate-700"><!> </button> <button class="bg-indigo-600 hover:bg-indigo-500 text-white px-3 py-1.5 rounded text-xs font-bold flex items-center gap-1"><!> </button></div></div> <div class="space-y-2"><!> <!> <!></div></div>');function il(H,y){Ue(y,!0);const i=()=>K(ca,"$activeEffects",P),s=()=>K(qe,"$character",P),p=()=>K(Ge,"$t",P),[P,_]=Fe(),{advanceRound:x,deleteEffect:v,checkLuckEnds:n}=Le;let S=fe(()=>i().filter(re=>re.sourceType==="talent"));function M(re,ce=null){Te.update(de=>({...de,type:re,isOpen:!0,data:ce}))}var b=ll(),z=a(b),F=a(z),A=a(F);A.__click=()=>x("prev");var I=a(A);br(I,{size:20}),t(A);var T=r(A,2),R=a(T),Y=a(R,!0);t(R);var C=r(R,2);{var k=re=>{var ce=Bo(),de=a(ce,!0);t(ce),m(()=>o(de,s().currentRound||1)),l(re,ce)},f=re=>{var ce=Xo(),de=a(ce,!0);t(ce),m(J=>o(de,J),[()=>p()("character.effects.out_of_combat")]),l(re,ce)};U(C,re=>{s().combatActive?re(k):re(f,!1)})}t(T);var c=r(T,2);c.__click=()=>x("next");var d=a(c);cr(d,{size:20}),t(c),t(F);var h=r(F,2),$=a(h);$.__click=function(...re){Le.cleanInactiveEffects?.apply(this,re)};var O=a($);dr(O,{size:14});var q=r(O);t($);var D=r($,2);D.__click=()=>M("effect");var G=a(D);lt(G,{size:14});var N=r(G);t(D),t(h),t(z);var g=r(z,2),w=a(g);{var E=re=>{var ce=el(),de=ge(ce),J=a(de,!0);t(de);var he=r(de,2);je(he,1,()=>s().effects,W=>W.id,(W,j)=>{var se=Zo(),ue=a(se),oe=a(ue),L=a(oe);L.__click=()=>Le.toggleEffect(e(j).id);var ae=a(L);t(L);var B=r(L,2),we=a(B,!0);t(B),t(oe);var ke=r(oe,2),me=a(ke);me.__click=()=>M("effect",e(j));var Q=a(me);Ht(Q,{size:14}),t(me);var Z=r(me,2);Z.__click=()=>v(e(j).id);var V=a(Z);Tt(V,{size:14}),t(Z),t(ke),t(ue);var ee=r(ue,2),ve=a(ee,!0);t(ee);var ie=r(ee,2);{var pe=Ae=>{var Pe=Jo();je(Pe,21,()=>e(j).modifiers,He,(ne,be)=>{var Me=Ko(),Ye=a(Me);t(Me),m(()=>{Ee(Me,1,`text-[9px] px-1.5 py-0.5 rounded border ${e(be).type===dt.SET?"bg-yellow-900/30 text-yellow-200 border-yellow-800":"bg-slate-800 text-slate-300 border-slate-700"} font-medium`),o(Ye,`${(Yt[e(be).target]||e(be).target)??""}: ${e(be).type===dt.SET?"=":e(be).type===dt.MULT?"x":e(be).value>0?"+":""}${e(be).value??""}`)}),l(ne,Me)}),t(Pe),l(Ae,Pe)};U(ie,Ae=>{e(j).isActive&&Array.isArray(e(j).modifiers)&&e(j).modifiers.length>0&&Ae(pe)})}var xe=r(ie,2),ze=a(xe),ye=a(ze);Pt(ye,{size:10,class:"text-indigo-400"});var Oe=r(ye);t(ze);var De=r(ze,2);{var We=Ae=>{var Pe=Qo();Pe.__click=()=>n(e(j).id);var ne=a(Pe);Zt(ne,{size:10});var be=r(ne);t(Pe),m(Me=>o(be,` ${Me??""}`),[()=>p()("character.effects.luck_ends")]),l(Ae,Pe)};U(De,Ae=>{e(j).duration==="LUCK_ENDS"&&e(j).isActive&&Ae(We)})}t(xe),t(se),m(()=>{Ee(se,1,`p-3 rounded border flex flex-col gap-2 transition-all ${e(j).isActive?"bg-slate-900 border-indigo-900 shadow-lg shadow-indigo-950/20":"bg-slate-950 border-slate-800 opacity-60"}`),Ee(L,1,`w-8 h-4 rounded-full relative transition-colors ${e(j).isActive?"bg-green-500":"bg-slate-600"}`),$e(L,"aria-label",e(j).isActive?"Desativar efeito {eff.name}":"Ativar efeito {eff.name}"),$e(L,"aria-pressed",e(j).isActive),Ee(ae,1,`absolute top-0.5 w-3 h-3 bg-white rounded-full transition-all ${e(j).isActive?"left-4.5":"left-0.5"}`),o(we,e(j).name),$e(me,"aria-label",`Editar ${e(j).name??""}`),$e(Z,"aria-label",`Excluir ${e(j).name??""}`),o(ve,e(j).description),o(Oe,` ${da[e(j).duration]??""} ${e(j).duration==="ROUNDS"?`(${e(j).roundsLeft})`:""}`)}),l(W,se)}),m(W=>o(J,W),[()=>p()("character.effects.active")]),l(re,ce)};U(w,re=>{s().effects.length>0&&re(E)})}var te=r(w,2);{var le=re=>{var ce=sl(),de=ge(ce),J=a(de,!0);t(de);var he=r(de,2);je(he,17,()=>e(S),W=>W.id,(W,j)=>{var se=rl(),ue=a(se),oe=a(ue),L=a(oe),ae=a(L);_t(ae,{size:14,class:"text-yellow-500"}),t(L);var B=r(L,2),we=a(B,!0);t(B),t(oe);var ke=r(oe,2),me=a(ke);me.__click=ee=>{ee.preventDefault(),document.getElementById("tab-talents")?.click()};var Q=a(me,!0);t(me),t(ke),t(ue);var Z=r(ue,2);{var V=ee=>{var ve=al();je(ve,21,()=>e(j).modifiers,He,(ie,pe)=>{var xe=tl(),ze=a(xe);t(xe),m(()=>{Ee(xe,1,`text-[9px] px-1.5 py-0.5 rounded border ${e(pe).type===dt.SET?"bg-yellow-900/30 text-yellow-200 border-yellow-800":"bg-slate-800 text-slate-300 border-slate-700"} font-medium`),o(ze,`${(Yt[e(pe).target]||e(pe).target)??""}: ${e(pe).type===dt.SET?"=":e(pe).type===dt.MULT?"x":e(pe).value>0?"+":""}${e(pe).value??""}`)}),l(ie,xe)}),t(ve),l(ee,ve)};U(Z,ee=>{Array.isArray(e(j).modifiers)&&e(j).modifiers.length>0&&ee(V)})}t(se),m(ee=>{o(we,e(j).name),o(Q,ee)},[()=>p()("character.talents.source")]),l(W,se)}),m(W=>o(J,W),[()=>p()("character.talents.passive")]),l(re,ce)};U(te,re=>{e(S).length>0&&re(le)})}var _e=r(te,2);{var X=re=>{var ce=ol(),de=a(ce,!0);t(ce),m(J=>o(de,J),[()=>p()("character.effects.none")]),l(re,ce)};U(_e,re=>{s().effects.length===0&&e(S).length===0&&re(X)})}t(g),t(b),m((re,ce,de,J,he)=>{A.disabled=!!s().campaignId,$e(A,"aria-label",re),o(Y,ce),c.disabled=!!s().campaignId,$e(c,"aria-label",de),o(q,` ${J??""}`),o(N,` ${he??""}`)},[()=>p()("character.effects.prev_round"),()=>s().combatActive?p()("character.effects.current_round"):p()("character.effects.status"),()=>p()("character.effects.next_round"),()=>p()("character.effects.clean_inactive"),()=>p()("character.effects.new_effect")]),l(H,b),Re(),_()}Ve(["click"]);var nl=u('<span class="block text-[10px] text-slate-500 uppercase font-black tracking-widest mb-1"> </span> <span class="font-bold text-slate-300 text-xs flex items-center justify-center gap-1.5 bg-slate-800 px-2 py-1 rounded-md"><!> </span>',1),dl=u('<span class="flex items-center gap-1"><!> Sorte Encerra</span>'),cl=u('<span class="flex items-center gap-1"><!> </span>'),vl=u('<span class="block text-[10px] text-slate-500 uppercase font-black tracking-widest mb-1"> </span> <div class="font-bold text-indigo-300 text-xs flex flex-col items-center justify-center bg-slate-800 px-2 py-1 rounded-md"><!></div>',1),pl=u('<span class="block text-[10px] text-slate-500 uppercase font-black tracking-widest mb-1"> </span> <span> <span class="text-slate-600 text-sm"> </span></span>',1),ul=u('<button class="bg-slate-800 disabled:opacity-20 hover:bg-green-600/20 text-green-400 p-2 rounded-lg transition-all hover:scale-110 active:scale-90 border border-slate-700 hover:border-green-500/50"><!></button>'),bl=u('<button title="Tentar Recuperar (Teste de Sorte)" class="bg-slate-800 hover:bg-yellow-600/20 text-yellow-500 p-2 rounded-lg transition-all hover:scale-110 active:scale-90 border border-slate-700 hover:border-yellow-500/50 flex flex-col items-center gap-0.5"><!> <span class="text-[8px] font-black uppercase">Recuperar</span></button>'),xl=u('<div class="flex gap-2"><!> <button class="bg-slate-800 disabled:opacity-20 hover:bg-indigo-600/20 text-white p-2 rounded-lg transition-all hover:scale-110 active:scale-90 border border-slate-700 hover:border-indigo-500/50"><!></button></div>'),_l=u('<div><div class="flex-1"><div class="flex items-center gap-3 mb-2"><div class="p-2 rounded-lg bg-slate-800 text-yellow-500 group-hover:scale-110 transition-transform shadow-inner"><!></div> <h4 class="font-bold text-white text-lg tracking-tight uppercase tracking-tight"> </h4> <button class="text-slate-600 hover:text-indigo-400 opacity-0 group-hover:opacity-100 transition-all transform hover:scale-110"><!></button></div> <p class="text-sm text-slate-400 leading-relaxed max-w-2xl"> </p></div> <div class="shrink-0 flex items-center gap-4 bg-slate-950/50 p-3 rounded-xl border border-slate-800 shadow-inner"><div class="text-center px-2 border-r border-slate-800 pr-4 min-w-[80px]"><!></div> <!></div></div>'),fl=u('<div class="space-y-4"><h4 class="text-sm font-black text-slate-500 uppercase tracking-widest border-b border-slate-800 pb-2"> </h4> <div class="grid grid-cols-1 gap-4"></div></div>'),gl=u('<div class="text-center py-12 bg-slate-900/20 border-2 border-dashed border-slate-800 rounded-2xl"><!> <p class="text-slate-500 font-medium"> </p> <button class="mt-4 text-indigo-400 hover:text-indigo-300 text-sm font-bold flex items-center gap-1 mx-auto"><!> </button></div>'),hl=u('<div class="space-y-8"><div class="flex justify-between items-center mb-2"><div><h3 class="text-lg font-bold text-white tracking-tight"> </h3> <p class="text-xs text-slate-500"> </p></div> <button class="text-xs bg-indigo-600 hover:bg-indigo-500 px-4 py-2 rounded-lg text-white font-bold flex items-center gap-2 shadow-lg shadow-indigo-900/20 transition-all active:scale-95"><!> </button></div> <!></div>');function ml(H,y){Ue(y,!0);const i=()=>K(qe,"$character",p),s=()=>K(Ge,"$t",p),[p,P]=Fe(),{recoverTalent:_,rollLuckTalent:x}=Le;function v(d,h=null){Te.update($=>({...$,type:d,isOpen:!0,data:h}))}let n=fe(()=>({[Ze.ANCESTRY]:i().talents.filter(d=>!d.source||d.source===Ze.ANCESTRY),[Ze.NOVICE]:i().talents.filter(d=>d.source===Ze.NOVICE),[Ze.EXPERT]:i().talents.filter(d=>d.source===Ze.EXPERT),[Ze.MASTER]:i().talents.filter(d=>d.source===Ze.MASTER)})),S=fe(()=>i().talents.length>0);var M=hl(),b=a(M),z=a(b),F=a(z),A=a(F,!0);t(F);var I=r(F,2),T=a(I,!0);t(I),t(z);var R=r(z,2);R.__click=()=>v("talent");var Y=a(R);lt(Y,{size:16});var C=r(Y);t(R),t(b);var k=r(b,2);{var f=d=>{var h=Ce(),$=ge(h);je($,17,()=>Object.values(Ze),He,(O,q)=>{var D=Ce(),G=ge(D);{var N=g=>{var w=fl(),E=a(w),te=a(E,!0);t(E);var le=r(E,2);je(le,21,()=>e(n)[e(q)],He,(_e,X)=>{var re=_l(),ce=a(re),de=a(ce),J=a(de),he=a(J);_t(he,{size:18}),t(J);var W=r(J,2),j=a(W,!0);t(W);var se=r(W,2);se.__click=()=>v("talent",e(X));var ue=a(se);Ht(ue,{size:14}),t(se),t(de);var oe=r(de,2),L=a(oe,!0);t(oe),t(ce);var ae=r(ce,2),B=a(ae),we=a(B);{var ke=V=>{var ee=nl(),ve=ge(ee),ie=a(ve,!0);t(ve);var pe=r(ve,2),xe=a(pe);vr(xe,{size:12,class:"text-indigo-400"});var ze=r(xe);t(pe),m((ye,Oe)=>{o(ie,ye),o(ze,` ${Oe??""}`)},[()=>s()("character.talents.type"),()=>s()("character.talents.passive")]),l(V,ee)},me=V=>{var ee=Ce(),ve=ge(ee);{var ie=xe=>{var ze=vl(),ye=ge(ze),Oe=a(ye,!0);t(ye);var De=r(ye,2),We=a(De);{var Ae=ne=>{var be=dl(),Me=a(be);Pt(Me,{size:12}),bt(),t(be),l(ne,be)},Pe=ne=>{var be=cl(),Me=a(be);_a(Me,{size:12});var Ye=r(Me);t(be),m(()=>o(Ye,` ${e(X).durationValue??""} ${e(X).duration==="MINUTES"?"min":"h"}`)),l(ne,be)};U(We,ne=>{e(X).duration==="LUCK_ENDS"?ne(Ae):ne(Pe,!1)})}t(De),m(ne=>o(Oe,ne),[()=>s()("character.talents.types.Duration")]),l(xe,ze)},pe=xe=>{var ze=pl(),ye=ge(ze),Oe=a(ye,!0);t(ye);var De=r(ye,2),We=a(De,!0),Ae=r(We),Pe=a(Ae);t(Ae),t(De),m(ne=>{o(Oe,ne),Ee(De,1,`font-mono font-bold text-lg ${e(X).uses===0?"text-red-400":"text-white"}`),o(We,e(X).uses),o(Pe,`/${e(X).maxUses??""}`)},[()=>s()("character.talents.uses")]),l(xe,ze)};U(ve,xe=>{e(X).activityType==="Duration"?xe(ie):xe(pe,!1)},!0)}l(V,ee)};U(we,V=>{e(X).activityType==="Passive"||e(X).isPassive?V(ke):V(me,!1)})}t(B);var Q=r(B,2);{var Z=V=>{var ee=xl(),ve=a(ee);{var ie=ye=>{var Oe=ul();Oe.__click=()=>_(e(X).id);var De=a(Oe);lt(De,{size:18}),t(Oe),m(We=>{Oe.disabled=e(X).uses>=e(X).maxUses,$e(Oe,"title",We),$e(Oe,"aria-label",`Recuperar uso de ${e(X).name??""}`)},[()=>s()("character.talents.recover")]),l(ye,Oe)},pe=ye=>{var Oe=Ce(),De=ge(Oe);{var We=Ae=>{var Pe=bl();Pe.__click=()=>x(e(X).id);var ne=a(Pe);Pt(ne,{size:18}),bt(2),t(Pe),m(()=>$e(Pe,"aria-label",`Recuperar ${e(X).name??""} com sorte`)),l(Ae,Pe)};U(De,Ae=>{e(X).activityType==="Duration"&&e(X).duration==="LUCK_ENDS"&&e(X).uses===0&&Ae(We)},!0)}l(ye,Oe)};U(ve,ye=>{e(X).activityType==="Uses"?ye(ie):ye(pe,!1)})}var xe=r(ve,2);xe.__click=()=>v("confirm_talent",e(X));var ze=a(xe);_t(ze,{size:18}),t(xe),t(ee),m(ye=>{xe.disabled=e(X).uses===0,$e(xe,"title",ye),$e(xe,"aria-label",`Usar ${e(X).name??""}`)},[()=>s()("character.talents.use")]),l(V,ee)};U(Q,V=>{e(X).activityType!=="Passive"&&!e(X).isPassive&&V(Z)})}t(ae),t(re),m(()=>{Ee(re,1,`p-5 bg-slate-900/40 backdrop-blur-sm border border-slate-800 rounded-2xl flex flex-col md:flex-row md:items-center gap-6 group hover:border-indigo-500/50 hover:bg-slate-900/60 transition-all duration-300 ${e(X).activityType!=="Passive"&&!e(X).isPassive&&e(X).uses===0?"opacity-60 grayscale-[0.5]":""}`),o(j,e(X).name),$e(se,"aria-label",`Editar ${e(X).name??""}`),o(L,e(X).description)}),l(_e,re)}),t(le),t(w),m(_e=>o(te,_e),[()=>s()(`character.talents.sources.${e(q)}`)]),l(g,w)};U(G,g=>{e(n)[e(q)]&&e(n)[e(q)].length>0&&g(N)})}l(O,D)}),l(d,h)},c=d=>{var h=gl(),$=a(h);_t($,{size:48,class:"mx-auto text-slate-800 mb-3"});var O=r($,2),q=a(O,!0);t(O);var D=r(O,2);D.__click=()=>v("talent");var G=a(D);lt(G,{size:14});var N=r(G);t(D),t(h),m((g,w)=>{o(q,g),o(N,` ${w??""}`)},[()=>s()("character.talents.empty"),()=>s()("character.talents.add_first")]),l(d,h)};U(k,d=>{e(S)?d(f):d(c,!1)})}t(M),m((d,h,$,O)=>{o(A,d),o(T,h),$e(R,"aria-label",$),o(C,` ${O??""}`)},[()=>s()("character.talents.title"),()=>s()("character.talents.subtitle"),()=>s()("character.talents.add"),()=>s()("character.talents.new")]),l(H,M),Re(),P()}Ve(["click"]);var $l=u('<span class="block italic text-slate-400"> </span>'),yl=u("• Def <!>",1),wl=u('<button class="text-xs bg-slate-800 hover:bg-slate-700 px-2 py-1 rounded border border-slate-600"> </button>'),kl=u("<button> </button>"),zl=u("<button>2H</button>"),Sl=u("<button>Main</button>"),Tl=u("<!> <button>Off</button>",1),Ol=u('<div class="flex justify-center gap-1"><!></div>'),Ml=u('<tr class="hover:bg-slate-900/50"><td class="p-3"><div class="font-bold text-white"> </div> <div class="text-[10px] text-slate-500"> <!> <!></div></td><td class="p-3"><span class="text-[10px] border border-slate-700 px-1 rounded uppercase bg-slate-900"> </span></td><td class="p-3 text-center"><!></td><td class="p-3 text-right font-mono"> </td><td class="p-3 text-right"><button class="text-slate-500 hover:text-white"><!></button></td></tr>'),El=u('<div class="space-y-4"><div class="lg:hidden"><!></div> <div class="flex justify-between items-center"><h3 class="text-xs font-bold text-slate-500 uppercase"> </h3> <button class="text-xs bg-indigo-600 hover:bg-indigo-500 px-3 py-1.5 rounded text-white font-bold flex items-center gap-1"><!> </button></div> <div class="bg-slate-950 rounded-lg border border-slate-800 overflow-hidden"><table class="w-full text-sm text-left"><thead class="bg-slate-900 text-slate-400 font-bold uppercase text-[10px]"><tr><th class="p-3"> </th><th class="p-3"> </th><th class="p-3 text-center"> </th><th class="p-3 text-right"> </th><th class="p-3 w-8"></th></tr></thead><tbody class="divide-y divide-slate-800 text-slate-300"></tbody></table></div></div>');function Al(H,y){Ue(y,!1);const i=()=>K(Ge,"$t",p),s=()=>K(qe,"$character",p),[p,P]=Fe(),{useConsumable:_,equipItem:x}=Le;function v(N,g=null){Te.update(w=>({...w,type:N,isOpen:!0,data:g}))}$t();var n=El(),S=a(n),M=a(S);ma(M,{}),t(S);var b=r(S,2),z=a(b),F=a(z,!0);t(z);var A=r(z,2);A.__click=()=>v("item");var I=a(A);lt(I,{size:14});var T=r(I);t(A),t(b);var R=r(b,2),Y=a(R),C=a(Y),k=a(C),f=a(k),c=a(f,!0);t(f);var d=r(f),h=a(d,!0);t(d);var $=r(d),O=a($,!0);t($);var q=r($),D=a(q,!0);t(q),bt(),t(k),t(C);var G=r(C);je(G,5,()=>s().equipment,He,(N,g)=>{var w=Ml(),E=a(w),te=a(E),le=a(te,!0);t(te);var _e=r(te,2),X=a(_e),re=r(X);{var ce=Q=>{var Z=$l(),V=a(Z,!0);t(Z),m(()=>o(V,e(g).notes)),l(Q,Z)};U(re,Q=>{e(g).notes&&Q(ce)})}var de=r(re,2);{var J=Q=>{var Z=yl(),V=r(ge(Z));{var ee=ie=>{var pe=Et();m(()=>o(pe,`Fixed ${e(g).defenseFixed??""}`)),l(ie,pe)},ve=ie=>{var pe=Et();m(()=>o(pe,`+${e(g).defenseMod??""}`)),l(ie,pe)};U(V,ie=>{e(g).defenseFixed?ie(ee):ie(ve,!1)})}l(Q,Z)};U(de,Q=>{e(g).type===ct.ARMOR&&Q(J)})}t(_e),t(E);var he=r(E),W=a(he),j=a(W,!0);t(W),t(he);var se=r(he),ue=a(se);{var oe=Q=>{var Z=wl();Z.__click=()=>_(e(g));var V=a(Z,!0);t(Z),m(ee=>{Z.disabled=e(g).quantity<=0,$e(Z,"aria-label",`Usar ${e(g).name??""}`),o(V,ee)},[()=>i()("character.inventory.use")]),l(Q,Z)},L=Q=>{var Z=Ce(),V=ge(Z);{var ee=ie=>{var pe=kl();pe.__click=()=>x(e(g));var xe=a(pe,!0);t(pe),m(ze=>{Ee(pe,1,`text-xs px-2 py-1 rounded border transition-colors ${e(g).equipped?"bg-indigo-600 border-indigo-500 text-white":"bg-slate-800 border-slate-600 text-slate-400"}`),$e(pe,"aria-label",e(g).equipped?"Desequipar armadura":"Equipar armadura"),o(xe,ze)},[()=>e(g).equipped?i()("character.inventory.equipped"):i()("character.inventory.equip")]),l(ie,pe)},ve=ie=>{var pe=Ce(),xe=ge(pe);{var ze=ye=>{var Oe=Ol(),De=a(Oe);{var We=Pe=>{var ne=zl();ne.__click=()=>x(e(g),e(g).equippedState?null:"two"),m(()=>{Ee(ne,1,`text-[10px] px-2 py-1 rounded border ${e(g).equippedState==="two"?"bg-indigo-600 border-indigo-500 text-white":"bg-slate-800 border-slate-600 text-slate-500"}`),$e(ne,"aria-label",e(g).equippedState==="two"?"Desequipar 2H":"Equipar 2H")}),l(Pe,ne)},Ae=Pe=>{var ne=Tl(),be=ge(ne);{var Me=Qe=>{var Ke=Sl();Ke.__click=()=>x(e(g),e(g).equippedState==="main"?null:"main"),m(()=>{Ee(Ke,1,`text-[10px] px-2 py-1 rounded border ${e(g).equippedState==="main"?"bg-indigo-600 border-indigo-500 text-white":"bg-slate-800 border-slate-600 text-slate-500"}`),$e(Ke,"aria-label",e(g).equippedState==="main"?"Desequipar Main Hand":"Equipar Main Hand")}),l(Qe,Ke)};U(be,Qe=>{e(g).grip!==At.OFF&&Qe(Me)})}var Ye=r(be,2);Ye.__click=()=>x(e(g),e(g).equippedState==="off"?null:"off"),m(()=>{Ee(Ye,1,`text-[10px] px-2 py-1 rounded border ${e(g).equippedState==="off"?"bg-indigo-600 border-indigo-500 text-white":"bg-slate-800 border-slate-600 text-slate-500"}`),$e(Ye,"aria-label",e(g).equippedState==="off"?"Desequipar Off Hand":"Equipar Off Hand")}),l(Pe,ne)};U(De,Pe=>{e(g).grip===At.TWO?Pe(We):Pe(Ae,!1)})}t(Oe),l(ye,Oe)};U(xe,ye=>{(e(g).type===ct.WEAPON||e(g).type===ct.SHIELD)&&ye(ze)},!0)}l(ie,pe)};U(V,ie=>{e(g).type===ct.ARMOR?ie(ee):ie(ve,!1)},!0)}l(Q,Z)};U(ue,Q=>{e(g).type===ct.CONSUMABLE?Q(oe):Q(L,!1)})}t(se);var ae=r(se),B=a(ae,!0);t(ae);var we=r(ae),ke=a(we);ke.__click=()=>v("item",e(g));var me=a(ke);Ht(me,{size:14}),t(ke),t(we),t(w),m(()=>{o(le,e(g).name),o(X,`${e(g).quality??""} • ${e(g).availability??""} • ${e(g).price??""}gp `),o(j,e(g).type),o(B,e(g).quantity),$e(ke,"aria-label",`Editar ${e(g).name??""}`)}),l(N,w)}),t(G),t(Y),t(R),t(n),m((N,g,w,E,te,le)=>{o(F,N),o(T,` ${g??""}`),o(c,w),o(h,E),o(O,te),o(D,le)},[()=>i()("character.inventory.title"),()=>i()("character.inventory.new_item"),()=>i()("character.inventory.item"),()=>i()("character.inventory.type"),()=>i()("character.inventory.actions_equip"),()=>i()("character.inventory.qty")]),l(H,n),Re(),P()}Ve(["click"]);var Cl=u('<div class="space-y-6"><div class="lg:hidden"><!></div> <div class="space-y-4"><div class="flex justify-between items-center mb-2"><h3 class="text-xs font-bold text-slate-500 uppercase"> </h3> <span class="text-[10px] text-slate-600 italic"> </span></div> <textarea class="w-full h-[50vh] bg-slate-950 border border-slate-800 rounded p-4 text-white resize-none focus:border-indigo-500 focus:outline-none custom-scrollbar leading-relaxed font-mono text-sm"></textarea></div></div>');function Pl(H,y){Ue(y,!1);const i=()=>K(Ge,"$t",p),s=()=>K(qe,"$character",p),[p,P]=Fe();$t();var _=Cl(),x=a(_),v=a(x);$a(v,{}),t(x);var n=r(x,2),S=a(n),M=a(S),b=a(M,!0);t(M);var z=r(M,2),F=a(z,!0);t(z),t(S);var A=r(S,2);jt(A),t(n),t(_),m((I,T,R,Y)=>{o(b,I),o(F,T),$e(A,"placeholder",R),$e(A,"aria-label",Y)},[()=>i()("character.notes.title"),()=>i()("character.notes.autosave"),()=>i()("character.notes.placeholder"),()=>i()("character.notes.title")]),Ie(A,()=>s().notes,I=>Ta(qe,aa(s).notes=I,aa(s))),l(H,_),Re(),P()}var Dl=u('<div class="space-y-4 flex-1 flex flex-col"><!> <button class="w-full bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-500 hover:to-green-500 p-4 rounded-2xl border border-emerald-500/30 flex items-center justify-center gap-3 group transition-all shadow-lg shadow-emerald-900/30 hover:shadow-emerald-500/20 active:scale-[0.98] cursor-pointer"><div class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center group-hover:scale-110 transition-transform"><!></div> <span class="font-black text-white uppercase tracking-wider text-sm">Teste de Sorte</span></button> <!> <!> <div class="lg:hidden mt-auto pt-6"><!></div></div>');function Nl(H,y){Ue(y,!1),$t();var i=Dl(),s=a(i);ga(s,{});var p=r(s,2);p.__click=()=>Te.set({type:"pre_roll",isOpen:!0,data:{type:"luck",source:{name:"Sorte"}}});var P=a(p),_=a(P);Zt(_,{size:24,class:"text-white"}),t(P),bt(2),t(p);var x=r(p,2);ha(x,{});var v=r(x,2);ya(v,{});var n=r(v,2),S=a(n);Qt(S,{banner:!0}),t(n),t(i),l(H,i),Re()}Ve(["click"]);var jl=u('<div class="min-h-screen flex flex-col items-center justify-center p-4"><div class="bg-slate-900 border border-slate-800 rounded-3xl p-8 max-w-md w-full text-center shadow-2xl"><div class="w-20 h-20 bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-6 text-slate-600"><!></div> <h1 class="text-2xl font-black text-white mb-2 uppercase tracking-tight"> </h1> <p class="text-slate-400 mb-8"> </p> <button class="w-full bg-indigo-600 hover:bg-indigo-500 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all"><!> </button></div></div>'),Hl=u('<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <main class="max-w-6xl mx-auto md:px-4 mt-6 lg:mt-6 grid grid-cols-1 lg:grid-cols-12 gap-6"><aside class="hidden lg:block lg:col-span-3 space-y-4"><!> <button class="w-full bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-500 hover:to-green-500 p-4 rounded-2xl border border-emerald-500/30 flex items-center justify-center gap-3 group transition-all shadow-lg shadow-emerald-900/30 hover:shadow-emerald-500/20 active:scale-[0.98] cursor-pointer"><div class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center group-hover:scale-110 transition-transform"><!></div> <span class="font-black text-white uppercase tracking-wider text-sm"> </span></button> <!> <!> <!> <!> <div class="pt-2"><!></div></aside> <section class="lg:col-span-9"><div class="bg-slate-900 md:rounded-xl md:border md:border-slate-800 min-h-[calc(100vh-200px)] md:min-h-[60vh] flex flex-col"><!> <div class="p-4 md:p-6 flex-1 flex flex-col"><!> <!> <!> <!> <!> <!> <!></div></div></section></main> <div class="hidden"><!></div>',1),Il=u('<div class="flex items-center justify-center min-h-screen"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"></div></div>'),Ul=u('<div class="min-h-screen bg-slate-950 text-slate-100 font-sans pb-28 md:pb-20 relative overflow-x-hidden"><!></div> ```',1);function ni(H,y){Ue(y,!0);const i=()=>K(qe,"$character",z),s=()=>K(yt,"$normalHealth",z),p=()=>K(wt,"$currentHealth",z),P=()=>K(zt,"$damage",z),_=()=>K(Bt,"$totalDefense",z),x=()=>K(Wt,"$effectiveMaxHealth",z),v=()=>K(Va,"$page",z),n=()=>K(Ge,"$t",z),S=()=>K(Gt,"$isHistoryOpen",z),M=()=>K(Te,"$modalState",z),b=()=>K(ft,"$activeTab",z),[z,F]=Fe();let A=Xe(!1),I=Xe(!1),T=Xe(null);ut(()=>{if(!e(A)||e(I)||!e(T))return;const d=i(),h=s(),$=p(),O=P(),q=_(),D=x(),G={...d,normalHealth:h,currentHealth:$,damage:O};Lt.set(e(T),G),d.campaignId&&sa({id:e(T),type:"player",name:d.name,level:d.level,ancestry:d.ancestry,damage:O,currentHealth:$,normalHealth:h,health:D,defense:q,initiative:d.initiative,acted:d.acted,afflictions:d.afflictions||[],campaignApproval:d.campaignApproval,imageUrl:d.imageUrl})}),ut(()=>{if(!e(A)||e(I)||!e(T)||!ht(qe).campaignId)return;const h=setInterval(()=>{const $=ht(qe);sa({id:e(T),type:"player",name:$.name,level:$.level,ancestry:$.ancestry,damage:ht(zt),currentHealth:ht(wt),normalHealth:ht(yt),health:ht(Wt),defense:ht(Bt),initiative:$.initiative,acted:$.acted,afflictions:$.afflictions||[],campaignApproval:$.campaignApproval,imageUrl:$.imageUrl})},3e4);return()=>clearInterval(h)}),ut(()=>{const d=v().params.id;d&&d!==e(T)&&R(d)});async function R(d){if(Se(A,!1),Se(I,!1),Se(T,d,!0),await Ua(),Lt.has(d)){const h=Lt.get(d);qe.set({...Ra,...h,id:d}),h.normalHealth!==void 0&&yt.set(h.normalHealth),h.currentHealth!==void 0&&wt.set(h.currentHealth),h.damage!==void 0&&zt.set(h.damage);const $=ht(qe);$.campaignId&&qa($.campaignId,!1,e(T))}else Se(I,!0);window.innerWidth<768?ft.set("stats"):ht(ft)==="stats"&&ft.set("acoes"),Se(A,!0)}za(()=>{La()});var Y=Ul(),C=ge(Y),k=a(C);{var f=d=>{var h=Ce(),$=ge(h);{var O=D=>{var G=jl(),N=a(G),g=a(N),w=a(g);Za(w,{size:40}),t(g);var E=r(g,2),te=a(E,!0);t(E);var le=r(E,2),_e=a(le,!0);t(le);var X=r(le,2);X.__click=()=>va(pa("/"));var re=a(X);xa(re,{size:18});var ce=r(re);t(X),t(N),t(G),m((de,J,he)=>{o(te,de),o(_e,J),o(ce,` ${he??""}`)},[()=>n()("character.not_found.title"),()=>n()("character.not_found.message"),()=>n()("character.back_to_home")]),l(D,G)},q=D=>{var G=Hl(),N=ge(G);er(N,{get isOpen(){return S()},onClose:()=>Gt.set(!1)});var g=r(N,2);Br(g,{});var w=r(g,2);es(w,{});var E=r(w,2);ns(E,{});var te=r(E,2);gs(te,{});var le=r(te,2);ms(le,{});var _e=r(le,2);ys(_e,{});var X=r(_e,2);ks(X,{});var re=r(X,2);Ss(re,{});var ce=r(re,2);As(ce,{});var de=r(ce,2);js(de,{});var J=r(de,2);Ys(J,{});var he=r(J,2);ao(he,{});var W=r(he,2);io(W,{});var j=r(W,2);co(j,{});var se=r(j,2);{let Ne=fe(()=>M().isOpen&&M().type==="pre_roll"),kt=fe(()=>n()("character.dice_roll.confirm_roll")),Rt=fe(()=>M().data?.type==="weapon_damage"?n()("character.dice_roll.extra_dice"):n()("character.dice_roll.boons_banes")),qt=fe(()=>n()("character.dice_roll.roll"));tr(se,{get isOpen(){return e(Ne)},get title(){return e(kt)},get label(){return e(Rt)},get rollLabel(){return e(qt)},onClose:()=>Te.update(Ot=>({...Ot,type:null,isOpen:!1,data:null})),onRoll:Ot=>{Le.finalizeRoll(M().data,Ot,i().effects.filter(pt=>pt.isActive).map(pt=>pt.name)),Te.update(pt=>({...pt,type:null,isOpen:!1,data:null}))}})}var ue=r(se,2);Mr(ue,{});var oe=r(ue,2),L=a(oe),ae=a(L);ga(ae,{});var B=r(ae,2);B.__click=()=>Te.set({type:"pre_roll",isOpen:!0,data:{type:"luck",source:{name:"Sorte"}}});var we=a(B),ke=a(we);Zt(ke,{size:24,class:"text-white"}),t(we);var me=r(we,2),Q=a(me,!0);t(me),t(B);var Z=r(B,2);ha(Z,{});var V=r(Z,2);ma(V,{});var ee=r(V,2);$a(ee,{});var ve=r(ee,2);ya(ve,{});var ie=r(ve,2),pe=a(ie);Qt(pe,{}),t(ie),t(L);var xe=r(L,2),ze=a(xe),ye=a(ze);Mo(ye,{});var Oe=r(ye,2),De=a(Oe);{var We=Ne=>{Nl(Ne,{})};U(De,Ne=>{b()==="stats"&&Ne(We)})}var Ae=r(De,2);{var Pe=Ne=>{Lo(Ne,{})};U(Ae,Ne=>{b()==="acoes"&&Ne(Pe)})}var ne=r(Ae,2);{var be=Ne=>{il(Ne,{})};U(ne,Ne=>{b()==="efeitos"&&Ne(be)})}var Me=r(ne,2);{var Ye=Ne=>{Yo(Ne,{})};U(Me,Ne=>{b()==="magias"&&Ne(Ye)})}var Qe=r(Me,2);{var Ke=Ne=>{ml(Ne,{})};U(Qe,Ne=>{b()==="talentos"&&Ne(Ke)})}var it=r(Qe,2);{var xt=Ne=>{Al(Ne,{})};U(it,Ne=>{b()==="equipamento"&&Ne(xt)})}var ot=r(it,2);{var et=Ne=>{Pl(Ne,{})};U(ot,Ne=>{b()==="notas"&&Ne(et)})}t(Oe),t(ze),t(xe),t(oe);var Je=r(oe,2),nt=a(Je);Qt(nt,{banner:!0}),t(Je),m(Ne=>o(Q,Ne),[()=>n()("character.luck_test")]),l(D,G)};U($,D=>{e(I)?D(O):D(q,!1)})}l(d,h)},c=d=>{var h=Il();l(d,h)};U(k,d=>{e(A)?d(f):d(c,!1)})}t(C),bt(),l(H,Y),Re(),F()}Ve(["click"]);export{ni as component,ii as universal};
