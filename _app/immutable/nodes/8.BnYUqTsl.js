import"../chunks/DsnmJJEf.js";import"../chunks/ChbcetSK.js";import{o as R,e as A,s as v}from"../chunks/Cx0o8vWd.js";import{w as T,j as D,t as C,B as e,N as $,k as E,z as q,y as d,x as r,A as c,O as P,F as s}from"../chunks/DfayzYqb.js";import{e as G,$ as H,s as M,i as K,r as Q}from"../chunks/Bs3V2B0j.js";import{b as U,a as V,r as W,s as j}from"../chunks/CqQomdhW.js";import{i as X}from"../chunks/wkZ0lQMn.js";import{a as Y,s as Z}from"../chunks/DukWTdxy.js";var ee=D("<div><span> </span></div>"),te=D('<main class="p-4 max-w-lg mx-auto"><div class="mb-4 p-2 bg-gray-100 rounded"><h1 class="font-bold text-xl">Chat Trystero (Serverless)</h1> <p class="text-sm text-gray-600"> </p> <p class="text-xs text-gray-400"> </p></div> <div class="h-64 border rounded overflow-y-auto p-2 mb-4 bg-white"></div> <div class="flex gap-2"><input class="flex-1 border p-2 rounded" placeholder="Digite algo..."/> <button class="bg-blue-600 text-white px-4 rounded"> </button></div></main>');function pe(I,S){T(S,!1);const z=()=>Z(H,"$_",B),[B,F]=Y();let p,h,n=$([]),o=$(""),u=$(0);R(()=>{p=V(W,"sala-geral");const[a,i]=p.makeAction("message");h=a,i((t,l)=>{c(n,[...e(n),{sender:"Amigo",text:t,id:l}])}),p.onPeerJoin(t=>{P(u),console.log(`Peer ${t} entrou`)}),p.onPeerLeave(t=>{P(u,-1),console.log(`Peer ${t} saiu`)})});function y(){e(o)&&(h(e(o)),c(n,[...e(n),{sender:"Eu",text:e(o),id:j}]),c(o,""))}X();var x=te(),g=r(x),b=d(r(g),2),J=r(b);s(b);var k=d(b,2),L=r(k);s(k),s(g);var f=d(g,2);G(f,5,()=>e(n),K,(a,i)=>{var t=ee(),l=r(t),O=r(l,!0);s(l),s(t),C(()=>{M(t,1,`mb-2 ${e(i).sender==="Eu"?"text-right":"text-left"}`),M(l,1,`inline-block px-3 py-1 rounded text-sm
          ${e(i).sender==="Eu"?"bg-blue-600 text-white":"bg-gray-200 text-black"}`),v(O,e(i).text)}),E(a,t)}),s(f);var w=d(f,2),m=r(w);Q(m);var _=d(m,2),N=r(_,!0);s(_),s(w),s(x),C(a=>{v(J,`Status: ${e(u)>0?"ðŸŸ¢ Conectado":"ðŸŸ¡ Aguardando peers..."} 
      (${e(u)??""} online)`),v(L,`ID: ${j??""}`),v(N,a)},[()=>z()("chat.send")]),U(m,()=>e(o),a=>c(o,a)),A("keydown",m,a=>a.key==="Enter"&&y()),A("click",_,y),E(I,x),q(),F()}export{pe as component};
