import"../chunks/DsnmJJEf.js";import"../chunks/DRxX7t_H.js";import{d as rt,e as ce,a as h,p as De,k as Le,o as u,G as j,j as i,f as C,l as e,n as de,w as t,V as Qt,z as Ue,s as a,t as M,ak as ka,I as Ca,H as Vt}from"../chunks/COX-Du3q.js";import{d as qe,o as yt,g as te,w as Sa,s as f}from"../chunks/B1e8pvGG.js";import{l as Zt,s as ea,i as X,p as Ve}from"../chunks/-cW7HwuZ.js";import{I as ta,s as aa}from"../chunks/DJJOPez5.js";import{r as ge,s as be,a as $e,j as Dt,$ as $a,k as bt,e as mt}from"../chunks/CEeMCE7T.js";import{t as Qe,f as Ze}from"../chunks/DUPsmgFg.js";import{s as oa,a as Se}from"../chunks/-uljABfF.js";import{a as kt,l as sa,C as za}from"../chunks/D101yREh.js";import{b as fe,d as Ne,e as Pe,u as Lt,p as Ta}from"../chunks/BqTPuKKD.js";import{g as et}from"../chunks/B3QEisZr.js";import{U as qt,r as tt,W as Ea}from"../chunks/BgSr5azW.js";import{S as Ia,G as ht,C as Na,P as Jt}from"../chunks/Bgl2nHEO.js";import{M as ra,a as Pa,T as Wt,P as xt,q as at,b as ja}from"../chunks/jwKhP9Ft.js";import{U as Ct,L as Aa}from"../chunks/DBi4wM3f.js";import{h as Oa}from"../chunks/BYmFNSF7.js";function Ma(l,o){const r=Zt(o,["children","$$slots","$$events","$$legacy"]);const c=[["path",{d:"M12 15V3"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["path",{d:"m7 10 5 5 5-5"}]];ta(l,ea({name:"download"},()=>r,{get iconNode(){return c},children:(s,d)=>{var v=rt(),_=ce(v);aa(_,o,"default",{}),h(s,v)},$$slots:{default:!0}}))}function _t(l,o){const r=Zt(o,["children","$$slots","$$events","$$legacy"]);const c=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3"}]];ta(l,ea({name:"scroll"},()=>r,{get iconNode(){return c},children:(s,d)=>{var v=rt(),_=ce(v);aa(_,o,"default",{}),h(s,v)},$$slots:{default:!0}}))}var Fa=C('<button class="fixed bottom-6 right-6 z-40 bg-indigo-600 hover:bg-indigo-500 text-white p-4 rounded-full shadow-2xl shadow-indigo-900/50 flex items-center gap-2 font-bold animate-pulse hover:animate-none transition-all active:scale-95"><!> <span class="text-sm uppercase tracking-wider hidden sm:inline">Instalar App</span></button>');function Ga(l,o){De(o,!0);let r=j(null),c=j(!1);yt(()=>{window.addEventListener("beforeinstallprompt",m=>{m.preventDefault(),u(r,m,!0),u(c,!0)}),window.addEventListener("appinstalled",()=>{u(r,null),u(c,!1)})});async function s(){if(!i(r))return;i(r).prompt();const{outcome:m}=await i(r).userChoice;m==="accepted"&&(u(r,null),u(c,!1))}var d=rt(),v=ce(d);{var _=m=>{var y=Fa();y.__click=s;var S=e(y);Ma(S,{size:24}),de(2),t(y),h(m,y)};X(v,m=>{i(c)&&m(_)})}h(l,d),Le()}qe(["click"]);var Ha=C('<div class="space-y-4"><div><label for="char-name" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">Nome do Personagem</label> <input id="char-name" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors" placeholder="Ex: Alaric, o Errante"/></div> <div><label for="char-player" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest flex items-center gap-1"><!> Nome do Jogador</label> <input id="char-player" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors" placeholder="Seu nome ou apelido"/></div> <div class="grid grid-cols-2 gap-4"><div><label for="char-ancestry" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">Ancestralidade</label> <input id="char-ancestry" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors" placeholder="Ex: Humano"/></div> <div><label for="char-level" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">NÃ­vel</label> <input id="char-level" type="number" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div></div> <div><label for="char-path" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">Trilha Inicial (Novice)</label> <input id="char-path" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors" placeholder="Ex: Guerreiro, Mago"/></div> <div class="grid grid-cols-2 gap-4"><div><label for="char-defense" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">Defesa</label> <input id="char-defense" type="number" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div> <div><label for="char-health" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">Vida MÃ¡xima</label> <input id="char-health" type="number" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div></div></div> <div class="flex gap-3 mt-8"><button class="flex-1 bg-slate-700 hover:bg-slate-600 transition-all py-3 rounded-xl text-white font-bold active:scale-95">Cancelar</button> <button class="flex-1 bg-indigo-600 hover:bg-indigo-500 transition-all py-3 rounded-xl text-white font-bold shadow-lg shadow-indigo-900/20 active:scale-95">Criar Personagem</button></div>',1);function Ba(l,o){De(o,!0);let r=Ve(o,"isOpen",3,!1),c=Ve(o,"initialData",3,"{}"),s=Qt({name:"",playerName:"",ancestry:"",novicePath:"",level:1,defense:10,health:24});Ue(()=>{if(r()&&c())try{const v=JSON.parse(c());s.name=v.name||"",s.playerName=v.playerName||"",s.ancestry=v.ancestry||"",s.novicePath=v.paths&&v.paths.novice?v.paths.novice:"",s.level=v.level||1,s.defense=v.defense||10,s.health=v.health||v.normalHealth||24}catch{s.name="",s.playerName="",s.ancestry="",s.novicePath="",s.level=1,s.defense=10,s.health=24}});function d(){o.onSave({...s})}ra(l,{get isOpen(){return r()},get onClose(){return o.onClose},title:"Novo Personagem",maxWidth:"max-w-md",children:(v,_)=>{var m=Ha(),y=ce(m),S=e(y),I=a(e(S),2);ge(I),t(S);var g=a(S,2),$=e(g),B=e($);Ct(B,{size:12}),de(),t($);var F=a($,2);ge(F),t(g);var z=a(g,2),O=e(z),ae=a(e(O),2);ge(ae),t(O);var N=a(O,2),G=a(e(N),2);ge(G),t(N),t(z);var L=a(z,2),K=a(e(L),2);ge(K),t(L);var q=a(L,2),W=e(q),P=a(e(W),2);ge(P),t(W);var oe=a(W,2),se=a(e(oe),2);ge(se),t(oe),t(q),t(y);var Je=a(y,2),re=e(Je);re.__click=function(...T){o.onClose?.apply(this,T)};var me=a(re,2);me.__click=d,t(Je),fe(I,()=>s.name,T=>s.name=T),fe(F,()=>s.playerName,T=>s.playerName=T),fe(ae,()=>s.ancestry,T=>s.ancestry=T),fe(G,()=>s.level,T=>s.level=T),fe(K,()=>s.novicePath,T=>s.novicePath=T),fe(P,()=>s.defense,T=>s.defense=T),fe(se,()=>s.health,T=>s.health=T),h(v,m)},$$slots:{default:!0}}),Le()}qe(["click"]);var Ua=C('<div class="space-y-5"><div><label for="settings-player-name" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest flex items-center gap-1"><!> Nome do Jogador</label> <input id="settings-player-name" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors" placeholder="Seu nome ou apelido"/> <p class="text-[10px] text-slate-500 mt-1">O nome do jogador associado a este personagem.</p></div></div> <div class="flex flex-col-reverse sm:flex-row gap-3 mt-6"><button class="flex-1 bg-slate-700 hover:bg-slate-600 transition-all py-4 sm:py-3 rounded-xl text-white font-bold active:scale-95">Cancelar</button> <button class="flex-1 bg-indigo-600 hover:bg-indigo-500 transition-all py-4 sm:py-3 rounded-xl text-white font-bold shadow-lg shadow-indigo-900/20 active:scale-95">Salvar</button></div>',1);function Va(l,o){De(o,!0);let r=Ve(o,"isOpen",3,!1),c=Ve(o,"characterData",3,null),s=j("");Ue(()=>{r()&&c()&&u(s,c().playerName||"",!0)});function d(){o.onSave({playerName:i(s)})}ra(l,{get isOpen(){return r()},get onClose(){return o.onClose},title:"âš™ï¸ ConfiguraÃ§Ãµes do Personagem",maxWidth:"max-w-md",children:(v,_)=>{var m=Ua(),y=ce(m),S=e(y),I=e(S),g=e(I);Ct(g,{size:12}),de(),t(I);var $=a(I,2);ge($),de(2),t(S),t(y);var B=a(y,2),F=e(B);F.__click=function(...O){o.onClose?.apply(this,O)};var z=a(F,2);z.__click=d,t(B),fe($,()=>i(s),O=>u(s,O)),h(v,m)},$$slots:{default:!0}}),Le()}qe(["click"]);const Da="701898444454-7ml9onnv529k99rkvgh1slhdj4a1arrm.apps.googleusercontent.com",Rt="https://www.googleapis.com/auth/drive.appdata https://www.googleapis.com/auth/userinfo.profile",A=Sa({signedIn:!1,accessToken:null,tokenExpiry:null,userProfile:null,isInited:!1});let ot,Xt=!1;const je="wwv_google_session";function La(){localStorage.removeItem(je),A.update(l=>({...l,signedIn:!1,accessToken:null,tokenExpiry:null,userProfile:null})),console.log("Session cleared due to expired or invalid token")}async function st(){La(),console.warn("OAuth token expired or invalid. Please sign in again.")}async function na(l){try{const o=await fetch("https://www.googleapis.com/oauth2/v1/userinfo?alt=json",{headers:{Authorization:`Bearer ${l}`}});if(o.status===401){await st();return}if(o.ok){const r=await o.json();A.update(c=>({...c,userProfile:{name:r.name,picture:r.picture}})),ia()}}catch(o){console.error("Failed to fetch user profile:",o)}}function qa(){try{const l=localStorage.getItem(je);if(l){const o=JSON.parse(l);if(o.accessToken)return o.tokenExpiry&&Date.now()>o.tokenExpiry?(console.log("Stored token is expired, clearing session"),localStorage.removeItem(je),!1):(A.set({signedIn:!0,accessToken:o.accessToken,tokenExpiry:o.tokenExpiry||null,userProfile:o.userProfile||null,isInited:!0}),console.log("Restored session from localStorage"),na(o.accessToken),!0)}}catch(l){console.error("Failed to load stored session:",l)}return!1}function ia(){const l=te(A);l.signedIn&&l.accessToken?localStorage.setItem(je,JSON.stringify({accessToken:l.accessToken,tokenExpiry:l.tokenExpiry,userProfile:l.userProfile})):localStorage.removeItem(je)}async function Ja(){const l=Da;if(qa()){try{await Yt(),ot=google.accounts.oauth2.initTokenClient({client_id:l,scope:Rt,callback:Kt}),Xt=!0}catch(r){console.warn("Could not initialize GIS after restoring session:",r)}return}try{await Yt(),ot=google.accounts.oauth2.initTokenClient({client_id:l,scope:Rt,callback:Kt}),Xt=!0,A.update(r=>({...r,isInited:!0})),console.log("Google Auth Initialized")}catch(r){console.error("Failed to initialize Google Auth:",r),A.update(c=>({...c,isInited:!0})),alert("Falha ao inicializar Google Auth. Verifique sua conexÃ£o/Console.")}}function Kt(l){if(l.error!==void 0){console.error("Google Auth Error:",l);return}console.log("Google Auth Success",l);const o=l.expires_in||3600,r=Date.now()+o*1e3;A.update(c=>({...c,signedIn:!0,accessToken:l.access_token,tokenExpiry:r})),ia(),na(l.access_token)}function Yt(){return new Promise((l,o)=>{if(typeof google<"u"&&google.accounts){l();return}const r=document.createElement("script");r.src="https://accounts.google.com/gsi/client",r.async=!0,r.defer=!0,r.onload=()=>{const c=setInterval(()=>{typeof google<"u"&&google.accounts&&(clearInterval(c),l())},50);setTimeout(()=>{clearInterval(c),(typeof google>"u"||!google.accounts)&&o(new Error("Google object not available after script load"))},3e3)},r.onerror=()=>{o(new Error("Failed to load Google Identity Services script"))},document.head.appendChild(r)})}function Wa(){ot?ot.requestAccessToken():(console.error("Google Auth not initialized"),alert("Google Auth ainda nÃ£o inicializou. Tente novamente em alguns segundos."))}function Ra(){const l=te(A).accessToken;localStorage.removeItem(je),A.update(o=>({...o,signedIn:!1,accessToken:null,tokenExpiry:null,userProfile:null})),l&&typeof google<"u"&&google.accounts&&google.accounts.oauth2.revoke(l,()=>{console.log("Access token revoked")})}async function la(){const l=te(A),o=l.accessToken;if(!o)throw new Error("Not signed in");if(l.tokenExpiry&&Date.now()>l.tokenExpiry)throw await st(),new Error("Token expired, please sign in again");const c=`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent("name = 'weird-wizard-backup.json' and 'appDataFolder' in parents and trashed = false")}&spaces=appDataFolder&fields=files(id, name, modifiedTime, size)`,s=await fetch(c,{headers:{Authorization:`Bearer ${o}`}});if(s.status===401)throw await st(),new Error("Token expired, please sign in again");if(!s.ok)throw new Error("Failed to list backups: "+s.statusText);return(await s.json()).files||[]}async function Xa(l){const o=te(A).accessToken;if(!o)throw new Error("Not signed in");const r=JSON.stringify(l),c="weird-wizard-backup.json",s=await la(),d=s.length>0?s[0].id:null;if(d){const v=`https://www.googleapis.com/upload/drive/v3/files/${d}?uploadType=media`,_=await fetch(v,{method:"PATCH",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},body:r});if(!_.ok){const m=await _.text();throw console.error("Upload error details:",m),new Error("Upload failed: "+_.statusText)}return await _.json()}else{const v={name:c,mimeType:"application/json",parents:["appDataFolder"]},_=new FormData;_.append("metadata",new Blob([JSON.stringify(v)],{type:"application/json"})),_.append("file",new Blob([r],{type:"application/json"}));const y=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",headers:{Authorization:`Bearer ${o}`},body:_});if(!y.ok){const S=await y.text();throw console.error("Upload error details:",S),new Error("Upload failed: "+y.statusText)}return await y.json()}}async function Ka(l){const o=te(A).accessToken;if(!o)throw new Error("Not signed in");const r=`https://www.googleapis.com/drive/v3/files/${l}?alt=media`,c=await fetch(r,{headers:{Authorization:`Bearer ${o}`}});if(c.status===401)throw await st(),new Error("Token expired, please sign in again");if(!c.ok)throw new Error("Download failed: "+c.statusText);return await c.json()}let wt;async function Ya(){if(te(A).accessToken)try{console.log("Syncing from cloud...");const o=await la();if(o.length===0){console.log("No backups found in cloud.");return}const r=o[0].id,c=await Ka(r);if(c.characters&&Array.isArray(c.characters))for(const s of c.characters)Ne.get(s.id)||(Ne.set(s.id,s),console.log("Added character from cloud:",s.name));if(c.campaigns&&Array.isArray(c.campaigns))for(const s of c.campaigns)Pe.get(s.id)||(Pe.set(s.id,s),console.log("Added campaign from cloud:",s.name));console.log("Sync from cloud complete.")}catch(o){console.error("Failed to sync from cloud:",o)}}async function Qa(){te(A).accessToken&&(wt&&clearTimeout(wt),wt=setTimeout(async()=>{try{console.log("Syncing to cloud...");const o={characters:te(sa),campaigns:te(kt),timestamp:Date.now(),version:1,appName:"WeirdWizardVault"};await Xa(o),console.log("Sync to cloud complete.")}catch(o){console.error("Failed to sync to cloud:",o)}},2e3))}var Za=C('<img alt="Avatar" class="w-10 h-10 rounded-full border-2 border-indigo-500/50 shadow-lg object-cover"/>'),eo=C('<div class="w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center text-white border-2 border-indigo-400/30 shadow-lg"><span class="font-bold text-lg"><!></span></div>'),to=C('<div class="absolute right-0 top-full mt-2 w-48 bg-slate-800 rounded-xl shadow-xl border border-slate-700 p-2 z-50 animate-in fade-in slide-in-from-top-2"><div class="px-3 py-2 border-b border-slate-700 mb-2"><p class="text-xs text-slate-400">Conectado como</p> <p class="text-sm font-bold text-white truncate"> </p></div> <button class="w-full flex items-center gap-2 px-3 py-2 text-slate-300 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors text-sm"><!> Sair</button></div>  <div class="fixed inset-0 z-40"></div>',1),ao=C('<div class="relative"><button><!> <div class="absolute bottom-1 right-1 w-3 h-3 bg-emerald-500 rounded-full border-2 border-slate-900"></div></button> <!></div>'),oo=C('<div class="w-4 h-4 rounded-full border-2 border-slate-300 border-t-slate-600 animate-spin"></div>'),so=ka('<svg class="w-4 h-4" viewBox="0 0 24 24"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"></path><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"></path><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"></path><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"></path></svg>'),ro=C("<button><!> <span>Entrar</span></button>");function no(l,o){De(o,!0);const r=()=>Se(A,"$googleSession",c),[c,s]=oa();let d=Ve(o,"className",3,""),v=j(!1);var _=rt(),m=ce(_);{var y=I=>{var g=ao(),$=e(g);$.__click=()=>u(v,!i(v));var B=e($);{var F=N=>{var G=Za();M(()=>$e(G,"src",r().userProfile.picture)),h(N,G)},z=N=>{var G=eo(),L=e(G),K=e(L);{var q=P=>{var oe=Ca();M(se=>f(oe,se),[()=>r().userProfile.name[0].toUpperCase()]),h(P,oe)},W=P=>{Ct(P,{size:20})};X(K,P=>{r().userProfile?.name?P(q):P(W,!1)})}t(L),t(G),h(N,G)};X(B,N=>{r().userProfile?.picture?N(F):N(z,!1)})}de(2),t($);var O=a($,2);{var ae=N=>{var G=to(),L=ce(G),K=e(L),q=a(e(K),2),W=e(q,!0);t(q),t(K);var P=a(K,2);P.__click=()=>{Ra(),u(v,!1)};var oe=e(P);Aa(oe,{size:14}),de(),t(P),t(L);var se=a(L,2);se.__click=()=>u(v,!1),M(()=>f(W,r().userProfile?.name??"UsuÃ¡rio")),h(N,G)};X(O,N=>{i(v)&&N(ae)})}t(g),M(()=>{be($,1,`flex items-center gap-2 p-1 rounded-full hover:bg-slate-800 transition-colors border border-transparent hover:border-slate-700 ${d()??""}`),$e($,"title",r().userProfile?.name||"Conta Google")}),h(I,g)},S=I=>{var g=ro();g.__click=function(...z){Wa?.apply(this,z)};var $=e(g);{var B=z=>{var O=oo();h(z,O)},F=z=>{var O=so();h(z,O)};X($,z=>{r().isInited?z(F,!1):z(B)})}de(2),t(g),M(()=>{g.disabled=!r().isInited,be(g,1,`flex items-center gap-2 px-4 py-2 bg-white text-slate-900 hover:bg-slate-100 rounded-full font-bold text-xs transition-all shadow-lg hover:shadow-xl hover:scale-105 disabled:opacity-50 disabled:cursor-wait disabled:scale-100 disabled:shadow-none ${d()??""}`)}),h(I,g)};X(m,I=>{r().signedIn?I(y):I(S,!1)})}h(l,_),Le(),s()}qe(["click"]);var io=C('<div class="absolute top-full right-0 mt-2 bg-slate-900 border border-slate-700 rounded-xl shadow-xl p-1.5 min-w-[120px] z-50 flex flex-col gap-1 animate-in fade-in zoom-in-95 duration-200"><button>ðŸ‡§ðŸ‡· PT-BR</button> <button>ðŸ‡ºðŸ‡¸ EN-US</button></div> <button class="fixed inset-0 z-40 cursor-default" aria-label="Close menu"></button>',1),lo=C('<span class="text-[10px] text-slate-400 font-medium"> </span>'),co=C('<div class="bg-slate-900 border border-slate-800 rounded-3xl p-6 hover:border-indigo-500/40 transition-all relative group flex flex-col shadow-lg hover:shadow-indigo-500/10 border-t-white/5"><div class="flex justify-between items-start mb-4"><div class="flex-1"><h3 class="font-black text-xl text-white group-hover:text-indigo-400 transition-colors uppercase tracking-tight truncate pr-16"> </h3> <div class="flex items-center gap-2 mt-1 flex-wrap"><span class="text-[10px] bg-indigo-500/10 text-indigo-400 font-black px-2 py-0.5 rounded uppercase tracking-wider"> </span> <span class="text-[10px] text-slate-500 font-bold uppercase tracking-widest"> </span> <!></div></div> <div class="flex items-center gap-1"><button class="text-slate-700 hover:text-indigo-400 p-2 rounded-xl hover:bg-indigo-400/5 transition-all opacity-40 group-hover:opacity-100"><!></button> <button class="text-slate-700 hover:text-red-400 p-2 rounded-xl hover:bg-red-400/5 transition-all opacity-40 group-hover:opacity-100"><!></button></div></div> <div class="space-y-3 mb-6"><div class="flex items-center justify-between text-xs text-slate-400"><span class="flex items-center gap-1.5 opacity-60"><!> </span> <span class="font-bold text-slate-300 truncate max-w-[150px]"> </span></div></div> <button class="w-full bg-slate-800 hover:bg-indigo-600 text-white py-3 rounded-2xl font-bold transition-all active:scale-[0.98] border border-slate-700 hover:border-indigo-400/30 flex items-center justify-center gap-2"> <!></button></div>'),uo=C('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 absolute inset-0 content-start"><!> <button class="h-full min-h-[160px] border-2 border-dashed border-slate-800 rounded-3xl flex flex-col items-center justify-center text-slate-500 hover:border-indigo-500 hover:text-indigo-500 transition-all hover:bg-indigo-500/5 gap-2 group shadow-sm bg-slate-900/20"><div class="w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center group-hover:bg-indigo-500/10 group-hover:scale-110 transition-all"><!></div> <span class="font-bold"> </span></button></div>'),vo=C('<span class="text-[9px] bg-emerald-500/10 text-emerald-400 px-2 py-0.5 rounded-full border border-emerald-500/20 font-black uppercase tracking-widest flex items-center gap-1"><!> </span>'),po=C('<div class="bg-slate-900 border border-slate-800 rounded-3xl p-6 hover:border-indigo-500/40 transition-all group relative flex flex-col justify-between shadow-lg hover:shadow-indigo-500/10 border-t-white/5"><div class="mb-4"><div class="flex justify-between items-start mb-1"><h3 class="font-black text-2xl text-white group-hover:text-indigo-400 transition-colors uppercase tracking-tight"> </h3> <div class="flex items-center gap-1"><!> <button class="text-slate-700 hover:text-indigo-400 p-2 rounded-xl hover:bg-indigo-400/5 transition-all opacity-40 group-hover:opacity-100"><!></button> <button class="text-slate-700 hover:text-red-400 p-2 rounded-xl hover:bg-red-400/5 transition-all opacity-40 group-hover:opacity-100"><!></button></div></div> <p class="text-indigo-400 text-[10px] font-black uppercase tracking-[0.2em] mb-3"> </p> <p class="text-sm text-slate-400 line-clamp-2 leading-relaxed h-10"> </p></div> <button class="w-full bg-indigo-600 hover:bg-indigo-500 text-white py-3 rounded-2xl font-bold flex items-center justify-center gap-2 border border-indigo-400/20 shadow-lg shadow-indigo-900/20 transition-all active:scale-[0.98]"><!> </button></div>'),go=C('<div class="bg-slate-900 border border-slate-800 rounded-3xl p-6 hover:border-emerald-500/40 transition-all group relative flex flex-col justify-between shadow-xl border-t-white/5"><div><h3 class="font-black text-2xl text-white group-hover:text-emerald-400 mb-2 uppercase tracking-tight"> </h3> <div class="flex items-center gap-2 mb-4"><div class="px-2 py-0.5 bg-slate-800 rounded text-[9px] text-slate-400 font-black uppercase tracking-widest"> </div> <div class="flex items-center gap-1 px-2 py-0.5 bg-emerald-500/10 rounded text-[9px] text-emerald-400 font-black uppercase tracking-wider"><div class="w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"></div> </div></div> <p class="text-sm text-slate-400 line-clamp-3 leading-relaxed mb-6 h-15"> </p></div> <button class="w-full bg-emerald-600 hover:bg-emerald-500 text-white py-3 rounded-2xl font-black uppercase text-xs tracking-[0.1em] flex items-center justify-center gap-2 border border-emerald-400/20 transition-all active:scale-[0.98] group"> <!></button></div>'),fo=C('<div class="col-span-full py-12 flex flex-col items-center text-center opacity-40"><div class="w-16 h-16 bg-slate-800/50 rounded-full flex items-center justify-center text-slate-600 mb-3 border border-slate-700 border-dashed"><!></div> <h3 class="text-lg font-black uppercase tracking-widest text-slate-500"> </h3> <p class="text-slate-600 max-w-sm mt-2 text-sm"> </p></div>'),bo=C('<div class="space-y-8 absolute inset-0"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><!> <button class="h-full min-h-[160px] border-2 border-dashed border-slate-800 rounded-3xl flex flex-col items-center justify-center text-slate-500 hover:border-indigo-500 hover:text-indigo-500 transition-all hover:bg-indigo-500/5 gap-2 group shadow-sm bg-slate-900/20"><div class="w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center group-hover:bg-indigo-500/10 group-hover:scale-110 transition-all"><!></div> <span class="font-bold"> </span></button></div> <div><div class="flex items-center gap-3 mb-4"><div class="h-px flex-1 bg-slate-800"></div> <h3 class="text-xs font-black uppercase tracking-widest text-emerald-400 flex items-center gap-2"><!> </h3> <div class="h-px flex-1 bg-slate-800"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><!> <!></div></div></div>'),mo=C('<div class="animate-in fade-in px-4 md:px-8 max-w-7xl mx-auto pb-32 md:pb-20"><header class="mb-8 flex justify-between items-center border-b border-slate-800/50 pt-4 md:pt-8 pb-4 sticky top-0 bg-slate-950/80 backdrop-blur-md z-40 -mx-4 px-4 md:-mx-8 md:px-8 transition-all"><div class="flex items-center"><h1 class="text-xl md:text-3xl font-bold text-white flex items-center gap-2 text-gradient m-0 leading-none"><!> <span class="hidden md:inline">Schwalb Vault</span> <span class="md:hidden">Schwalb Vault</span></h1></div> <div class="hidden md:flex absolute left-1/2 -translate-x-1/2 bg-slate-900/50 p-1.5 rounded-2xl border border-slate-800 glass shadow-xl backdrop-blur-md"><div class="relative flex"><div class="absolute inset-y-0 w-1/2 bg-indigo-600 rounded-xl transition-transform duration-300 ease-out shadow-lg shadow-indigo-500/20"></div> <button><!> </button> <button><!> </button></div></div> <div class="flex items-center justify-end min-w-[40px] gap-3"><div class="relative"><button class="flex items-center gap-2 text-slate-400 hover:text-white transition-colors p-2 rounded-lg hover:bg-slate-800"><!> <span class="text-xs font-bold uppercase hidden md:inline"> </span></button> <!></div> <!></div></header> <div class="md:hidden fixed bottom-6 left-4 right-4 bg-slate-900/90 backdrop-blur-xl border border-slate-700/50 shadow-2xl rounded-2xl p-1.5 z-50"><div class="relative flex justify-between"><div class="absolute inset-y-0 w-1/2 bg-indigo-600/20 rounded-xl transition-transform duration-300 ease-out"></div> <button><!> <span class="transition-all duration-300"> </span></button> <button><!> <span class="transition-all duration-300"> </span></button></div></div> <div class="min-h-[500px] relative"><!></div> <!> <!> <!> <!></div>');function ho(l,o){De(o,!0);const r=()=>Se(A,"$googleSession",m),c=()=>Se(sa,"$liveCharacters",m),s=()=>Se(kt,"$liveCampaigns",m),d=()=>Se($a,"$t",m),v=()=>Se(bt,"$locale",m),_=()=>Se(Ta,"$publicCampaigns",m),[m,y]=oa();yt(()=>{Ja();const n=localStorage.getItem("user_locale");n&&bt.set(n)});let S=j(!1);function I(n){bt.set(n),localStorage.setItem("user_locale",n),u(S,!1)}let g=j("characters"),$=j("characters");Ue(()=>{i(g)!==i($)&&u($,i(g),!0)}),Ue(()=>{r().signedIn&&Ya()}),Ue(()=>{r().signedIn&&(c(),s(),Qa())});let B=j(!1),F=j(null);function z(n){u(F,n,!0),u(B,!0)}function O(n){if(!i(F))return;const b=i(F).id,x={...Ne.get(b),...n};Ne.set(b,x),u(B,!1)}let ae=j(!1),N=j("{}");const G={name:"",playerName:"",ancestry:"Humano",novicePath:"",level:0,defense:8,health:5};function L(){u(N,JSON.stringify(G),!0),u(ae,!0)}async function K(n){const b=Lt(),p={id:b,name:n.name,playerName:n.playerName||"",ancestry:n.ancestry,level:n.level,defense:n.defense,paths:{novice:n.novicePath||"-",expert:"-",master:"-"},attributes:[{name:"ForÃ§a",value:10,key:"str"},{name:"Agilidade",value:10,key:"agi"},{name:"Intelecto",value:10,key:"int"},{name:"Vontade",value:10,key:"wil"}],speed:5,health:n.health,currentHealth:n.health,spells:[],talents:[],equipment:[],afflictions:[],effects:[],currency:{gp:0,sp:0,cp:0},languages:["Comum"]};Ne.set(b,p),u(ae,!1),et(tt("/characters/[id]",{id:b}))}let q=j(!1),W=j(null),P=j("{}");const oe={name:"",description:"",gmName:""};function se(n=null){u(W,n?n.id:null,!0),u(P,JSON.stringify(n||oe),!0),u(q,!0)}async function Je(n){const b=i(W)||Lt(),p=i(W)?Pe.get(b):{},x={...p,id:b,name:n.name,description:n.description,gmName:n.gmName,players:p.players||[],backupEnabled:n.backupEnabled||!1,backupHash:n.backupHash||""};n.removePassword?delete x.passwordHash:n.password&&(x.passwordHash=await Oa(n.password)),Pe.set(b,x),u(q,!1)}let re=j(!1),me=j(Qt({title:"",message:"",onConfirm:()=>{}}));function T(n){u(me,{title:d()("dashboard.campaigns.delete_title"),message:d()("dashboard.campaigns.delete_message"),onConfirm:()=>{Pe.delete(n),u(re,!1)}},!0),u(re,!0)}function da(n){u(me,{title:d()("dashboard.characters.delete_title"),message:d()("dashboard.characters.delete_message"),onConfirm:()=>{te(kt).forEach(p=>{let x=!1;p.members&&p.members.some(w=>w.id===n)&&(p.members=p.members.filter(w=>w.id!==n),x=!0),p.sessionRoster&&p.sessionRoster.includes(n)&&(p.sessionRoster=p.sessionRoster.filter(w=>w!==n),x=!0),p.activeEnemies&&p.activeEnemies.some(w=>w.id===n)&&(p.activeEnemies=p.activeEnemies.filter(w=>w.id!==n),x=!0),x&&Pe.set(p.id,p)}),Ne.delete(n),u(re,!1)}},!0),u(re,!0)}yt(()=>{});var nt=mo(),it=e(nt),lt=e(it),St=e(lt),ca=e(St);Ia(ca,{class:"text-indigo-500",size:28}),de(4),t(St),t(lt);var dt=a(lt,2),$t=e(dt),zt=e($t),Ae=a(zt,2);Ae.__click=()=>u(g,"characters");var Tt=e(Ae);qt(Tt,{size:18});var ua=a(Tt);t(Ae);var We=a(Ae,2);We.__click=()=>u(g,"campaigns");var Et=e(We);_t(Et,{size:18});var va=a(Et);t(We),t($t),t(dt);var It=a(dt,2),ct=e(It),Oe=e(ct);Oe.__click=()=>u(S,!i(S));var Nt=e(Oe);ht(Nt,{size:20});var Pt=a(Nt,2),pa=e(Pt,!0);t(Pt),t(Oe);var ga=a(Oe,2);{var fa=n=>{var b=io(),p=ce(b),x=e(p);x.__click=()=>I("pt");var w=a(x,2);w.__click=()=>I("en"),t(p);var he=a(p,2);he.__click=()=>u(S,!1),M(()=>{be(x,1,`flex items-center gap-2 px-3 py-2 text-sm font-bold rounded-lg ${v()==="pt"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`),be(w,1,`flex items-center gap-2 px-3 py-2 text-sm font-bold rounded-lg ${v()==="en"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`)}),h(n,b)};X(ga,n=>{i(S)&&n(fa)})}t(ct);var ba=a(ct,2);no(ba,{}),t(It),t(it);var ut=a(it,2),jt=e(ut),At=e(jt),Me=a(At,2);Me.__click=()=>u(g,"characters");var Ot=e(Me);{let n=Vt(()=>i(g)==="characters"?2.5:2);qt(Ot,{size:20,get strokeWidth(){return i(n)},class:"transition-all duration-300"})}var Mt=a(Ot,2),ma=e(Mt,!0);t(Mt),t(Me);var Re=a(Me,2);Re.__click=()=>u(g,"campaigns");var Ft=e(Re);{let n=Vt(()=>i(g)==="campaigns"?2.5:2);_t(Ft,{size:20,get strokeWidth(){return i(n)},class:"transition-all duration-300"})}var Gt=a(Ft,2),ha=e(Gt,!0);t(Gt),t(Re),t(jt),t(ut);var vt=a(ut,2),xa=e(vt);{var _a=n=>{var b=uo(),p=e(b);mt(p,1,c,xe=>xe.id,(xe,J)=>{var _e=co(),ze=e(_e),Te=e(ze),Fe=e(Te),Ye=e(Fe,!0);t(Fe);var Ge=a(Fe,2),He=e(Ge),pt=e(He,!0);t(He);var E=a(He,2),k=e(E);t(E);var U=a(E,2);{var R=ee=>{var ke=lo(),le=e(ke);t(ke),M(()=>f(le,`â€¢ ${i(J).playerName??""}`)),h(ee,ke)};X(U,ee=>{i(J).playerName&&ee(R)})}t(Ge),t(Te);var H=a(Te,2),V=e(H);V.__click=()=>z(i(J));var Y=e(V);Pa(Y,{size:16}),t(V);var D=a(V,2);D.__click=()=>da(i(J).id);var ue=e(D);Wt(ue,{size:16}),t(D),t(H),t(ze);var Q=a(ze,2),Z=e(Q),ve=e(Z),ne=e(ve);_t(ne,{size:12});var we=a(ne);t(ve);var ie=a(ve,2),Be=e(ie,!0);t(ie),t(Z),t(Q);var pe=a(Q,2);pe.__click=()=>et(tt("/characters/[id]",{id:i(J).id}));var Ee=e(pe),ye=a(Ee);Jt(ye,{size:14,fill:"currentColor"}),t(pe),t(_e),M((ee,ke,le,Ce,Ie)=>{f(Ye,i(J).name),f(pt,i(J).ancestry||"Humano"),f(k,`${ee??""} ${i(J).level??""}`),$e(V,"title",ke),$e(D,"title",le),f(we,` ${Ce??""}`),f(Be,i(J).paths?.novice||"-"),f(Ee,`${Ie??""} `)},[()=>d()("common.labels.level"),()=>d()("common.buttons.settings"),()=>d()("common.buttons.delete"),()=>d()("dashboard.characters.paths"),()=>d()("dashboard.characters.open_sheet")]),h(xe,_e)});var x=a(p,2);x.__click=()=>L();var w=e(x),he=e(w);xt(he,{size:32}),t(w);var Xe=a(w,2),Ke=e(Xe,!0);t(Xe),t(x),t(b),M(xe=>f(Ke,xe),[()=>d()("dashboard.characters.new_character")]),Qe(1,b,()=>Ze,()=>({x:-100,duration:300,easing:at})),Qe(2,b,()=>Ze,()=>({x:-100,duration:300,easing:at})),h(n,b)},wa=n=>{var b=bo(),p=e(b),x=e(p);mt(x,1,s,E=>E.id,(E,k)=>{var U=po(),R=e(U),H=e(R),V=e(H),Y=e(V,!0);t(V);var D=a(V,2),ue=e(D);{var Q=le=>{var Ce=vo(),Ie=e(Ce);ht(Ie,{size:10});var gt=a(Ie);t(Ce),M(ft=>f(gt,` ${ft??""}`),[()=>d()("dashboard.campaigns.published")]),h(le,Ce)};X(ue,le=>{i(k).isPublished&&le(Q)})}var Z=a(ue,2);Z.__click=()=>se(i(k));var ve=e(Z);ja(ve,{size:16}),t(Z);var ne=a(Z,2);ne.__click=()=>T(i(k).id);var we=e(ne);Wt(we,{size:16}),t(ne),t(D),t(H);var ie=a(H,2),Be=e(ie,!0);t(ie);var pe=a(ie,2),Ee=e(pe,!0);t(pe),t(R);var ye=a(R,2);ye.__click=()=>et(tt("/campaigns/[id]",{id:i(k).id}));var ee=e(ye);Jt(ee,{size:18,fill:"currentColor"});var ke=a(ee);t(ye),t(U),M((le,Ce,Ie,gt,ft)=>{f(Y,i(k).name),$e(Z,"title",le),$e(ne,"title",Ce),f(Be,Ie),f(Ee,gt),f(ke,` ${ft??""}`)},[()=>d()("common.buttons.edit"),()=>d()("common.buttons.delete"),()=>i(k).gmName||d()("common.labels.master"),()=>i(k).description||d()("dashboard.campaigns.no_description"),()=>d()("dashboard.campaigns.start_session")]),h(E,U)});var w=a(x,2);w.__click=()=>se();var he=e(w),Xe=e(he);xt(Xe,{size:32}),t(he);var Ke=a(he,2),xe=e(Ke,!0);t(Ke),t(w),t(p);var J=a(p,2),_e=e(J),ze=a(e(_e),2),Te=e(ze);ht(Te,{size:14});var Fe=a(Te);t(ze),de(2),t(_e);var Ye=a(_e,2),Ge=e(Ye);mt(Ge,1,_,E=>E.id,(E,k)=>{var U=go(),R=e(U),H=e(R),V=e(H,!0);t(H);var Y=a(H,2),D=e(Y),ue=e(D,!0);t(D);var Q=a(D,2),Z=a(e(Q));t(Q),t(Y);var ve=a(Y,2),ne=e(ve,!0);t(ve),t(R);var we=a(R,2);we.__click=()=>et(tt("/campaigns/[id]/invite",{id:i(k).id}));var ie=e(we),Be=a(ie);xt(Be,{size:18,class:"group-hover:rotate-90 transition-transform"}),t(we),t(U),M((pe,Ee,ye,ee)=>{f(V,i(k).name),f(ue,pe),f(Z,` ${Ee??""}`),f(ne,ye),f(ie,`${ee??""} `)},[()=>i(k).gmName||d()("common.labels.master"),()=>d()("dashboard.campaigns.online"),()=>i(k).description||d()("dashboard.campaigns.public_description"),()=>d()("dashboard.campaigns.join_adventure")]),h(E,U)});var He=a(Ge,2);{var pt=E=>{var k=fo(),U=e(k),R=e(U);Ea(R,{size:32}),t(U);var H=a(U,2),V=e(H,!0);t(H);var Y=a(H,2),D=e(Y,!0);t(Y),t(k),M((ue,Q)=>{f(V,ue),f(D,Q)},[()=>d()("dashboard.campaigns.no_online_campaigns"),()=>d()("dashboard.campaigns.no_online_description")]),h(E,k)};X(He,E=>{_().length===0&&E(pt)})}t(Ye),t(J),t(b),M((E,k)=>{f(xe,E),f(Fe,` ${k??""}`)},[()=>d()("dashboard.campaigns.new_campaign"),()=>d()("dashboard.campaigns.public_campaigns")]),Qe(1,b,()=>Ze,()=>({x:100,duration:300,easing:at})),Qe(2,b,()=>Ze,()=>({x:100,duration:300,easing:at})),h(n,b)};X(xa,n=>{i(g)==="characters"?n(_a):n(wa,!1)})}t(vt);var Ht=a(vt,2);Ba(Ht,{get isOpen(){return i(ae)},get initialData(){return i(N)},onClose:()=>u(ae,!1),onSave:K});var Bt=a(Ht,2);Na(Bt,{get isOpen(){return i(q)},get initialData(){return i(P)},onClose:()=>u(q,!1),onSave:Je});var Ut=a(Bt,2);za(Ut,{get isOpen(){return i(re)},get title(){return i(me).title},get message(){return i(me).message},get onConfirm(){return i(me).onConfirm},onCancel:()=>u(re,!1)});var ya=a(Ut,2);Va(ya,{get isOpen(){return i(B)},get characterData(){return i(F)},onClose:()=>u(B,!1),onSave:O}),t(nt),M((n,b,p,x,w)=>{Dt(zt,`transform: translateX(${i(g)==="campaigns"?"100%":"0%"})`),be(Ae,1,`relative z-10 px-6 py-2.5 rounded-xl text-sm font-bold transition-all duration-300 flex items-center gap-2 ${i(g)==="characters"?"text-white":"text-slate-400 hover:text-white"}`),f(ua,` ${n??""}`),be(We,1,`relative z-10 px-6 py-2.5 rounded-xl text-sm font-bold transition-all duration-300 flex items-center gap-2 ${i(g)==="campaigns"?"text-white":"text-slate-400 hover:text-white"}`),f(va,` ${b??""}`),$e(Oe,"title",p),f(pa,v()==="pt"?"PT":"EN"),Dt(At,`transform: translateX(${i(g)==="campaigns"?"100%":"0%"})`),be(Me,1,`relative flex-1 py-3 rounded-xl text-xs font-bold transition-all duration-300 flex flex-col items-center justify-center gap-1 z-10 ${i(g)==="characters"?"text-indigo-400":"text-slate-500"}`),f(ma,x),be(Re,1,`relative flex-1 py-3 rounded-xl text-xs font-bold transition-all duration-300 flex flex-col items-center justify-center gap-1 z-10 ${i(g)==="campaigns"?"text-indigo-400":"text-slate-500"}`),f(ha,w)},[()=>d()("dashboard.tabs.characters"),()=>d()("dashboard.tabs.campaigns"),()=>d()("common.labels.language")||"Language",()=>d()("dashboard.tabs.characters"),()=>d()("dashboard.tabs.campaigns")]),h(l,nt),Le(),y()}qe(["click"]);var xo=C("<!> <!>",1);function Fo(l){var o=xo(),r=ce(o);Ga(r,{});var c=a(r,2);ho(c,{}),h(l,o)}export{Fo as component};
