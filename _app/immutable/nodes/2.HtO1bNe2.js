import"../chunks/DsnmJJEf.js";import"../chunks/CY1_wl6H.js";import{o as Ut,p as le,k as g,x as pt,j as b,z as gt,F as c,R as O,y as s,A as a,B as t,I as e,t as H,a2 as ua,L as vt,n as Te,aq as Aa,U as Ma,T as ta}from"../chunks/DA0UBnP0.js";import{d as ft,o as Gt,s as p,g as me,w as Oa}from"../chunks/BLQLsqF7.js";import{l as pa,s as ga,i as D,p as ut}from"../chunks/B8t1AzQE.js";import{h as ct}from"../chunks/DRdysA7i.js";import{a as He,$ as fa,e as $t,s as Se,i as Fa,r as Fe,j as aa,k as Nt}from"../chunks/BNAKlAka.js";import{s as Lt,a as Ge}from"../chunks/BxFuL_3h.js";import{I as ma,s as ba}from"../chunks/bAp6L4kg.js";import{X as Ba,M as ha,a as Ga,T as sa,P as At,q as _t,b as Ha}from"../chunks/_qXVQNaj.js";import{t as wt,f as yt}from"../chunks/BZw0xz31.js";import{D as ze,G as St,S as Ua,a as Ht,l as xa,C as La,g as Mt}from"../chunks/CERjy4Pu.js";import{b as Be,d as tt,e as at,u as oa,p as Va}from"../chunks/CV-PqCZy.js";import{g as kt}from"../chunks/DgO2ULbl.js";import{U as ra,r as Ct,W as qa}from"../chunks/qohIlr3z.js";import{S as Da,G as Ot,C as Ja,P as ia}from"../chunks/BSac6KtG.js";import{U as Vt,L as Ra}from"../chunks/CqpC-0gp.js";import{h as Wa}from"../chunks/BYmFNSF7.js";function na(l,o){const n=pa(o,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"M12 15V3"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["path",{d:"m7 10 5 5 5-5"}]];ma(l,ga({name:"download"},()=>n,{get iconNode(){return v},children:(r,d)=>{var u=Ut(),x=le(u);ba(x,o,"default",{}),g(r,u)},$$slots:{default:!0}}))}function Ft(l,o){const n=pa(o,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3"}]];ma(l,ga({name:"scroll"},()=>n,{get iconNode(){return v},children:(r,d)=>{var u=Ut(),x=le(u);ba(x,o,"default",{}),g(r,u)},$$slots:{default:!0}}))}var Xa=b('<button class="fixed bottom-28 md:bottom-6 right-6 z-[60] bg-indigo-600 hover:bg-indigo-500 text-white h-14 px-4 rounded-full shadow-2xl shadow-indigo-900/50 flex items-center justify-center font-bold animate-pulse hover:animate-none transition-all active:scale-95 group"><!> <span class="text-sm uppercase tracking-wider max-w-0 overflow-hidden ml-0 group-hover:max-w-xs group-hover:ml-2 transition-all duration-300 md:max-w-xs md:ml-2 md:inline"> </span></button>'),Ya=b("<div><!></div>"),Ka=b("<div><!></div>"),Qa=b('<li class="flex items-start gap-3"><span class="flex-shrink-0 w-6 h-6 rounded-full bg-slate-800 flex items-center justify-center font-bold text-xs border border-slate-700 text-indigo-400">1</span> <!></li> <li class="flex items-start gap-3"><span class="flex-shrink-0 w-6 h-6 rounded-full bg-slate-800 flex items-center justify-center font-bold text-xs border border-slate-700 text-indigo-400">2</span> <div><!></div></li>',1),Za=b('<li class="flex items-start gap-3"><span class="flex-shrink-0 w-6 h-6 rounded-full bg-slate-800 flex items-center justify-center font-bold text-xs border border-slate-700 text-indigo-400">1</span> <div><!></div></li> <li class="flex items-start gap-3"><span class="flex-shrink-0 w-6 h-6 rounded-full bg-slate-800 flex items-center justify-center font-bold text-xs border border-slate-700 text-indigo-400">2</span> <div><!></div></li>',1),es=b('<div class="fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-end sm:items-center justify-center p-4 animate-in fade-in"><div class="bg-slate-900 border border-slate-700 rounded-2xl p-6 max-w-sm w-full relative shadow-2xl mb-4 sm:mb-0 animate-in slide-in-from-bottom-10 sm:slide-in-from-bottom-0 sm:zoom-in-95"><button class="absolute top-4 right-4 text-slate-400 hover:text-white p-1"><!></button> <h3 class="text-xl font-bold text-white mb-4 flex items-center gap-2"><!> </h3> <ol class="space-y-4 text-slate-300 text-sm"><!></ol> <div class="mt-6 text-center"><button class="text-indigo-400 text-sm font-bold hover:text-indigo-300"> </button></div></div></div>'),ts=b("<!> <!>",1);function as(l,o){pt(o,!0);const n=()=>Ge(fa,"$t",v),[v,r]=Lt();let d=O(null),u=O(!1),x=O(!1),j=O(!1),N=O(!1);Gt(()=>{if(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone){c(u,!1);return}const _=window.navigator.userAgent;c(j,/iPad|iPhone|iPod/.test(_)&&!window.MSStream,!0),c(N,/CriOS/i.test(_),!0),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(_)&&c(u,!0),window.addEventListener("beforeinstallprompt",y=>{y.preventDefault(),c(d,y,!0),c(u,!0)}),window.addEventListener("appinstalled",()=>{c(d,null),c(u,!1),c(x,!1)})});async function F(){if(s(d)){s(d).prompt();const{outcome:w}=await s(d).userChoice;w==="accepted"&&(c(d,null),c(u,!1))}else c(x,!0)}const z="inline w-3.5 h-3.5",f=`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="${z}"><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/><polyline points="16 6 12 2 8 6"/><line x1="12" x2="12" y1="2" y2="15"/></svg>`,A=`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="${z}"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M8 12h8"/><path d="M12 8v8"/></svg>`,U=`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="${z}"><circle cx="12" cy="12" r="1"/><circle cx="12" cy="5" r="1"/><circle cx="12" cy="19" r="1"/></svg>`;function M(w,_){const I=n()(w),y=`<span class="inline-flex items-center justify-center bg-slate-800 p-1 rounded mx-1 align-middle">${_}</span>`;return I.replace("{icon}",y)}var T=ts(),B=le(T);{var de=w=>{var _=Xa();_.__click=F;var I=t(_);na(I,{size:24});var y=a(I,2),E=t(y,!0);e(y),e(_),H((R,X)=>{He(_,"aria-label",R),p(E,X)},[()=>n()("home.install.button"),()=>n()("home.install.button")]),g(w,_)};D(B,w=>{s(u)&&w(de)})}var G=a(B,2);{var L=w=>{var _=es(),I=t(_),y=t(I);y.__click=()=>c(x,!1);var E=t(y);Ba(E,{size:20}),e(y);var R=a(y,2),X=t(R);na(X,{size:24,class:"text-indigo-500"});var Ue=a(X);e(R);var Q=a(R,2),ce=t(Q);{var We=P=>{var q=Qa(),W=le(q),se=a(t(W),2);{var xe=oe=>{var re=Ya(),Y=t(re);ct(Y,()=>M("home.install.ios_chrome_step1",f)),e(re),g(oe,re)},te=oe=>{var re=Ka(),Y=t(re);ct(Y,()=>M("home.install.ios_step1",f)),e(re),g(oe,re)};D(se,oe=>{s(N)?oe(xe):oe(te,!1)})}e(W);var ve=a(W,2),_e=a(t(ve),2),Ie=t(_e);ct(Ie,()=>M("home.install.ios_step2",A)),e(_e),e(ve),g(P,q)},Xe=P=>{var q=Za(),W=le(q),se=a(t(W),2),xe=t(se);ct(xe,()=>M("home.install.android_step1",U)),e(se),e(W);var te=a(W,2),ve=a(t(te),2),_e=t(ve);ct(_e,()=>n()("home.install.android_step2")),e(ve),e(te),g(P,q)};D(ce,P=>{s(j)?P(We):P(Xe,!1)})}e(Q);var be=a(Q,2),he=t(be);he.__click=()=>c(x,!1);var k=t(he,!0);e(he),e(be),e(I),e(_),H((P,q)=>{p(Ue,` ${P??""}`),p(k,q)},[()=>n()("home.install.title"),()=>n()("home.install.close")]),g(w,_)};D(G,w=>{s(x)&&w(L)})}g(l,T),gt(),r()}ft(["click"]);var ss=b('<span class="text-[9px] bg-slate-800 text-slate-400 px-1.5 py-0.5 rounded uppercase tracking-wider">Em Breve</span>'),os=b('<div class="w-2 h-2 rounded-full bg-indigo-500 shadow-[0_0_8px_rgba(99,102,241,0.5)]"></div>'),rs=b('<button><div class="flex-1"><div class="font-bold text-sm flex items-center gap-2"> <!></div> <div class="text-[10px] opacity-60 mt-0.5"> </div></div> <!></button>'),is=b('<div class="space-y-4"><div><label class="text-xs text-slate-500 uppercase font-black block mb-2 tracking-widest flex items-center gap-1"><!> Sistema de Jogo</label> <div class="grid grid-cols-1 gap-2"></div></div> <div><label for="char-name" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">Nome do Personagem</label> <input id="char-name" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors" placeholder="Ex: Alaric, o Errante"/></div> <div><label for="char-player" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest flex items-center gap-1"><!> Nome do Jogador</label> <input id="char-player" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors" placeholder="Seu nome ou apelido"/></div> <div class="grid grid-cols-2 gap-4"><div><label for="char-ancestry" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">Ancestralidade</label> <input id="char-ancestry" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors" placeholder="Ex: Humano"/></div> <div><label for="char-level" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">NÃ­vel</label> <input id="char-level" type="number" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div></div> <div><label for="char-path" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">Trilha Inicial (Novice)</label> <input id="char-path" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors" placeholder="Ex: Guerreiro, Mago"/></div> <div class="grid grid-cols-2 gap-4"><div><label for="char-defense" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">Defesa</label> <input id="char-defense" type="number" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div> <div><label for="char-health" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest">Vida MÃ¡xima</label> <input id="char-health" type="number" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors"/></div></div></div> <div class="flex gap-3 mt-8"><button class="flex-1 bg-slate-700 hover:bg-slate-600 transition-all py-3 rounded-xl text-white font-bold active:scale-95">Cancelar</button> <button class="flex-1 bg-indigo-600 hover:bg-indigo-500 transition-all py-3 rounded-xl text-white font-bold shadow-lg shadow-indigo-900/20 active:scale-95">Criar Personagem</button></div>',1);function ns(l,o){pt(o,!0);let n=ut(o,"isOpen",3,!1),v=ut(o,"initialData",3,"{}"),r=ua({name:"",playerName:"",ancestry:"",novicePath:"",level:1,defense:10,health:24,system:ze});vt(()=>{if(n()&&v())try{const u=JSON.parse(v());r.name=u.name||"",r.playerName=u.playerName||"",r.ancestry=u.ancestry||"",r.novicePath=u.paths&&u.paths.novice?u.paths.novice:"",r.level=u.level||1,r.defense=u.defense||10,r.health=u.health||u.normalHealth||24,r.system=u.system||ze}catch{r.name="",r.playerName="",r.ancestry="",r.novicePath="",r.level=1,r.defense=10,r.health=24,r.system=ze}});function d(){o.onSave({...r})}ha(l,{get isOpen(){return n()},get onClose(){return o.onClose},title:"Novo Personagem",maxWidth:"max-w-md",children:(u,x)=>{var j=is(),N=le(j),F=t(N),z=t(F),f=t(z);St(f,{size:12}),Te(),e(z);var A=a(z,2);$t(A,21,()=>Ua,Fa,(k,P)=>{var q=rs();q.__click=()=>!s(P).disabled&&(r.system=s(P).id);var W=t(q),se=t(W),xe=t(se),te=a(xe);{var ve=Y=>{var Le=ss();g(Y,Le)};D(te,Y=>{s(P).comingSoon&&Y(ve)})}e(se);var _e=a(se,2),Ie=t(_e,!0);e(_e),e(W);var oe=a(W,2);{var re=Y=>{var Le=os();g(Y,Le)};D(oe,Y=>{r.system===s(P).id&&Y(re)})}e(q),H(()=>{Se(q,1,`relative flex items-center p-3 rounded-lg border text-left transition-all ${r.system===s(P).id?"bg-indigo-600/20 border-indigo-500 text-white":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-600"} ${s(P).disabled?"opacity-60 cursor-not-allowed":""}`),q.disabled=s(P).disabled,p(xe,`${s(P).name??""} `),p(Ie,s(P).description)}),g(k,q)}),e(A),e(F);var U=a(F,2),M=a(t(U),2);Fe(M),e(U);var T=a(U,2),B=t(T),de=t(B);Vt(de,{size:12}),Te(),e(B);var G=a(B,2);Fe(G),e(T);var L=a(T,2),w=t(L),_=a(t(w),2);Fe(_),e(w);var I=a(w,2),y=a(t(I),2);Fe(y),e(I),e(L);var E=a(L,2),R=a(t(E),2);Fe(R),e(E);var X=a(E,2),Ue=t(X),Q=a(t(Ue),2);Fe(Q),e(Ue);var ce=a(Ue,2),We=a(t(ce),2);Fe(We),e(ce),e(X),e(N);var Xe=a(N,2),be=t(Xe);be.__click=function(...k){o.onClose?.apply(this,k)};var he=a(be,2);he.__click=d,e(Xe),Be(M,()=>r.name,k=>r.name=k),Be(G,()=>r.playerName,k=>r.playerName=k),Be(_,()=>r.ancestry,k=>r.ancestry=k),Be(y,()=>r.level,k=>r.level=k),Be(R,()=>r.novicePath,k=>r.novicePath=k),Be(Q,()=>r.defense,k=>r.defense=k),Be(We,()=>r.health,k=>r.health=k),g(u,j)},$$slots:{default:!0}}),gt()}ft(["click"]);var ls=b('<div class="space-y-5"><div><label for="settings-player-name" class="text-xs text-slate-500 uppercase font-black block mb-1 tracking-widest flex items-center gap-1"><!> Nome do Jogador</label> <input id="settings-player-name" class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-white outline-none focus:border-indigo-500 transition-colors" placeholder="Seu nome ou apelido"/> <p class="text-[10px] text-slate-500 mt-1">O nome do jogador associado a este personagem.</p></div></div> <div class="flex flex-col-reverse sm:flex-row gap-3 mt-6"><button class="flex-1 bg-slate-700 hover:bg-slate-600 transition-all py-4 sm:py-3 rounded-xl text-white font-bold active:scale-95">Cancelar</button> <button class="flex-1 bg-indigo-600 hover:bg-indigo-500 transition-all py-4 sm:py-3 rounded-xl text-white font-bold shadow-lg shadow-indigo-900/20 active:scale-95">Salvar</button></div>',1);function ds(l,o){pt(o,!0);let n=ut(o,"isOpen",3,!1),v=ut(o,"characterData",3,null),r=O("");vt(()=>{n()&&v()&&c(r,v().playerName||"",!0)});function d(){o.onSave({playerName:s(r)})}ha(l,{get isOpen(){return n()},get onClose(){return o.onClose},title:"âš™ï¸ ConfiguraÃ§Ãµes do Personagem",maxWidth:"max-w-md",children:(u,x)=>{var j=ls(),N=le(j),F=t(N),z=t(F),f=t(z);Vt(f,{size:12}),Te(),e(z);var A=a(z,2);Fe(A),Te(2),e(F),e(N);var U=a(N,2),M=t(U);M.__click=function(...B){o.onClose?.apply(this,B)};var T=a(M,2);T.__click=d,e(U),Be(A,()=>s(r),B=>c(r,B)),g(u,j)},$$slots:{default:!0}}),gt()}ft(["click"]);const cs="701898444454-7ml9onnv529k99rkvgh1slhdj4a1arrm.apps.googleusercontent.com",la="https://www.googleapis.com/auth/drive.appdata https://www.googleapis.com/auth/userinfo.profile",J=Oa({signedIn:!1,accessToken:null,tokenExpiry:null,userProfile:null,isInited:!1});let zt,da=!1;const st="wwv_google_session";function vs(){localStorage.removeItem(st),J.update(l=>({...l,signedIn:!1,accessToken:null,tokenExpiry:null,userProfile:null})),console.log("Session cleared due to expired or invalid token")}async function Tt(){vs(),console.warn("OAuth token expired or invalid. Please sign in again.")}async function _a(l){try{const o=await fetch("https://www.googleapis.com/oauth2/v1/userinfo?alt=json",{headers:{Authorization:`Bearer ${l}`}});if(o.status===401){await Tt();return}if(o.ok){const n=await o.json();J.update(v=>({...v,userProfile:{name:n.name,picture:n.picture}})),wa()}}catch(o){console.error("Failed to fetch user profile:",o)}}function us(){try{const l=localStorage.getItem(st);if(l){const o=JSON.parse(l);if(o.accessToken)return o.tokenExpiry&&Date.now()>o.tokenExpiry?(console.log("Stored token is expired, clearing session"),localStorage.removeItem(st),!1):(J.set({signedIn:!0,accessToken:o.accessToken,tokenExpiry:o.tokenExpiry||null,userProfile:o.userProfile||null,isInited:!0}),console.log("Restored session from localStorage"),_a(o.accessToken),!0)}}catch(l){console.error("Failed to load stored session:",l)}return!1}function wa(){const l=me(J);l.signedIn&&l.accessToken?localStorage.setItem(st,JSON.stringify({accessToken:l.accessToken,tokenExpiry:l.tokenExpiry,userProfile:l.userProfile})):localStorage.removeItem(st)}async function ps(){const l=cs;if(us()){try{await va(),zt=google.accounts.oauth2.initTokenClient({client_id:l,scope:la,callback:ca}),da=!0}catch(n){console.warn("Could not initialize GIS after restoring session:",n)}return}try{await va(),zt=google.accounts.oauth2.initTokenClient({client_id:l,scope:la,callback:ca}),da=!0,J.update(n=>({...n,isInited:!0})),console.log("Google Auth Initialized")}catch(n){console.error("Failed to initialize Google Auth:",n),J.update(v=>({...v,isInited:!0})),alert("Falha ao inicializar Google Auth. Verifique sua conexÃ£o/Console.")}}function ca(l){if(l.error!==void 0){console.error("Google Auth Error:",l);return}console.log("Google Auth Success",l);const o=l.expires_in||3600,n=Date.now()+o*1e3;J.update(v=>({...v,signedIn:!0,accessToken:l.access_token,tokenExpiry:n})),wa(),_a(l.access_token)}function va(){return new Promise((l,o)=>{if(typeof google<"u"&&google.accounts){l();return}const n=document.createElement("script");n.src="https://accounts.google.com/gsi/client",n.async=!0,n.defer=!0,n.onload=()=>{const v=setInterval(()=>{typeof google<"u"&&google.accounts&&(clearInterval(v),l())},50);setTimeout(()=>{clearInterval(v),(typeof google>"u"||!google.accounts)&&o(new Error("Google object not available after script load"))},3e3)},n.onerror=()=>{o(new Error("Failed to load Google Identity Services script"))},document.head.appendChild(n)})}function gs(){zt?zt.requestAccessToken():(console.error("Google Auth not initialized"),alert("Google Auth ainda nÃ£o inicializou. Tente novamente em alguns segundos."))}function fs(){const l=me(J).accessToken;localStorage.removeItem(st),J.update(o=>({...o,signedIn:!1,accessToken:null,tokenExpiry:null,userProfile:null})),l&&typeof google<"u"&&google.accounts&&google.accounts.oauth2.revoke(l,()=>{console.log("Access token revoked")})}async function ya(){const l=me(J),o=l.accessToken;if(!o)throw new Error("Not signed in");if(l.tokenExpiry&&Date.now()>l.tokenExpiry)throw await Tt(),new Error("Token expired, please sign in again");const v=`https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent("name = 'weird-wizard-backup.json' and 'appDataFolder' in parents and trashed = false")}&spaces=appDataFolder&fields=files(id, name, modifiedTime, size)`,r=await fetch(v,{headers:{Authorization:`Bearer ${o}`}});if(r.status===401)throw await Tt(),new Error("Token expired, please sign in again");if(!r.ok)throw new Error("Failed to list backups: "+r.statusText);return(await r.json()).files||[]}async function ms(l){const o=me(J).accessToken;if(!o)throw new Error("Not signed in");const n=JSON.stringify(l),v="weird-wizard-backup.json",r=await ya(),d=r.length>0?r[0].id:null;if(d){const u=`https://www.googleapis.com/upload/drive/v3/files/${d}?uploadType=media`,x=await fetch(u,{method:"PATCH",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},body:n});if(!x.ok){const j=await x.text();throw console.error("Upload error details:",j),new Error("Upload failed: "+x.statusText)}return await x.json()}else{const u={name:v,mimeType:"application/json",parents:["appDataFolder"]},x=new FormData;x.append("metadata",new Blob([JSON.stringify(u)],{type:"application/json"})),x.append("file",new Blob([n],{type:"application/json"}));const N=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",headers:{Authorization:`Bearer ${o}`},body:x});if(!N.ok){const F=await N.text();throw console.error("Upload error details:",F),new Error("Upload failed: "+N.statusText)}return await N.json()}}async function bs(l){const o=me(J).accessToken;if(!o)throw new Error("Not signed in");const n=`https://www.googleapis.com/drive/v3/files/${l}?alt=media`,v=await fetch(n,{headers:{Authorization:`Bearer ${o}`}});if(v.status===401)throw await Tt(),new Error("Token expired, please sign in again");if(!v.ok)throw new Error("Download failed: "+v.statusText);return await v.json()}let Bt;async function hs(){if(me(J).accessToken)try{console.log("Syncing from cloud...");const o=await ya();if(o.length===0){console.log("No backups found in cloud.");return}const n=o[0].id,v=await bs(n);if(v.characters&&Array.isArray(v.characters))for(const r of v.characters)tt.get(r.id)||(tt.set(r.id,r),console.log("Added character from cloud:",r.name));if(v.campaigns&&Array.isArray(v.campaigns))for(const r of v.campaigns)at.get(r.id)||(at.set(r.id,r),console.log("Added campaign from cloud:",r.name));console.log("Sync from cloud complete.")}catch(o){console.error("Failed to sync from cloud:",o)}}async function xs(){me(J).accessToken&&(Bt&&clearTimeout(Bt),Bt=setTimeout(async()=>{try{console.log("Syncing to cloud...");const o={characters:me(xa),campaigns:me(Ht),timestamp:Date.now(),version:1,appName:"WeirdWizardVault"};await ms(o),console.log("Sync to cloud complete.")}catch(o){console.error("Failed to sync to cloud:",o)}},2e3))}var _s=b('<img alt="Avatar" class="w-10 h-10 rounded-full border-2 border-indigo-500/50 shadow-lg object-cover"/>'),ws=b('<div class="w-10 h-10 rounded-full bg-indigo-600 flex items-center justify-center text-white border-2 border-indigo-400/30 shadow-lg"><span class="font-bold text-lg"><!></span></div>'),ys=b('<div class="absolute right-0 top-full mt-2 w-48 bg-slate-800 rounded-xl shadow-xl border border-slate-700 p-2 z-50 animate-in fade-in slide-in-from-top-2"><div class="px-3 py-2 border-b border-slate-700 mb-2"><p class="text-xs text-slate-400">Conectado como</p> <p class="text-sm font-bold text-white truncate"> </p></div> <button class="w-full flex items-center gap-2 px-3 py-2 text-slate-300 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors text-sm"><!> Sair</button></div>  <div class="fixed inset-0 z-40"></div>',1),ks=b('<div class="relative"><button><!> <div class="absolute bottom-1 right-1 w-3 h-3 bg-emerald-500 rounded-full border-2 border-slate-900"></div></button> <!></div>'),Cs=b('<div class="w-4 h-4 rounded-full border-2 border-slate-300 border-t-slate-600 animate-spin"></div>'),$s=Aa('<svg class="w-4 h-4" viewBox="0 0 24 24"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"></path><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"></path><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"></path><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"></path></svg>'),Ss=b("<button><!> <span>Entrar</span></button>");function zs(l,o){pt(o,!0);const n=()=>Ge(J,"$googleSession",v),[v,r]=Lt();let d=ut(o,"className",3,""),u=O(!1);var x=Ut(),j=le(x);{var N=z=>{var f=ks(),A=t(f);A.__click=()=>c(u,!s(u));var U=t(A);{var M=G=>{var L=_s();H(()=>He(L,"src",n().userProfile.picture)),g(G,L)},T=G=>{var L=ws(),w=t(L),_=t(w);{var I=E=>{var R=Ma();H(X=>p(R,X),[()=>n().userProfile.name[0].toUpperCase()]),g(E,R)},y=E=>{Vt(E,{size:20})};D(_,E=>{n().userProfile?.name?E(I):E(y,!1)})}e(w),e(L),g(G,L)};D(U,G=>{n().userProfile?.picture?G(M):G(T,!1)})}Te(2),e(A);var B=a(A,2);{var de=G=>{var L=ys(),w=le(L),_=t(w),I=a(t(_),2),y=t(I,!0);e(I),e(_);var E=a(_,2);E.__click=()=>{fs(),c(u,!1)};var R=t(E);Ra(R,{size:14}),Te(),e(E),e(w);var X=a(w,2);X.__click=()=>c(u,!1),H(()=>p(y,n().userProfile?.name??"UsuÃ¡rio")),g(G,L)};D(B,G=>{s(u)&&G(de)})}e(f),H(()=>{Se(A,1,`flex items-center gap-2 p-1 rounded-full hover:bg-slate-800 transition-colors border border-transparent hover:border-slate-700 ${d()??""}`),He(A,"title",n().userProfile?.name||"Conta Google")}),g(z,f)},F=z=>{var f=Ss();f.__click=function(...T){gs?.apply(this,T)};var A=t(f);{var U=T=>{var B=Cs();g(T,B)},M=T=>{var B=$s();g(T,B)};D(A,T=>{n().isInited?T(M,!1):T(U)})}Te(2),e(f),H(()=>{f.disabled=!n().isInited,Se(f,1,`flex items-center gap-2 px-4 py-2 bg-white text-slate-900 hover:bg-slate-100 rounded-full font-bold text-xs transition-all shadow-lg hover:shadow-xl hover:scale-105 disabled:opacity-50 disabled:cursor-wait disabled:scale-100 disabled:shadow-none ${d()??""}`)}),g(z,f)};D(j,z=>{n().signedIn?z(N):z(F,!1)})}g(l,x),gt(),r()}ft(["click"]);var Ts=b('<div class="absolute top-full right-0 mt-2 bg-slate-900 border border-slate-700 rounded-xl shadow-xl p-1.5 min-w-[120px] z-50 flex flex-col gap-1 animate-in fade-in zoom-in-95 duration-200"><button>ðŸ‡§ðŸ‡· PT-BR</button> <button>ðŸ‡ºðŸ‡¸ EN-US</button></div> <button class="fixed inset-0 z-40 cursor-default" aria-label="Close menu"></button>',1),Is=b('<span class="text-[10px] text-slate-400 font-medium"> </span>'),Es=b('<div class="bg-slate-900 border border-slate-800 rounded-3xl p-6 hover:border-indigo-500/40 transition-all relative group flex flex-col shadow-lg hover:shadow-indigo-500/10 border-t-white/5"><div class="flex justify-between items-start mb-4"><div class="flex-1"><h3 class="font-black text-xl text-white group-hover:text-indigo-400 transition-colors uppercase tracking-tight truncate pr-16"> </h3> <div class="flex items-center gap-2 mt-1 flex-wrap"><span class="text-[10px] bg-indigo-500/10 text-indigo-400 font-black px-2 py-0.5 rounded uppercase tracking-wider"> </span> <span class="text-[10px] text-slate-500 font-bold uppercase tracking-widest"> </span> <!></div> <div class="mt-2 flex items-center gap-2"><div class="inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-slate-800 text-[9px] text-slate-400 border border-slate-700 font-bold uppercase tracking-wider"><!> </div></div></div> <div class="flex items-center gap-1"><button class="text-slate-700 hover:text-indigo-400 p-2 rounded-xl hover:bg-indigo-400/5 transition-all opacity-40 group-hover:opacity-100"><!></button> <button class="text-slate-700 hover:text-red-400 p-2 rounded-xl hover:bg-red-400/5 transition-all opacity-40 group-hover:opacity-100"><!></button></div></div> <div class="space-y-3 mb-6"><div class="flex items-center justify-between text-xs text-slate-400"><span class="flex items-center gap-1.5 opacity-60"><!> </span> <span class="font-bold text-slate-300 truncate max-w-[150px]"> </span></div></div> <button class="w-full bg-slate-800 hover:bg-indigo-600 text-white py-3 rounded-2xl font-bold transition-all active:scale-[0.98] border border-slate-700 hover:border-indigo-400/30 flex items-center justify-center gap-2"> <!></button></div>'),Ps=b('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 col-start-1 row-start-1 w-full"><!> <button class="h-full min-h-[160px] border-2 border-dashed border-slate-800 rounded-3xl flex flex-col items-center justify-center text-slate-500 hover:border-indigo-500 hover:text-indigo-500 transition-all hover:bg-indigo-500/5 gap-2 group shadow-sm bg-slate-900/20"><div class="w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center group-hover:bg-indigo-500/10 group-hover:scale-110 transition-all"><!></div> <span class="font-bold"> </span></button></div>'),js=b('<span class="text-[9px] bg-emerald-500/10 text-emerald-400 px-2 py-0.5 rounded-full border border-emerald-500/20 font-black uppercase tracking-widest flex items-center gap-1"><!> </span>'),Ns=b('<div class="bg-slate-900 border border-slate-800 rounded-3xl p-6 hover:border-indigo-500/40 transition-all group relative flex flex-col justify-between shadow-lg hover:shadow-indigo-500/10 border-t-white/5"><div class="mb-4"><div class="flex justify-between items-start mb-1"><h3 class="font-black text-2xl text-white group-hover:text-indigo-400 transition-colors uppercase tracking-tight"> </h3> <div class="flex items-center gap-1"><!> <button class="text-slate-700 hover:text-indigo-400 p-2 rounded-xl hover:bg-indigo-400/5 transition-all opacity-40 group-hover:opacity-100"><!></button> <button class="text-slate-700 hover:text-red-400 p-2 rounded-xl hover:bg-red-400/5 transition-all opacity-40 group-hover:opacity-100"><!></button></div></div> <p class="text-indigo-400 text-[10px] font-black uppercase tracking-[0.2em] mb-3"> </p> <div class="mb-3"><div class="inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-slate-800 text-[9px] text-slate-400 border border-slate-700 font-bold uppercase tracking-wider"><!> </div></div> <p class="text-sm text-slate-400 line-clamp-2 leading-relaxed h-10"> </p></div> <button class="w-full bg-indigo-600 hover:bg-indigo-500 text-white py-3 rounded-2xl font-bold flex items-center justify-center gap-2 border border-indigo-400/20 shadow-lg shadow-indigo-900/20 transition-all active:scale-[0.98]"><!> </button></div>'),As=b('<div class="bg-slate-900 border border-slate-800 rounded-3xl p-6 hover:border-emerald-500/40 transition-all group relative flex flex-col justify-between shadow-xl border-t-white/5"><div><h3 class="font-black text-2xl text-white group-hover:text-emerald-400 mb-2 uppercase tracking-tight"> </h3> <div class="flex items-center gap-2 mb-4"><div class="px-2 py-0.5 bg-slate-800 rounded text-[9px] text-slate-400 font-black uppercase tracking-widest"> </div> <div class="flex items-center gap-1 px-2 py-0.5 bg-emerald-500/10 rounded text-[9px] text-emerald-400 font-black uppercase tracking-wider"><div class="w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"></div> </div></div> <div class="mb-4"><div class="inline-flex items-center gap-1 px-1.5 py-0.5 rounded bg-slate-800/50 text-[9px] text-slate-400 border border-slate-700/50 font-bold uppercase tracking-wider"><!> </div></div> <p class="text-sm text-slate-400 line-clamp-3 leading-relaxed mb-6 h-15"> </p></div> <button class="w-full bg-emerald-600 hover:bg-emerald-500 text-white py-3 rounded-2xl font-black uppercase text-xs tracking-[0.1em] flex items-center justify-center gap-2 border border-emerald-400/20 transition-all active:scale-[0.98] group"> <!></button></div>'),Ms=b('<div class="col-span-full py-12 flex flex-col items-center text-center opacity-40"><div class="w-16 h-16 bg-slate-800/50 rounded-full flex items-center justify-center text-slate-600 mb-3 border border-slate-700 border-dashed"><!></div> <h3 class="text-lg font-black uppercase tracking-widest text-slate-500"> </h3> <p class="text-slate-600 max-w-sm mt-2 text-sm"> </p></div>'),Os=b('<div class="space-y-8 col-start-1 row-start-1 w-full"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><!> <button class="h-full min-h-[160px] border-2 border-dashed border-slate-800 rounded-3xl flex flex-col items-center justify-center text-slate-500 hover:border-indigo-500 hover:text-indigo-500 transition-all hover:bg-indigo-500/5 gap-2 group shadow-sm bg-slate-900/20"><div class="w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center group-hover:bg-indigo-500/10 group-hover:scale-110 transition-all"><!></div> <span class="font-bold"> </span></button></div> <div><div class="flex items-center gap-3 mb-4"><div class="h-px flex-1 bg-slate-800"></div> <h3 class="text-xs font-black uppercase tracking-widest text-emerald-400 flex items-center gap-2"><!> </h3> <div class="h-px flex-1 bg-slate-800"></div></div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><!> <!></div></div></div>'),Fs=b('<div class="animate-in fade-in px-4 md:px-8 max-w-7xl mx-auto pb-32 md:pb-20"><header class="mb-8 flex justify-between items-center border-b border-slate-800/50 pt-4 md:pt-8 pb-4 sticky top-0 bg-slate-950/80 backdrop-blur-md z-40 -mx-4 px-4 md:-mx-8 md:px-8 transition-all"><div class="flex items-center"><h1 class="text-xl md:text-3xl font-bold text-white flex items-center gap-2 text-gradient m-0 leading-none"><!> <span class="hidden md:inline">Schwalb Vault</span> <span class="md:hidden">Schwalb Vault</span></h1></div> <div class="hidden md:flex absolute left-1/2 -translate-x-1/2 bg-slate-900/50 p-1.5 rounded-2xl border border-slate-800 glass shadow-xl backdrop-blur-md"><div class="relative flex"><div class="absolute inset-y-0 w-1/2 bg-indigo-600 rounded-xl transition-transform duration-300 ease-out shadow-lg shadow-indigo-500/20"></div> <button><!> </button> <button><!> </button></div></div> <div class="flex items-center justify-end min-w-[40px] gap-3"><div class="relative"><button class="flex items-center gap-2 text-slate-400 hover:text-white transition-colors p-2 rounded-lg hover:bg-slate-800"><!> <span class="text-xs font-bold uppercase hidden md:inline"> </span></button> <!></div> <!></div></header> <div class="md:hidden fixed bottom-6 left-4 right-4 bg-slate-900/90 backdrop-blur-xl border border-slate-700/50 shadow-2xl rounded-2xl p-1.5 z-50"><div class="relative flex justify-between"><div class="absolute inset-y-0 w-1/2 bg-indigo-600/20 rounded-xl transition-transform duration-300 ease-out"></div> <button><!> <span class="transition-all duration-300"> </span></button> <button><!> <span class="transition-all duration-300"> </span></button></div></div> <div class="min-h-[500px] grid items-start relative"><!></div> <!> <!> <!> <!></div>');function Bs(l,o){pt(o,!0);const n=()=>Ge(J,"$googleSession",j),v=()=>Ge(xa,"$liveCharacters",j),r=()=>Ge(Ht,"$liveCampaigns",j),d=()=>Ge(fa,"$t",j),u=()=>Ge(Nt,"$locale",j),x=()=>Ge(Va,"$publicCampaigns",j),[j,N]=Lt();Gt(()=>{ps();const i=localStorage.getItem("user_locale");i&&Nt.set(i)});let F=O(!1);function z(i){Nt.set(i),localStorage.setItem("user_locale",i),c(F,!1)}let f=O("characters"),A=O("characters");vt(()=>{s(f)!==s(A)&&c(A,s(f),!0)}),vt(()=>{n().signedIn&&hs()}),vt(()=>{n().signedIn&&(v(),r(),xs())});let U=O(!1),M=O(null);function T(i){c(M,i,!0),c(U,!0)}function B(i){if(!s(M))return;const h=s(M).id,C={...tt.get(h),...i};tt.set(h,C),c(U,!1)}let de=O(!1),G=O("{}");const L={name:"",playerName:"",ancestry:"Humano",novicePath:"",level:0,defense:8,health:5,system:ze};function w(){c(G,JSON.stringify(L),!0),c(de,!0)}async function _(i){const h=oa(),m={id:h,name:i.name,playerName:i.playerName||"",ancestry:i.ancestry,level:i.level,defense:i.defense,system:i.system||ze,paths:{novice:i.novicePath||"-",expert:"-",master:"-"},attributes:[{name:"ForÃ§a",value:10,key:"str"},{name:"Agilidade",value:10,key:"agi"},{name:"Intelecto",value:10,key:"int"},{name:"Vontade",value:10,key:"wil"}],speed:5,health:i.health,currentHealth:i.health,spells:[],talents:[],equipment:[],afflictions:[],effects:[],currency:{gp:0,sp:0,cp:0},languages:["Comum"]};tt.set(h,m),c(de,!1),kt(Ct("/characters/[id]",{id:h}))}let I=O(!1),y=O(null),E=O("{}");const R={name:"",description:"",gmName:"",system:ze};function X(i=null){c(y,i?i.id:null,!0),c(E,JSON.stringify(i||R),!0),c(I,!0)}async function Ue(i){const h=s(y)||oa(),m=s(y)?at.get(h):{},C={...m,id:h,name:i.name,description:i.description,gmName:i.gmName,players:m.players||[],backupEnabled:i.backupEnabled||!1,backupHash:i.backupHash||"",system:i.system||ze};i.removePassword?delete C.passwordHash:i.password&&(C.passwordHash=await Wa(i.password)),at.set(h,C),c(I,!1)}let Q=O(!1),ce=O(ua({title:"",message:"",onConfirm:()=>{}}));function We(i){c(ce,{title:d()("dashboard.campaigns.delete_title"),message:d()("dashboard.campaigns.delete_message"),onConfirm:()=>{at.delete(i),c(Q,!1)}},!0),c(Q,!0)}function Xe(i){c(ce,{title:d()("dashboard.characters.delete_title"),message:d()("dashboard.characters.delete_message"),onConfirm:()=>{me(Ht).forEach(m=>{let C=!1;m.members&&m.members.some($=>$.id===i)&&(m.members=m.members.filter($=>$.id!==i),C=!0),m.sessionRoster&&m.sessionRoster.includes(i)&&(m.sessionRoster=m.sessionRoster.filter($=>$!==i),C=!0),m.activeEnemies&&m.activeEnemies.some($=>$.id===i)&&(m.activeEnemies=m.activeEnemies.filter($=>$.id!==i),C=!0),C&&at.set(m.id,m)}),tt.delete(i),c(Q,!1)}},!0),c(Q,!0)}Gt(()=>{});var be=Fs(),he=t(be),k=t(he),P=t(k),q=t(P);Da(q,{class:"text-indigo-500",size:28}),Te(4),e(P),e(k);var W=a(k,2),se=t(W),xe=t(se),te=a(xe,2);te.__click=()=>c(f,"characters");var ve=t(te);ra(ve,{size:18});var _e=a(ve);e(te);var Ie=a(te,2);Ie.__click=()=>c(f,"campaigns");var oe=t(Ie);Ft(oe,{size:18});var re=a(oe);e(Ie),e(se),e(W);var Y=a(W,2),Le=t(Y),ot=t(Le);ot.__click=()=>c(F,!s(F));var qt=t(ot);Ot(qt,{size:20});var Dt=a(qt,2),ka=t(Dt,!0);e(Dt),e(ot);var Ca=a(ot,2);{var $a=i=>{var h=Ts(),m=le(h),C=t(m);C.__click=()=>z("pt");var $=a(C,2);$.__click=()=>z("en"),e(m);var Ve=a(m,2);Ve.__click=()=>c(F,!1),H(()=>{Se(C,1,`flex items-center gap-2 px-3 py-2 text-sm font-bold rounded-lg ${u()==="pt"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`),Se($,1,`flex items-center gap-2 px-3 py-2 text-sm font-bold rounded-lg ${u()==="en"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-800"}`)}),g(i,h)};D(Ca,i=>{s(F)&&i($a)})}e(Le);var Sa=a(Le,2);zs(Sa,{}),e(Y),e(he);var It=a(he,2),Jt=t(It),Rt=t(Jt),rt=a(Rt,2);rt.__click=()=>c(f,"characters");var Wt=t(rt);{let i=ta(()=>s(f)==="characters"?2.5:2);ra(Wt,{size:20,get strokeWidth(){return s(i)},class:"transition-all duration-300"})}var Xt=a(Wt,2),za=t(Xt,!0);e(Xt),e(rt);var mt=a(rt,2);mt.__click=()=>c(f,"campaigns");var Yt=t(mt);{let i=ta(()=>s(f)==="campaigns"?2.5:2);Ft(Yt,{size:20,get strokeWidth(){return s(i)},class:"transition-all duration-300"})}var Kt=a(Yt,2),Ta=t(Kt,!0);e(Kt),e(mt),e(Jt),e(It);var Et=a(It,2),Ia=t(Et);{var Ea=i=>{var h=Ps(),m=t(h);$t(m,1,v,qe=>qe.id,(qe,Z)=>{var De=Es(),Ye=t(De),Ke=t(Ye),it=t(Ke),xt=t(it,!0);e(it);var Qe=a(it,2),nt=t(Qe),Pt=t(nt,!0);e(nt);var V=a(nt,2),S=t(V);e(V);var ee=a(V,2);{var ie=fe=>{var Ce=Is(),$e=t(Ce);e(Ce),H(()=>p($e,`â€¢ ${s(Z).playerName??""}`)),g(fe,Ce)};D(ee,fe=>{s(Z).playerName&&fe(ie)})}e(Qe);var K=a(Qe,2),ue=t(K),ne=t(ue);St(ne,{size:10});var pe=a(ne);e(ue),e(K),e(Ke);var we=a(Ke,2),ae=t(we);ae.__click=()=>T(s(Z));var ye=t(ae);Ga(ye,{size:16}),e(ae);var ge=a(ae,2);ge.__click=()=>Xe(s(Z).id);var ke=t(ge);sa(ke,{size:16}),e(ge),e(we),e(Ye);var Ee=a(Ye,2),Pe=t(Ee),je=t(Pe),Ne=t(je);Ft(Ne,{size:12});var Ae=a(Ne);e(je);var Me=a(je,2),lt=t(Me,!0);e(Me),e(Pe),e(Ee);var Oe=a(Ee,2);Oe.__click=()=>kt(Ct("/characters/[id]",{id:s(Z).id}));var Ze=t(Oe),Je=a(Ze);ia(Je,{size:14,fill:"currentColor"}),e(Oe),e(De),H((fe,Ce,$e,Re,et,dt)=>{p(xt,s(Z).name),p(Pt,s(Z).ancestry||"Humano"),p(S,`${fe??""} ${s(Z).level??""}`),p(pe,` ${Ce??""}`),He(ae,"title",$e),He(ge,"title",Re),p(Ae,` ${et??""}`),p(lt,s(Z).paths?.novice||"-"),p(Ze,`${dt??""} `)},[()=>d()("common.labels.level"),()=>Mt(s(Z).system).name,()=>d()("common.buttons.settings"),()=>d()("common.buttons.delete"),()=>d()("dashboard.characters.paths"),()=>d()("dashboard.characters.open_sheet")]),g(qe,De)});var C=a(m,2);C.__click=()=>w();var $=t(C),Ve=t($);At(Ve,{size:32}),e($);var bt=a($,2),ht=t(bt,!0);e(bt),e(C),e(h),H(qe=>p(ht,qe),[()=>d()("dashboard.characters.new_character")]),wt(1,h,()=>yt,()=>({x:-100,duration:300,easing:_t})),wt(2,h,()=>yt,()=>({x:-100,duration:300,easing:_t})),g(i,h)},Pa=i=>{var h=Os(),m=t(h),C=t(m);$t(C,1,r,V=>V.id,(V,S)=>{var ee=Ns(),ie=t(ee),K=t(ie),ue=t(K),ne=t(ue,!0);e(ue);var pe=a(ue,2),we=t(pe);{var ae=$e=>{var Re=js(),et=t(Re);Ot(et,{size:10});var dt=a(et);e(Re),H(jt=>p(dt,` ${jt??""}`),[()=>d()("dashboard.campaigns.published")]),g($e,Re)};D(we,$e=>{s(S).isPublished&&$e(ae)})}var ye=a(we,2);ye.__click=()=>X(s(S));var ge=t(ye);Ha(ge,{size:16}),e(ye);var ke=a(ye,2);ke.__click=()=>We(s(S).id);var Ee=t(ke);sa(Ee,{size:16}),e(ke),e(pe),e(K);var Pe=a(K,2),je=t(Pe,!0);e(Pe);var Ne=a(Pe,2),Ae=t(Ne),Me=t(Ae);St(Me,{size:10});var lt=a(Me);e(Ae),e(Ne);var Oe=a(Ne,2),Ze=t(Oe,!0);e(Oe),e(ie);var Je=a(ie,2);Je.__click=()=>kt(Ct("/campaigns/[id]",{id:s(S).id}));var fe=t(Je);ia(fe,{size:18,fill:"currentColor"});var Ce=a(fe);e(Je),e(ee),H(($e,Re,et,dt,jt,Na)=>{p(ne,s(S).name),He(ye,"title",$e),He(ke,"title",Re),p(je,et),p(lt,` ${dt??""}`),p(Ze,jt),p(Ce,` ${Na??""}`)},[()=>d()("common.buttons.edit"),()=>d()("common.buttons.delete"),()=>s(S).gmName||d()("common.labels.master"),()=>Mt(s(S).system||ze).name,()=>s(S).description||d()("dashboard.campaigns.no_description"),()=>d()("dashboard.campaigns.start_session")]),g(V,ee)});var $=a(C,2);$.__click=()=>X();var Ve=t($),bt=t(Ve);At(bt,{size:32}),e(Ve);var ht=a(Ve,2),qe=t(ht,!0);e(ht),e($),e(m);var Z=a(m,2),De=t(Z),Ye=a(t(De),2),Ke=t(Ye);Ot(Ke,{size:14});var it=a(Ke);e(Ye),Te(2),e(De);var xt=a(De,2),Qe=t(xt);$t(Qe,1,x,V=>V.id,(V,S)=>{var ee=As(),ie=t(ee),K=t(ie),ue=t(K,!0);e(K);var ne=a(K,2),pe=t(ne),we=t(pe,!0);e(pe);var ae=a(pe,2),ye=a(t(ae));e(ae),e(ne);var ge=a(ne,2),ke=t(ge),Ee=t(ke);St(Ee,{size:10});var Pe=a(Ee);e(ke),e(ge);var je=a(ge,2),Ne=t(je,!0);e(je),e(ie);var Ae=a(ie,2);Ae.__click=()=>kt(Ct("/campaigns/[id]/invite",{id:s(S).id}));var Me=t(Ae),lt=a(Me);At(lt,{size:18,class:"group-hover:rotate-90 transition-transform"}),e(Ae),e(ee),H((Oe,Ze,Je,fe,Ce)=>{p(ue,s(S).name),p(we,Oe),p(ye,` ${Ze??""}`),p(Pe,` ${Je??""}`),p(Ne,fe),p(Me,`${Ce??""} `)},[()=>s(S).gmName||d()("common.labels.master"),()=>d()("dashboard.campaigns.online"),()=>Mt(s(S).system||ze).name,()=>s(S).description||d()("dashboard.campaigns.public_description"),()=>d()("dashboard.campaigns.join_adventure")]),g(V,ee)});var nt=a(Qe,2);{var Pt=V=>{var S=Ms(),ee=t(S),ie=t(ee);qa(ie,{size:32}),e(ee);var K=a(ee,2),ue=t(K,!0);e(K);var ne=a(K,2),pe=t(ne,!0);e(ne),e(S),H((we,ae)=>{p(ue,we),p(pe,ae)},[()=>d()("dashboard.campaigns.no_online_campaigns"),()=>d()("dashboard.campaigns.no_online_description")]),g(V,S)};D(nt,V=>{x().length===0&&V(Pt)})}e(xt),e(Z),e(h),H((V,S)=>{p(qe,V),p(it,` ${S??""}`)},[()=>d()("dashboard.campaigns.new_campaign"),()=>d()("dashboard.campaigns.public_campaigns")]),wt(1,h,()=>yt,()=>({x:100,duration:300,easing:_t})),wt(2,h,()=>yt,()=>({x:100,duration:300,easing:_t})),g(i,h)};D(Ia,i=>{s(f)==="characters"?i(Ea):i(Pa,!1)})}e(Et);var Qt=a(Et,2);ns(Qt,{get isOpen(){return s(de)},get initialData(){return s(G)},onClose:()=>c(de,!1),onSave:_});var Zt=a(Qt,2);Ja(Zt,{get isOpen(){return s(I)},get initialData(){return s(E)},onClose:()=>c(I,!1),onSave:Ue});var ea=a(Zt,2);La(ea,{get isOpen(){return s(Q)},get title(){return s(ce).title},get message(){return s(ce).message},get onConfirm(){return s(ce).onConfirm},onCancel:()=>c(Q,!1)});var ja=a(ea,2);ds(ja,{get isOpen(){return s(U)},get characterData(){return s(M)},onClose:()=>c(U,!1),onSave:B}),e(be),H((i,h,m,C,$)=>{aa(xe,`transform: translateX(${s(f)==="campaigns"?"100%":"0%"})`),Se(te,1,`relative z-10 px-6 py-2.5 rounded-xl text-sm font-bold transition-all duration-300 flex items-center gap-2 ${s(f)==="characters"?"text-white":"text-slate-400 hover:text-white"}`),p(_e,` ${i??""}`),Se(Ie,1,`relative z-10 px-6 py-2.5 rounded-xl text-sm font-bold transition-all duration-300 flex items-center gap-2 ${s(f)==="campaigns"?"text-white":"text-slate-400 hover:text-white"}`),p(re,` ${h??""}`),He(ot,"title",m),p(ka,u()==="pt"?"PT":"EN"),aa(Rt,`transform: translateX(${s(f)==="campaigns"?"100%":"0%"})`),Se(rt,1,`relative flex-1 py-3 rounded-xl text-xs font-bold transition-all duration-300 flex flex-col items-center justify-center gap-1 z-10 ${s(f)==="characters"?"text-indigo-400":"text-slate-500"}`),p(za,C),Se(mt,1,`relative flex-1 py-3 rounded-xl text-xs font-bold transition-all duration-300 flex flex-col items-center justify-center gap-1 z-10 ${s(f)==="campaigns"?"text-indigo-400":"text-slate-500"}`),p(Ta,$)},[()=>d()("dashboard.tabs.characters"),()=>d()("dashboard.tabs.campaigns"),()=>d()("common.labels.language")||"Language",()=>d()("dashboard.tabs.characters"),()=>d()("dashboard.tabs.campaigns")]),g(l,be),gt(),N()}ft(["click"]);var Gs=b("<!> <!>",1);function oo(l){var o=Gs(),n=le(o);as(n,{});var v=a(n,2);Bs(v,{}),g(l,o)}export{oo as component};
